(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"7Sg1":function(e,t,n){e.exports=n("DUnB")},CyHH:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return D}));n("BqyK");var r=n("r0ML"),i=n("cNRa"),o=n.n(i),a=n("hqzR"),c=n.n(a),s=n("P5qc"),l=n("qX1Z"),u=n("BiNK"),p=n("XrqZ"),d=n("E2ph"),b=n("8nAZ"),f=n("ZUbM"),m=n("uNgz"),g=n("EOzB"),O=n("+9af"),y=n("xH0s");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t=e.entry,n=e.isLoggedIn,i=e.hasActiveSubscriptions,o=e.hasCanceledSubscriptions,a=e.trackNavigationGetStartedClick;return Object(y.e)(r.Fragment,null,Object(y.e)("div",{css:j.stickyBorder}),Object(y.e)("div",{css:j.buttonWrapper},Object(y.e)(d.c,h({"data-funnel-cta":!0,element:b.Link,kind:m.BUTTON_TYPE.primary},function(e,t,n,r){return t?{action:{type:g.ROUTE_MY_MENU}}:n?{href:g.PATH_PLAN_REACTIVATION,onClick:function(){return r("reactivation")}}:e?{action:{type:g.ROUTE_CHECKOUT,payload:{page:g.PAGE_DELIVERY}},onClick:function(){return r("checkout-address")}}:{action:{type:g.ROUTE_PLANS}}}(n,i,o,a)),t.getField("title"))),Object(y.e)("div",{css:j.wrapper},Object(y.e)(O.Container,null,Object(y.e)("p",{css:j.description},t.getField("contentMarkdown")))))};v.propTypes={entry:o.a.object,isLoggedIn:o.a.bool,hasActiveSubscriptions:o.a.bool,hasCanceledSubscriptions:o.a.bool,trackNavigationGetStartedClick:o.a.func.isRequired};var j={wrapper:{textAlign:"center"},description:function(e){return{margin:"".concat(e.spacing.xs,"px 0 ").concat(e.spacing.lg,"px 0")}},buttonWrapper:function(e){return{backgroundColor:e.pageLayout.main.backgroundColor,position:"sticky",padding:"".concat(e.spacing.xs,"px 0"),bottom:"0vw",textAlign:"center",zIndex:2}},stickyBorder:function(e){return{position:"sticky",bottom:"66px",height:"2px",marginTop:"".concat(e.spacing.xxs,"px"),marginBottom:"-2px",backgroundColor:e.palettes.grey.light}}},x=c()(Object(f.connect)((function(){return g.CONTENT_RECIPE_DETAIL_CTA})),Object(s.connect)({trackNavigationGetStartedClick:s.trackNavigationGetStartedClick}),Object(l.a)((function(e){return{isLoggedIn:Object(u.e)(e),hasActiveSubscriptions:Object(p.Q)(e),hasCanceledSubscriptions:Object(p.S)(e)}})))(v),E=n("g0xT"),C=n("Q33P"),S=n.n(C),w=n("Hjel"),I=n("v99J"),R=function(e){var t=e.tags,n=e.dataAttr,r=function(e,t){return e.filter((function(e){var n=e.type;return t.indexOf(n)<0}))}(t||[],Object(E.d)(w.B));return S()(r)?null:Object(y.e)("div",{css:P.container},r.map((function(e,t){return Object(y.e)(I.RecipeLabel,{key:t,tag:e,dataAttr:n})})))};R.propTypes={tags:o.a.array,dataAttr:o.a.string};var P={container:{display:"flex",flexWrap:"wrap"}},T=n("cccp"),A=n("zOg4"),k=n("6puf"),D=function(e){var t=e.week,n=e.recipeId,r=Object(E.d)((function(e){return Object(T.f)(e,{week:t,recipeId:n})}))||{},i=Object(E.d)(k.h);return{surcharge:Object(A.p)(r,i)}}},DUnB:function(e,t,n){"use strict";n.r(t),n.d(t,"RecipePremiumLabel",(function(){return P})),n.d(t,"PremiumLabel",(function(){return w}));n("BqyK");var r=n("r0ML"),i=n("cNRa"),o=n.n(i),a=n("uNgz"),c=n("3xgL"),s=n("vDqJ"),l=n("b7bP"),u=n("8mJ1"),p=n("VNRr"),d=n("E2ph"),b=n("qkWD"),f=n("ZUbM");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=n("xH0s"),y=function(e){var t=e.isOpen,n=e.tooltipRef,r=e.content,i=e.position,o=e.align,a=i===d.k.bottom?d.j.right:d.j.left;return Object(O.e)(d.n,{align:o||a,isOpen:t,position:i,width:200,tooltipRef:n},r)};y.propTypes={isOpen:o.a.bool,tooltipRef:o.a.object,content:o.a.string,position:o.a.oneOf(Object.values(d.k)),align:o.a.oneOf(Object.values(d.j))};var h=y;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){var t=e.className,n=e.enableSmall,i=e.label,o=e.tooltipAlign,a=Object(p.a)(),g=Object(s.a)({trackPremiumInfoIconClick:l.a}),y=Object(c.b)(),v=Object(d.y)(),j=v.tooltipRef,x=v.buttonRef,E=v.openTooltip,w=v.isTooltipOpen,I="sm"===a?"bottom":"top",R=function(e){var t=m(Object(f.useContentful)([f.POPOVER_CONTENT_PREMIUM,f.POPOVER_CONTENT_PREMIUM_PLUS,f.POPOVER_CONTENT_HOLIDAY_PREMIUM,f.POPOVER_CONTENT_15_MIN_MEAL,f.POPOVER_CONTENT_BBQ,f.POPOVER_CONTENT_PROTEIN_PACK,f.POPOVER_CONTENT_CELEBRATION,f.POPOVER_CONTENT_BALANCED]),8),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5],s=t[6],l=t[7];switch(e){case b.o.premium:return n;case b.o.premiumPlus:return r;case b.o.holidayPremium:return i;case b.o.fifteenPremium:return o;case b.o.bbq:return a;case b.o.proteinPack:return c;case b.o.celebration:return s;case b.o.balanced:return l;default:return null}}(i.handle);return Object(O.e)(r.Fragment,null,Object(O.e)("a",{tabIndex:0,role:"button",ref:x,className:t,onClick:function(){g.trackPremiumInfoIconClick(),E()},"data-premium-recipe-label":!0,css:S.container({enableSmall:n,label:i})},Object(O.e)("span",{css:S.text({enableSmall:n})},i.text),R&&Object(O.e)(r.Fragment,null,Object(O.e)(u.InfoTipIcon,{width:14,height:14,color:y.labels.icon.color,css:S.info({enableSmall:n}),strokeColor:C({label:i,theme:y})}),Object(O.e)(h,{labelHandle:i.handle,isOpen:w,position:I,align:o,tooltipRef:j,content:R}))))};E.propTypes={tooltipAlign:o.a.oneOf(Object.values(d.j)),enableSmall:o.a.bool,className:o.a.string,label:o.a.shape({handle:o.a.string,text:o.a.string,backgroundColor:o.a.string}).isRequired};var C=function(e){var t=e.label,n=e.theme;switch(t.handle){case b.o.premium:return n.labels[b.o.premium].backgroundColor;case b.o.premiumPlus:return n.labels[b.o.premiumPlus].backgroundColor;default:return t.backgroundColor}},S={container:function(e){var t=e.enableSmall,n=e.label;return function(e){var r;return j(j({display:"flex",position:"relative",flexDirection:"row",alignItems:"center",backgroundColor:C({label:n,theme:e}),color:n.foregroundColor,borderTopLeftRadius:"".concat(e.borderRadius.sm,"px"),borderBottomLeftRadius:"".concat(e.borderRadius.sm,"px"),borderTopRightRadius:"".concat(e.borderRadius.lg,"px"),borderBottomRightRadius:"".concat(e.borderRadius.lg,"px"),padding:"0 ".concat(e.spacing.xxs,"px"),height:"18px",cursor:"pointer",outline:"none"},t&&x({},a.MEDIA_BREAKPOINTS.only("sm"),{borderTopRightRadius:"".concat(e.borderRadius.lg,"px"),borderBottomRightRadius:"".concat(e.borderRadius.lg,"px"),padding:"0 ".concat(e.spacing.xxs/2,"px 0 ").concat(e.spacing.xxs,"px"),height:"18px"})),{},(x(r={},t?a.MEDIA_BREAKPOINTS.md:a.MEDIA_BREAKPOINTS.sm,{height:"22px",padding:"0 ".concat(e.spacing.xxs,"px 0 ").concat(e.spacing.xs,"px"),borderTopRightRadius:"".concat(e.borderRadius.xl,"px"),borderBottomRightRadius:"".concat(e.borderRadius.xl,"px")}),x(r,a.MEDIA_BREAKPOINTS.lg,{height:"24px",padding:"0 ".concat(e.spacing.xs,"px 0 ").concat(e.spacing.xs,"px")}),x(r,":hover",{color:n.foregroundColor}),r))}},text:function(e){var t=e.enableSmall;return function(e){return j(j(j({},e.labels.text),t?x({},a.MEDIA_BREAKPOINTS.only("sm"),{fontSize:e.typography.small.fontSize.sm}):x({},a.MEDIA_BREAKPOINTS.sm,{fontSize:e.typography.h5.fontSize.sm})),{},x({},a.MEDIA_BREAKPOINTS.lg,{fontSize:e.typography.h5.fontSize.sm}))}},plusIcon:{display:"flex"},info:function(e){var t=e.enableSmall;return function(e){return j({cursor:"pointer",marginLeft:e.spacing.xxs},t&&x({},a.MEDIA_BREAKPOINTS.down("md"),{top:"1px",right:0}))}}},w=E;var I=function(e){var t=e.enableSmall,n=e.label;return n?Object(O.e)(w,{css:R.premLabel(t),label:n,tooltipAlign:"left"}):null};I.propTypes={label:o.a.object,enableSmall:o.a.bool};var R={premLabel:function(e){return t={zIndex:"2",position:"absolute"},n=e?a.MEDIA_BREAKPOINTS.md:a.MEDIA_BREAKPOINTS.sm,r={bottom:"4px",left:"-4px"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}},P=I},WDeb:function(e,t,n){e.exports=n("bKuu")},bKuu:function(e,t,n){"use strict";n.r(t),n.d(t,"ExitIntent",(function(){return E})),n.d(t,"ExitIntentVoucher",(function(){return de})),n.d(t,"useIntents",(function(){return $.a})),n.d(t,"useExitIntentContent",(function(){return ne}));var r=n("r0ML"),i=n("cNRa"),o=n.n(i),a=n("2FGo"),c=n.n(a),s=n("h7kv"),l=n.n(s),u=n("7F61"),p=n("R8My"),d=n("6puf"),b=n("89Nc");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,r,i=O(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),j(h(t=i.call(this,e)),"switchToMouse",(function(e){t.spy.isTouch&&e.movementY&&(t.spy.isTouch=!1)})),j(h(t),"switchToTouch",(function(){t.spy.isTouch||(t.spy.isTouch=!0)})),j(h(t),"onMouseMove",(function(e){if(t.spy.mouse.prev=t.spy.mouse.current,t.spy.mouse.current=e.clientY,!t.spy.isTouch){var n=t.spy.mouse.prev&&t.spy.mouse.prev>t.spy.mouse.current,r=t.spy.mouse.current<t.options.threshold.mouse;n&&r&&t.isActivateAfterTimestampReached&&t.triggerExitIntent()}})),j(h(t),"onScroll",(function(){if(t.spy.scroll.prev=t.spy.scroll.current,t.spy.scroll.current=window.scrollY>0?window.scrollY:0,t.spy.isTouch){var e=t.spy.scroll.prev&&t.spy.scroll.prev>t.spy.scroll.current,n=t.spy.scroll.current<t.options.threshold.scroll;e&&n&&t.isActivateAfterTimestampReached&&t.triggerExitIntent()}})),t.options=c()({threshold:{mouse:20,scroll:150},throttle:{mouse:500,scroll:500}},e.options),t.spy={isTouch:!0,mouse:{prev:null,current:null},scroll:{prev:null,current:null}},t.state={exitIntentDone:!1},t}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.isEnabled&&this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.props.isEnabled&&this.removeEventListeners()}},{key:"addEventListeners",value:function(){window.addEventListener("mousemove",this.switchToMouse),window.addEventListener("touchstart",this.switchToTouch),this.onMouseMoveThrottle=l()(this.onMouseMove,this.options.throttle.mouse),window.addEventListener("mousemove",this.onMouseMoveThrottle),this.onScrollThrottle=l()(this.onScroll,this.options.throttle.scroll),window.addEventListener("scroll",this.onScrollThrottle)}},{key:"removeEventListeners",value:function(){window.removeEventListener("mousemove",this.switchToMouse),window.removeEventListener("touchstart",this.switchToTouch),window.removeEventListener("mousemove",this.onMouseMoveThrottle),window.removeEventListener("scroll",this.onScrollThrottle)}},{key:"triggerExitIntent",value:function(){this.setState({exitIntentDone:!0}),Object(b.toggleFomoBadges)(!1),this.props.trackImpression(),this.removeEventListeners()}},{key:"render",value:function(){return this.state.exitIntentDone?this.props.children:null}},{key:"isActivateAfterTimestampReached",get:function(){return this.props.exitIntentActivateAfterTimestamp<Date.now()}}])&&m(t.prototype,n),r&&m(t,r),o}(r.Component);x.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,options:o.a.object,isEnabled:o.a.bool,exitIntentActivateAfterTimestamp:o.a.number.isRequired,trackImpression:o.a.func.isRequired};var E=Object(u.connect)((function(e){return{isEnabled:!Object(d.g)(e)&&!Object(p.v)(e),exitIntentActivateAfterTimestamp:Object(d.c)(e)+1e3*Object(p.u)(e)}}))(x),C=(n("BqyK"),n("p5oe")),S=n("06tH"),w=n.n(S),I=n("P5qc"),R=n("sUbC"),P=n("g0xT"),T=n("EOzB"),A=n("hDs/"),k=n("uNgz"),D=n("E2ph"),_=n("viVp"),N=n("qOoS"),M=n("fl6+"),B=n("rYfo"),L=n("mEBQ"),K=n("mFuM");function z(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}var q=function(e,t){return{type:L.a,meta:{code:e},payload:t}},F=function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,i){var o,a,c,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.gwClient,a=!!Object(K.a)(e)(r()),t.prev=2,!a){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Object(M.a)(o,e);case 7:c=t.sent,s=c.data,l=Object(B.a)(s),n(q(e,l)),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(2);case 15:case"end":return t.stop()}}),t,null,[[2,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){z(o,r,i,a,c,"next",e)}function c(e){z(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}()},U=n("Hjel"),H=function(){var e=Object(P.d)(p.w);return{isDisabled:Object(P.d)(p.v),products:Object(P.d)(U.h),configurationVoucherCode:e}},G=n("xH0s");function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){var t=e.content,n=e.onSubmit,i=e.onCancel,o=Object(P.c)(),a=H().configurationVoucherCode;return Object(r.useEffect)((function(){o(F(a))}),[]),Object(G.e)(_.Modal,{css:W.modal,onRequestClose:i,isOpen:!0},Object(G.e)(N.BackgroundImage,{css:W.image,imageUrl:t.imageUrl}),Object(G.e)("h2",{css:W.title},t.title),t.subtitle&&Object(G.e)("div",{css:W.subtitle},Object(G.e)(A.a,null,t.subtitle)),Object(G.e)("div",{css:W.buttonsGroup},Object(G.e)(D.c,{"data-exit-intent-submit":!0,onClick:n,kind:k.BUTTON_TYPE.primary,css:W.button,"aria-label":t.buttonSubmit},t.buttonSubmit),t.buttonCancel&&Object(G.e)("a",{role:"button","data-exit-intent-cancel":!0,onClick:i,css:W.cancelButton,tabIndex:"0","aria-label":t.buttonCancel},t.buttonCancel)))};Y.propTypes={content:o.a.shape({title:o.a.string.isRequired,subtitle:o.a.string.isRequired,imageUrl:o.a.string.isRequired,buttonSubmit:o.a.string.isRequired,buttonCancel:o.a.string}).isRequired,onSubmit:o.a.func.isRequired,onCancel:o.a.func.isRequired};var W={modal:function(e){return V({width:"388px !important",textAlign:"center",borderRadius:e.borderRadius.lg},k.MEDIA_BREAKPOINTS.lg,{width:"424px !important"})},image:function(e){var t;return V(t={height:"166px",margin:"-".concat(e.spacing.md,"px -").concat(e.spacing.sm,"px ").concat(e.spacing.md,"px -").concat(e.spacing.sm,"px"),borderRadius:"".concat(e.borderRadius.lg,"px ").concat(e.borderRadius.lg,"px 0 0"),backgroundPosition:"center",backgroundSize:"cover",overflow:"hidden"},k.MEDIA_BREAKPOINTS.md,{margin:"-".concat(e.spacing.md,"px -").concat(e.spacing.md,"px ").concat(e.spacing.lg,"px")}),V(t,k.MEDIA_BREAKPOINTS.lg,{height:e.exitIntent.modalImageHeightLg}),t},title:function(e){var t;return V(t={marginBottom:e.spacing.xxs,fontSize:e.typography.h2.fontSize.sm,textTransform:"none",lineHeight:"32px"},k.MEDIA_BREAKPOINTS.md,{marginBottom:e.spacing.xs}),V(t,k.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.xs,fontSize:e.typography.h2.fontSize.lg}),t},subtitle:function(e){var t;return V(t={marginBottom:e.spacing.sm,fontSize:e.typography.h4.fontSize.sm,lineHeight:"1.5"},k.MEDIA_BREAKPOINTS.md,{marginBottom:e.spacing.md}),V(t,k.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.lg}),t},buttonsGroup:function(e){return{display:"flex",flexDirection:"column",alignItems:"center","> button:nth-of-type(1)":{marginBottom:e.spacing.sm}}},button:function(e){var t;return V(t={flex:"0 0 100%",fontSize:e.typography.h4.fontSize.sm,paddingLeft:e.spacing.lg,paddingRight:e.spacing.lg},k.MEDIA_BREAKPOINTS.md,{flex:"1 1 auto",marginLeft:e.spacing.xs,marginRight:e.spacing.xs,marginBottom:0}),V(t,k.MEDIA_BREAKPOINTS.lg,{marginLeft:e.spacing.sm,marginRight:e.spacing.sm}),t},cancelButton:{textDecoration:"underline"}},Z=Y,X=n("99Vi"),J=n("BiNK"),$=n("2wCQ"),Q=n("tlF4"),ee=n("M1E+"),te=n("ZUbM"),ne=function(){var e=Object(Q.useFormattedCurrency)(),t=Object($.a)().isVoucherApplied,n=Object(ee.a)(),r=e({value:n,minimumFractionDigits:n%1==0?0:2}),i=Object(P.d)(R.n),o=Object(te.useContentfulLegacy)((function(){return t?T.CONTENT_EXIT_INTENT_VOUCHER_REMIND:T.CONTENT_EXIT_INTENT_VOUCHER_OFFER})).entry;return{getContent:function(){var e,n;return{title:o.getField("title"),subtitle:t?(e=i>1?"".concat(i," first deliveries"):"first delivery",n=i>1?"a total of ".concat(r):r,Object(Q.interpolateString)(o.getField("subtitle"),{amount:n,deliveries:e})):o.getField("subtitle"),imageUrl:o.getFieldFileUrl("image"),buttonSubmit:o.getField("additional").buttonSubmit,buttonCancel:o.getField("additional").buttonCancel}}}},re=n("B42D"),ie=n.n(re);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(){var e=Object(P.c)(),t=Object(I.useTracking)({trackExitIntentImpression:I.trackExitIntentImpression,trackExitIntentAccept:I.trackExitIntentAccept,trackExitIntentReject:I.trackExitIntentReject}),n=se(Object(r.useState)(!1),2),i=n[0],o=n[1],a=H(),c=a.products,s=a.configurationVoucherCode,l=ne().getContent,u=function(){var e=H().configurationVoucherCode,t=Object($.a)(),n=t.isVoucherApplied,r=t.verifiedVoucher,i=Object(P.d)(Object(K.a)(e))||{},o=n?r:i,a=n?"existing":"new";return{voucherType:o.discountType||"",voucherValue:ie()(o,["boxRules",0,"discountValue"],""),affectedBoxes:o.boxCount||"",code:o.code,existing:a,voucherFetchType:"applied"}}(),p=function(e){var t=e.isDone,n=Object($.a)().isVoucherApplied,r=Object(P.d)(C.H),i=Object(P.d)(X.g),o=Object(P.d)(X.n)||i,a=!w.a.get(T.COOKIE_EXIT_INTENT_DONE)&&!r&&!t&&o;return{isVoucherApplied:n,isLoggedIn:Object(P.d)(J.e),isPlansPage:Object(P.d)(X.g),page:Object(I.mapLocationToPage)(Object(P.d)(X.p)),shouldUseExitIntent:a}}({isDone:i}),d=p.isVoucherApplied,f=p.isLoggedIn,m=p.page,g=p.shouldUseExitIntent,O=function(){o(!0),w.a.set(T.COOKIE_EXIT_INTENT_DONE,!0,{expires:1/12}),Object(b.toggleFomoBadges)()};return{shouldUseExitIntent:g,ModalComponent:Z,getContent:l,onSubmit:function(){t.trackExitIntentAccept(ae({acceptType:d?"existing":"new"},u)),!d&&s&&e(Object(R.c)({voucherCode:s,products:c})),e({type:f?T.ROUTE_CHECKOUT:T.ROUTE_PLANS,payload:{page:f?T.PAGE_DELIVERY:T.PAGE_PLANS}}),O()},onCancel:function(){t.trackExitIntentReject(u),O()},trackExitIntentImpression:function(){return t.trackExitIntentImpression(ae({page:m},u))}}},pe=function(){var e=ue(),t=e.shouldUseExitIntent,n=e.ModalComponent,r=e.getContent,i=e.onSubmit,o=e.onCancel,a=e.trackExitIntentImpression;return t?Object(G.e)(E,{trackImpression:a},Object(G.e)(n,{content:r(),onSubmit:i,onCancel:o})):null},de=function(){return Object(C.I)().isCustomer?null:Object(G.e)(pe,null)}},v99J:function(e,t,n){"use strict";n.r(t),n.d(t,"RecipeCard",(function(){return Te})),n.d(t,"RecipeLabel",(function(){return Me})),n.d(t,"HomePageRecipeCard",(function(){return Ue})),n.d(t,"HomePageRecipeCardVariantA",(function(){return We})),n.d(t,"RecipeRatingCard",(function(){return Ct})),n.d(t,"ViewRecipeCard",(function(){return At})),n.d(t,"EditAddOnCard",(function(){return ln})),n.d(t,"ViewAddOnCard",(function(){return pn})),n.d(t,"EditRecipeCard",(function(){return ir}));n("BqyK");var r=n("r0ML"),i=n("cNRa"),o=n.n(i),a=n("ZUbM"),c=n("EOzB"),s=n("uNgz"),l=n("X2+A"),u=n("7Sg1"),p=n("qkWD"),d=n("abLG"),b=n("xH0s");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=function(e){var t=e.recipe,n=e.disabled,r=e.disableSmall,i=e.isCustomized,o=e.children,a=O(e,["recipe","disabled","disableSmall","isCustomized","children"]);if(!t)return null;var c=t.id;return Object(b.e)(d.Card,g({"data-recipe-card":c,isDisabled:n,css:h.recipeContainer({disableSmall:r,isCustomized:i})},a),o)};y.propTypes={recipe:o.a.object.isRequired,children:o.a.any,disabled:o.a.bool,disableSmall:o.a.bool,isCustomized:o.a.bool},y.defaultProps={disabled:!1};var h={recipeContainer:function(e){var t=e.disableSmall,n=e.isCustomized;return function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(m({position:"relative",width:"100%",borderRadius:e.card.primary.borderRadius,transition:"all 0.3s ease-in-out"},s.MEDIA_BREAKPOINTS.up("sm"),{boxShadow:e.recipeCard.boxShadow,"&:hover":{boxShadow:e.recipeCard.boxShadowHover}}),!t&&!n&&m({},s.MEDIA_BREAKPOINTS.only("sm"),{paddingBottom:e.spacing.st}))}},recipeLink:function(e){return e.disableSmall?m({},s.MEDIA_BREAKPOINTS.only("sm"),{flexGrow:"0 !important"}):{}}},v=y,j=n("Kbx7"),x=n("3xgL"),E=n("CyHH"),C=n("vo1p");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){var t=e.prepTime;return t?Object(b.e)("span",{"data-recipe-card-preparation-time":!0,css:I.preparationTime},Object(C.formatPreparationTime)(t)):null};w.propTypes={prepTime:o.a.string};var I={preparationTime:function(e){var t;return S(t={color:e.recipeCard.secondaryColor,fontSize:"".concat(s.FONT_SIZE.body.sm,"px"),fontWeight:s.FONT_WEIGHT.bold,fontFamily:e.typography.body.fontFamily},s.MEDIA_BREAKPOINTS.sm,{fontSize:"".concat(s.FONT_SIZE.small.sm,"px")}),S(t,"marginRight",e.spacing.xs),S(t,s.MEDIA_BREAKPOINTS.lg,{marginRight:e.spacing.st}),t}},R=w;function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var k=function(e){var t=e.premiumSurcharge,n=A(e,["premiumSurcharge"]);return Object(b.e)("div",T({css:D.premPrice},n),t)};k.propTypes={premiumSurcharge:o.a.string};var D={premPrice:function(e){var t;return P(t={fontWeight:"bold",color:e.recipeCard.secondaryColor,marginLeft:0,fontSize:"".concat(s.FONT_SIZE.small.sm,"px")},s.MEDIA_BREAKPOINTS.down("md"),{fontSize:"12px"}),P(t,s.MEDIA_BREAKPOINTS.sm,{marginLeft:e.spacing.xxs}),t}},_=k,N=n("8nAZ");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){var t=e.disableRecipeLink,n=e.recipe,i=e.children,o=e.className,a=e.trackLinkClick,s=e.week;if(t)return Object(b.e)(r.Fragment,null,i);var l=n.slug,u=void 0===l?"":l,p=n.id,d=void 0===p?"":p;return Object(b.e)(N.Link,{action:B({type:c.ROUTE_RECIPE_DETAIL,payload:{recipeId:"".concat(u,"-").concat(d)}},!!s&&{query:{week:s}}),css:z.link,className:o,onClick:a},i)};K.propTypes={disableRecipeLink:o.a.bool,recipe:o.a.object.isRequired,children:o.a.any,className:o.a.string,trackLinkClick:o.a.func,week:o.a.string},K.defaultProps={disableRecipeLink:!1};var z={link:{flexGrow:1}},q=K,F=n("XrqZ"),U=function(e){var t=e.recipeId,n=e.children,i=e.className,o=e.week,a=Object(F.gb)().isActive;return t&&a?Object(b.e)(N.Link,{"aria-label":"view recipe",action:{type:c.ROUTE_MENU_VIEW,payload:{week:o},query:{recipeId:t}},css:H.link,className:i},n):Object(b.e)(r.Fragment,null,n)};U.propTypes={recipeId:o.a.string.isRequired,className:o.a.string,week:o.a.string,children:o.a.node};var H={link:{flexGrow:1}},G=U;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){var t=e.title,n=e.headline,i=e.titleStyles,o=e.hideHeadline,a=e.headlineStyles,c=Object(x.b)();return Object(b.e)(r.Fragment,null,Object(b.e)("h4",{"data-recipe-card-title":!0,css:Object(j.a)([X.title(c),i],""),title:t},t),!o&&Object(b.e)("p",{"data-recipe-card-headline":!0,css:Object(j.a)([X.headline(c),a],"")},n))};W.propTypes={headline:o.a.string,title:o.a.string,hideHeadline:o.a.bool,titleStyles:o.a.object,headlineStyles:o.a.object};var Z,X={title:function(e){var t;return Y(t={fontSize:e.typography.h5.fontSize.sm,color:e.recipeCard.primaryColor,width:"100%",margin:0},s.MEDIA_BREAKPOINTS.sm,{marginBottom:e.spacing.xs,marginTop:e.spacing.xs}),Y(t,s.MEDIA_BREAKPOINTS.md,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({marginBottom:e.spacing.xxs,marginTop:0,flex:"0 0 auto"},s.TOOLS.ellipsify)),t},headline:function(e){return Y({color:e.recipeCard.primaryColor,marginRight:e.spacing.xs,marginBottom:e.spacing.xxs,transition:"min-height 0.2s",fontSize:e.typography.small.fontSize.sm,lineHeight:"".concat(e.typography.small.lineHeight.sm,"px")},s.MEDIA_BREAKPOINTS.sm,{overflow:"hidden",maxHeight:"35px"})}};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){var t=e.hideHeadline,n=e.showSurcharge,r=e.premiumSurcharge,i=e.enableSmall,o=e.disableRecipeLink,a=e.recipe,c=e.week,d=e.trackRecipeClick,f=e.className,m=e.hidePrepTime,g=e.isCustomizable,O=void 0!==g&&g,y=e.enableRecipeModal,h=i&&Object(p.u)(a),v=Object(x.b)();return Object(b.e)("div",{css:te.container,className:f},Object(b.e)(l.RenderAtBreakpoint,{renderAtBreakpoints:[s.BREAKPOINT_KEYS.sm]},Object(b.e)("div",{css:te.premiumInfo},h&&Object(b.e)(u.PremiumLabel,{label:a.label,enableSmall:i}),n&&Object(b.e)(_,{premiumSurcharge:r,"data-premium-surcharge":!0}))),y?Object(b.e)(G,{week:c,recipeId:a.id},Object(b.e)(W,{headline:a.headline,title:a.name,hideHeadline:t,titleStyles:te.titleStyles({showSurcharge:n})(v),headlineStyles:te.headlineStyles({isCustomizable:O})(v)})):Object(b.e)(q,{disableRecipeLink:o,recipe:a,week:c,trackLinkClick:d},Object(b.e)(W,{headline:a.headline,title:a.name,hideHeadline:t,titleStyles:te.titleStyles({showSurcharge:n})(v),headlineStyles:te.headlineStyles({isCustomizable:O})(v)})),Object(b.e)("div",{css:Object(j.a)([te.bottomContainer,te.flexCenter],"")},Object(b.e)("div",{css:Object(j.a)([te.flexCenter,te.recipeTags],"")},Object(b.e)(R,{prepTime:m?null:a.prepTime}),Object(b.e)(E.b,{tags:a.tags,dataAttr:"recipe-card"})),n&&Object(b.e)(l.RenderAtBreakpoint,{renderAtBreakpoints:[s.BREAKPOINT_KEYS.md,s.BREAKPOINT_KEYS.lg]},Object(b.e)(_,{premiumSurcharge:r,"data-premium-surcharge":!0}))))};ee.propTypes={className:o.a.string,showSurcharge:o.a.bool,premiumSurcharge:o.a.string,enableSmall:o.a.bool,disableRecipeLink:o.a.bool,trackRecipeClick:o.a.func,week:o.a.string,recipe:o.a.shape({id:o.a.string,tags:o.a.array,prepTime:o.a.string,headline:o.a.string,name:o.a.string,label:o.a.shape({handle:o.a.string,name:o.a.string})}).isRequired,isCustomizable:o.a.bool,hidePrepTime:o.a.bool,hideHeadline:o.a.bool,enableRecipeModal:o.a.bool},ee.defaultProps={isSpicy:!1,showSurcharge:!1};var te={container:{width:"100%"},titleStyles:function(e){var t=e.showSurcharge;return function(e){return $({},t&&Q({},s.MEDIA_BREAKPOINTS.sm,{marginBottom:e.spacing.xxs}))}},headlineStyles:function(e){var t=e.isCustomizable;return function(e){var n;return $({},t?Q({},s.MEDIA_BREAKPOINTS.md,$({},s.TOOLS.ellipsify)):(Q(n={},s.MEDIA_BREAKPOINTS.md,{height:"0",flex:"0 0 auto",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",minHeight:"40px"}),Q(n,s.MEDIA_BREAKPOINTS.lg,{minHeight:"48px"}),n))}},bottomContainer:(Z={width:"100%"},Q(Z,s.MEDIA_BREAKPOINTS.only("sm"),{minHeight:"20px"}),Q(Z,s.MEDIA_BREAKPOINTS.only("md"),{flexWrap:"wrap"}),Z),flexCenter:{display:"flex",alignItems:"center",justifyContent:"space-between"},recipeTags:Q({flexWrap:"wrap"},s.MEDIA_BREAKPOINTS.only("md"),{order:2}),premiumInfo:function(e){return{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:e.spacing.xxs}}},ne=ee,re=n("6nGc"),ie=n("qOoS");function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=function(e){var t=e.imagePath,n=e.imageUrl,r=e.name,i=e.breakpoint,o=e.disableSmall,a=Object(re.generateRecipeImageUrl)({path:t,imageUrl:n,config:{width:1.5*("lg"===i?350:260)}});return Object(b.e)("div",{css:le.imageContainer(o)},Object(b.e)(ie.Image,{"data-recipe-card-image":!0,imageUrl:a,alt:r,css:le.image(o),lazyLoad:!1}))};se.propTypes={imagePath:i.string,imageUrl:i.string,name:i.string.isRequired,breakpoint:i.string.isRequired,disableSmall:i.bool};var le={imageContainer:function(e){return function(t){var n;return ae(ae({position:"relative",overflow:"hidden",flex:"0 0 auto",height:"auto",width:"100%",marginRight:0},t.recipeCard.imageContainer),{},(ce(n={borderRadius:"".concat(t.card.primary.borderRadius,"px ").concat(t.card.primary.borderRadius,"px ").concat(t.recipeCard.borderRadius,"px ").concat(t.recipeCard.borderRadius,"px")},s.MEDIA_BREAKPOINTS.only("md"),{paddingTop:"60%"}),ce(n,"transition","padding 0.3s"),n),e?{}:ce({},s.MEDIA_BREAKPOINTS.only("sm"),{paddingTop:"0",flex:"0 0 130px",height:"130px",marginRight:"10px",width:"130px"}))}},image:function(e){return function(t){return ae(ae({display:"block",position:"absolute",left:0,height:"auto",width:"100%"},t.recipeCard.recipeImage.position),e?{}:ce({},s.MEDIA_BREAKPOINTS.only("sm"),ae(ae({},s.ALIGN_CONTENT.both),{},{height:"100%",width:"auto"})))}}},ue=Object(l.withCurrentBreakpoint)(se),pe=function(e){return Object(b.e)("div",{css:be.imageContainer},Object(b.e)(ie.BackgroundImage,{css:be.img,imageUrl:de(e)}))};pe.propTypes={imagePath:i.string.isRequired,breakpoint:i.string.isRequired};var de=function(e){var t=e.imagePath,n=e.breakpoint;return Object(re.generateRecipeImageUrl)({path:t,config:{width:1.5*("lg"===n?350:260)}})},be={imageContainer:{overflow:"hidden",width:"100%"},img:{height:"100%",backgroundSize:"cover",backgroundPosition:"40%"}},fe=Object(l.withCurrentBreakpoint)(pe);function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=function(e){var t=e.quantitySelected,n=e.isMealSwapDone,r=Object(x.b)(),i=Object(a.useContentfulLegacy)((function(){return c.CONTENT_RECIPE_CATEGORY})).entry,o=n?i.getField("viewModeChosenRecipe"):i.getField("preSelectionLabel");return Object(b.e)("div",{css:Oe.viewChosen},n&&Object(b.e)(d.ChosenIcon,{style:Oe.icon(r)}),Object(b.e)("span",{css:Oe.inYourBox},o,Object(b.e)("span",{css:Oe.quantity},t)))};ge.propTypes={quantitySelected:o.a.string.isRequired,isMealSwapDone:o.a.bool};var Oe={icon:function(e){return me({},s.MEDIA_BREAKPOINTS.md,{marginRight:e.spacing.st})},inYourBox:function(e){var t;return me(t={fontSize:"".concat(s.FONT_SIZE.small.lg,"px"),fontFamily:e.typography.body.fontFamily,lineHeight:1,textAlign:"center"},s.MEDIA_BREAKPOINTS.md,{lineHeight:"20px",fontSize:"".concat(s.FONT_SIZE.small.sm,"px")}),me(t,s.MEDIA_BREAKPOINTS.lg,{fontSize:"".concat(s.FONT_SIZE.small.lg,"px")}),t},quantity:me({},s.MEDIA_BREAKPOINTS.only("sm"),{display:"inline-block"}),viewChosen:function(e){var t;return me(t={position:"absolute",top:0,left:0,padding:"0 ".concat(e.spacing.xxs,"px"),borderRadius:"".concat(e.card.primary.borderRadius,"px ").concat(e.card.primary.borderRadius,"px 0 0"),color:e.recipeCard.chosenLabel.color,backgroundColor:e.recipeCard.activeBackgroundColor,zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},s.MEDIA_BREAKPOINTS.only("sm"),{padding:"0 ".concat(e.spacing.st,"px"),width:"124px",height:"36px",borderRadius:"3px",top:"4px",left:"-4px"}),me(t,s.MEDIA_BREAKPOINTS.md,{width:"100%",height:"24px",borderRadius:"".concat(e.card.primary.borderRadius,"px ").concat(e.card.primary.borderRadius,"px 0 0")}),me(t,s.MEDIA_BREAKPOINTS.lg,{padding:"0 ".concat(e.spacing.st,"px"),height:"30px"}),t}},ye=ge,he=n("E2ph"),ve=n("8mJ1");function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xe=function(e){var t=e.title,n=e.subTitle,r=e.isEditMode,i=e.isCustomized,o=e.onAction,a=Object(x.b)(),c=o?{"aria-label":"customize recipe",onClick:o,role:"button",tabIndex:0}:{};return Object(b.e)("div",je({css:Ee.wrapper({onAction:o})},c,{"data-testid":"recipe-customization"}),i&&Object(b.e)(ve.CheckIcon,{css:Ee.icon({isEditMode:r}),width:16,height:16,color:s.COLORS.white,"data-testid":"recipe-customization-check"}),Object(b.e)("div",{css:Ee.info},Object(b.e)("strong",{css:Ee.title},t),Object(b.e)("small",null,n)),r&&Object(b.e)(ve.ArrowUpIcon,{color:a.DEPRECATED.color,css:Ee.arrowIcon,"data-testid":"recipe-customization-arrow"}))};xe.propTypes={title:o.a.string,subTitle:o.a.string,isEditMode:o.a.bool,isCustomized:o.a.bool,onAction:o.a.func};var Ee={wrapper:function(e){var t=e.onAction;return function(e){return n={cursor:t?"pointer":"default",display:"flex",alignItems:"center",padding:"".concat(e.spacing.xxs,"px ").concat(e.spacing.st,"px")},r=s.MEDIA_BREAKPOINTS.only("sm"),i={height:"60px",padding:e.spacing.st},r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n;var n,r,i}},icon:function(e){var t=e.isEditMode;return function(e){return{backgroundColor:s.COLORS.greenLight,borderRadius:"50%",marginRight:e.spacing.st,animation:t?he.o:"none",minWidth:"16px"}}},info:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-around"},arrowIcon:function(e){return{padding:e.spacing.xxs,marginLeft:"auto"}},title:function(e){return{fontSize:"".concat(s.FONT_SIZE.small.lg,"px"),color:e.DEPRECATED.color,lineHeight:"1.1"}}};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){var t=e.recipe,n=e.disableSmall,r=e.disableRecipeLink,i=e.disabled,o=e.premiumSurcharge,d=e.hasSubscriptions,f=e.quantity,m=e.planSize,g=e.week,O=e.isCustomized,y=e.isChosen,h=e.variation,j=e.trackRecipeClick,x=e.isMealSwapDone,E=Object(a.useContentfulLegacy)((function(){return c.CONTENT_RECIPE_CATEGORY})).entry,C=t.name,S=void 0===C?"":C,w=t.imagePath,I=void 0===w?"":w,R=t.image,P=t.id,T=!!o&&!O&&d,A=n?[s.BREAKPOINT_KEYS.sm,s.BREAKPOINT_KEYS.md,s.BREAKPOINT_KEYS.lg]:[s.BREAKPOINT_KEYS.md,s.BREAKPOINT_KEYS.lg],k=function(){return j(P)};return t?Object(b.e)(v,{recipe:t,isCustomized:O,disabled:i,disableSmall:n},Object(b.e)("div",{css:Pe.flexColumn},!!y&&Object(b.e)(ye,{isMealSwapDone:x,quantitySelected:" (".concat(m*f," servings)")}),Object(b.e)("div",{css:Pe.recipeLinkContainer({disableSmall:n})},Object(b.e)("div",{css:Pe.positionRelative},d?Object(b.e)(G,{recipeId:P,week:g},Object(b.e)(ue,{name:S,imagePath:I,imageUrl:R,disableSmall:n})):Object(b.e)(q,{css:Pe.flexGrowNone,disableRecipeLink:r,recipe:t,week:g,trackLinkClick:k},Object(b.e)(ue,{name:S,imagePath:I,disableSmall:n})),Object(p.u)(t)&&Object(b.e)(l.RenderAtBreakpoint,{renderAtBreakpoints:A},Object(b.e)(u.RecipePremiumLabel,{label:t.label,enableSmall:!n}))),Object(b.e)(ne,{css:Pe.descriptionContainer({isCustomized:O,disableSmall:n}),enableSmall:!n,disableRecipeLink:r,recipe:t,week:g,trackLinkClick:k,showSurcharge:T,premiumSurcharge:o,isCustomizable:O,enableRecipeModal:d})),O&&Object(b.e)("div",{css:Pe.customizeInfo},Object(b.e)(xe,{title:Re(E.getField("customizeConfirmation"),o),subTitle:h.title,isCustomized:!0})))):null},Re=function(e,t){return"".concat(e," (").concat(t,")")};Ie.propTypes={recipe:o.a.object.isRequired,disabled:o.a.bool,quantity:o.a.number,planSize:o.a.number,isChosen:o.a.bool,isMealSwapDone:o.a.bool,premiumSurcharge:o.a.string,trackRecipeClick:o.a.func,hasSubscriptions:o.a.bool,disableRecipeLink:o.a.bool,disableSmall:o.a.bool,week:o.a.string,isCustomized:o.a.bool,variation:o.a.object},Ie.defaultProps={disabled:!1,trackRecipeClick:function(){}};var Pe={positionRelative:{position:"relative"},flexColumn:{position:"relative",display:"flex",flexDirection:"column"},flexGrowNone:{flexGrow:"0 !important"},recipeLinkContainer:function(e){return Se({display:"flex",width:"100%",flexDirection:"column"},!e.disableSmall&&we({},s.MEDIA_BREAKPOINTS.only("sm"),{flexDirection:"row"}))},descriptionContainer:function(e){var t=e.isCustomized,n=e.disableSmall;return function(e){var r;return Se(Se({position:"relative",flex:"1 0 auto",width:"auto",display:"flex",flexDirection:"column"},n&&{padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px ").concat(e.spacing.sm,"px")}),{},(we(r={},s.MEDIA_BREAKPOINTS.only("sm"),n?{minHeight:"120px"}:{position:"static",flex:"1 1 auto",width:0,padding:0,display:"flex",flexDirection:"column",alignItems:"start",height:"auto"}),we(r,s.MEDIA_BREAKPOINTS.md,{padding:"".concat(e.spacing.xxs,"px ").concat(e.spacing.xs,"px ").concat(e.spacing.xs,"px"),minHeight:t?"auto":"125px"}),we(r,s.MEDIA_BREAKPOINTS.lg,{padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.st,"px")}),r))}},customizeInfo:function(e){return{borderTop:"1px solid ".concat(e.DEPRECATED.borderColor)}}},Te=Ie;function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){var t=e.tag,n=e.dataAttr,r=Object(x.b)(),i=t.name,o=t.type,a=o.toLowerCase(),c=function(e){var t=e.type,n=e.theme;return function(){switch(t){case p.a:return n.labels.aroundTheWorld.backgroundColor;case p.b:return n.labels.batchCook.backgroundColor;case p.c:return n.labels.extraFilling.backgroundColor;case p.d:return n.labels.extraQuick.backgroundColor;case p.e:return n.labels.favorite.backgroundColor;case p.f:return n.labels.fishNight.backgroundColor;case p.g:return n.labels.mostLoved.backgroundColor;case p.h:return n.labels.new.backgroundColor;case p.i:return n.labels.onePot.backgroundColor;case p.j:return n.labels.oneTray.backgroundColor;case p.k:return n.labels.speedy.backgroundColor;case p.l:return n.labels.spicy.backgroundColor;case p.m:return n.labels.steakNight.backgroundColor;case p.n:return n.labels.veggie.backgroundColor;default:return}}()||n.labels.default.backgroundColor}({type:a,theme:r}),s=De({},"data-".concat(n,"-").concat(a),!0);return o===p.o.bbqPremium||o===p.o.fifteenPremium?null:Object(b.e)("span",ke({css:Ne.label({bgColor:c}),title:i},s),i)};_e.propTypes={tag:o.a.shape({name:o.a.string.isRequired,type:o.a.string.isRequired}).isRequired,dataAttr:o.a.string.isRequired};var Ne={label:function(e){var t=e.bgColor;return function(e){var n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}((De(n={height:"20px",padding:"0 ".concat(e.spacing.st,"px"),textAlign:"center",fontSize:e.typography.small.fontSize.sm,fontFamily:e.typography.body.fontFamily,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px",backgroundColor:t,whiteSpace:"nowrap",marginRight:e.spacing.xxs},s.MEDIA_BREAKPOINTS.lg,{marginRight:e.spacing.st}),De(n,"marginBottom",e.spacing.xxs),n),e.recipeCard.tag.text)}}},Me=_e,Be=n("YF/g");function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){var t=e.trackRecipeClick,n=e.recipe,r=e.week,i=n.id,o=void 0===i?"":i,a=n.imagePath,c=void 0===a?"":a,s=n.name,l=void 0===s?"":s;return Object(b.e)(q,{recipe:n,week:r,trackLinkClick:function(){return t(o)}},Object(b.e)("div",{css:Fe.container},Object(b.e)(fe,{imagePath:c}),Object(b.e)("span",{css:Fe.title},l)))};qe.propTypes={recipe:o.a.object.isRequired,trackRecipeClick:o.a.func.isRequired,week:o.a.string};var Fe={title:function(e){return Ke(Ke({position:"absolute",left:"0",textAlign:"center",width:"100%",bottom:"0",padding:"0 ".concat(e.spacing.st,"px ").concat(e.spacing.xxl,"px ").concat(e.spacing.st,"px"),height:"60px"},Object(Be.h)(e)),{},{color:e.palettes.grey.lightest},e.homePage.recipeCard.title)},container:{position:"relative",display:"flex",width:"100%",height:"100%",flexDirection:"row"}},Ue=qe;function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){var t=e.trackRecipeClick,n=e.recipe,r=e.week,i=n.id,o=void 0===i?"":i,a=n.imagePath,c=void 0===a?"":a,s=n.name,l=void 0===s?"":s;return Object(b.e)(q,{recipe:n,week:r,trackLinkClick:function(){return t(o)}},Object(b.e)("div",{css:Ye.container},Object(b.e)("div",{css:Ye.imageContainer},Object(b.e)(fe,{imagePath:c})),Object(b.e)("div",{css:Ye.text},l)))};Ge.propTypes={recipe:o.a.object.isRequired,trackRecipeClick:o.a.func.isRequired,week:o.a.string};var Ve,Ye={container:function(e){return{position:"relative",display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:e.borderRadius.lg,boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.2)"}},imageContainer:function(e){var t;return He(t={width:"100%",height:"175px",borderTopLeftRadius:e.borderRadius.lg,borderTopRightRadius:e.borderRadius.lg},s.MEDIA_BREAKPOINTS.only("sm"),{height:"145px","> div":{height:"145px"}}),He(t,"@media only screen and (max-width: 320px)",{height:"125px","> div":{height:"125px"}}),He(t,"> div",{height:"175px"}),t},text:function(e){return He({backgroundColor:e.palettes.grey.lightest,color:e.palettes.grey.darkest,fontWeight:"bold",height:"75px",padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.md,"px")},s.MEDIA_BREAKPOINTS.only("sm"),{height:"90px"})}},We=Ge,Ze=n("VNnR"),Xe=n.n(Ze),Je=n("26c1"),$e=n("hycj");function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var i=at(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?ot(e):t}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st="comment",lt=Object($e.f)({mapPropsToValues:function(e){return ct({},st,e.comment||"")},handleSubmit:function(e,t){var n=t.props;return e.comment.trim()&&n.onSubmit(e.comment)}}),ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(o,e);var t,n,r,i=rt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ct(ot(t=i.call(this,e)),"onChange",(function(e){t.props.setFieldValue(st,e)})),ct(ot(t),"render",(function(){var e=t.props,n=e.inputLabel,r=e.submitLabel,i=e.handleSubmit,o=e.placeholder,a=e.disabled,c=e.isPending,l=e.values,u=!l.comment||!l.comment.trim();return Object(b.e)($e.c,{method:"POST",css:Object(j.a)([pt.form,t.state.isMounted&&pt.formMounted],""),"data-rating-comment-submit":!0,onSubmit:i},Object(b.e)("h2",{css:pt.inputLabel},n),Object(b.e)($e.b,{name:st},(function(e){var n=e.field;return Object(b.e)(d.Textarea,et({},n,{focus:t.shouldFocus(),css:pt.textarea,rows:"3",readOnly:!!a,fullWidth:!0,placeholder:o,onChange:t.onChange,onEnterPress:i,"data-rating-comment":!0}))})),!a&&Object(b.e)("div",{css:pt.buttonWrapper},Object(b.e)(he.c,{type:"submit",disabled:u,kind:s.BUTTON_TYPE.primary,isLoading:c,onClick:i,size:s.BUTTON_SIZE.small},r)))})),t.state={isMounted:!1,isMountAnimationFinished:!1},t.timeout=null,t}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({isMounted:!0}),this.timeout=setTimeout((function(){e.setState({isMountAnimationFinished:!0})}),300),this.isDesktop="lg"===Object(s.getCurrentBreakpoint)()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"shouldFocus",value:function(){var e=this.state.isMountAnimationFinished;return this.isDesktop&&e}}])&&tt(t.prototype,n),r&&tt(t,r),o}(r.Component);ut.propTypes={className:o.a.string,setFieldValue:o.a.func.isRequired,handleSubmit:o.a.func.isRequired,values:o.a.object,disabled:o.a.bool,isPending:o.a.bool,placeholder:o.a.string,inputLabel:o.a.string,submitLabel:o.a.string};var pt={form:(Ve={opacity:0,transition:"opacity .3s",position:"absolute",bottom:"15px",left:"10px",right:"10px"},ct(Ve,s.MEDIA_BREAKPOINTS.only("sm"),{width:"100%",textAlign:"center"}),ct(Ve,s.MEDIA_BREAKPOINTS.lg,{bottom:"20px",left:"20px",right:"20px"}),Ve),formMounted:{opacity:1},inputLabel:function(e){return{fontSize:"22px",lineHeight:1.36,margin:"0 0 ".concat(e.spacing.sm,"px")}},textarea:function(e){var t;return ct(t={minHeight:"84px",marginBottom:e.spacing.sm},s.MEDIA_BREAKPOINTS.only("md"),{minHeight:"104px"}),ct(t,s.MEDIA_BREAKPOINTS.only("lg"),{minHeight:"144px"}),t},buttonWrapper:{textAlign:"right"}},dt=lt(ut);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vt(e);if(t){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(o,e);var t,n,r,i=Ot(o);function o(){var e;ft(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(ht(e=i.call.apply(i,[this].concat(n))),"state",{isFreeTextOpen:!1}),jt(ht(e),"componentDidUpdate",(function(t){var n=e.props,r=n.recipe,i=n.recipeComment,o=n.isRatingPending,a=n.isRatingCommentSaved;(!Xe()(r,t.recipe)||i&&!o&&t.isRatingPending)&&e.setState({isFreeTextOpen:!1}),t.isRatingCommentSaved!==a&&!a&&e.setState({isFreeTextOpen:!0})})),jt(ht(e),"onRecipeRatingClick",(function(t){var n=e.props,r=n.recipeRating,i=n.recipeComment,o=n.onRecipeRatingChange;t!==r&&(o({value:t,comment:i}),e.state.isFreeTextOpen||i||e.setState({isFreeTextOpen:!0}))})),jt(ht(e),"onRatingCommentSubmit",(function(t){var n=e.props,r=n.recipeRating;(0,n.onRecipeRatingChange)({value:r,comment:t})})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.entry,n=e.recipe,r=e.recipeRating,i=e.recipeComment,o=e.isRatingPending,a=e.week,c=e.onRecipeCommentEdit,s=e.theme,l=this.state.isFreeTextOpen;if(!n)return null;var u=n.name,p=void 0===u?"":u,f=n.imagePath,m=void 0===f?"":f,g=t.getField("viewRecipeCta"),O=t.getField("editRecipeCommentCta"),y=t.getField("addRecipeCommentCta"),h=t.getField("submitCta"),x=t.getField("ratingCommentPlaceholder"),E=i?O:y,C=r?Object(b.e)(N.Link,{onClick:c,"data-edit-feedback-comment":!0},E):null,S=l?Object(b.e)(dt,{submitLabel:h,isPending:o,placeholder:x,inputLabel:this.ratingCommentLabel,onSubmit:this.onRatingCommentSubmit,comment:i}):Object(b.e)("div",{css:Et.ratingLinks},Object(b.e)(G,{recipeId:n.id,week:a},Object(b.e)("span",null,g)),C);return Object(b.e)(v,{css:Et.recipeCardBase,recipe:n,disabled:!1,disableSmall:!0},Object(b.e)(G,{css:Object(j.a)([Et.imageLink,l&&Et.imageLinkRatingMode],""),recipeId:n.id,week:a},Object(b.e)(ue,{name:p,imagePath:m,disableSmall:!0})),Object(b.e)("div",{css:Object(j.a)([Et.descriptionContainer(s),l&&Et.ratingMode],"")},Object(b.e)(ne,{css:Et.recipeDescription,hideHeadline:l,hidePrepTime:!0,recipe:n,enableRecipeModal:!0}),Object(b.e)(d.Rating,{rating:r,onRatingClick:this.onRecipeRatingClick,css:Et.rating}),S))}},{key:"ratingCommentLabel",get:function(){var e=this.props,t=e.recipeRating,n=e.entry;switch(t){case 4:return n.getField("ratingInputLabel4Star");case 3:return n.getField("ratingInputLabel3Star");case 2:return n.getField("ratingInputLabel2Star");case 1:return n.getField("ratingInputLabel1Star");default:return null}}}])&&mt(t.prototype,n),r&&mt(t,r),o}(r.Component);xt.propTypes={entry:o.a.object,isRatingPending:o.a.bool,isRatingCommentSaved:o.a.bool,recipe:o.a.object,recipeRating:o.a.number,recipeComment:o.a.string,week:o.a.string,onRecipeRatingChange:o.a.func.isRequired,onRecipeCommentEdit:o.a.func.isRequired,theme:o.a.object};var Et={recipeCardBase:jt({overflow:"hidden",paddingBottom:"".concat(210,"px")},s.MEDIA_BREAKPOINTS.md,{paddingBottom:"".concat(250,"px")}),imageLink:{flexGrow:"0 !important",flexShrink:"1",transition:"opacity .3s, transform .3s"},imageLinkRatingMode:{opacity:0,transform:"translateY(-50%)"},ratingLinks:function(e){return jt({display:"flex","> a":{marginRight:e.spacing.st,marginLeft:e.spacing.st}},s.MEDIA_BREAKPOINTS.up("sm"),{marginTop:e.spacing.md})},rating:function(e){var t;return jt(t={flexShrink:"0"},s.MEDIA_BREAKPOINTS.only("sm"),{margin:"".concat(e.spacing.st,"px 0")}),jt(t,s.MEDIA_BREAKPOINTS.only("md"),{marginTop:e.spacing.sm}),jt(t,s.MEDIA_BREAKPOINTS.only("lg"),{marginTop:e.spacing.xxs}),t},descriptionContainer:function(e){var t;return jt(t={padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px ").concat(e.spacing.sm,"px"),display:"flex",flexDirection:"column",justifyContent:"flex-start",transform:"translateY(-".concat(210,"px)"),position:"absolute",bottom:"-99%",top:"auto",width:"100%",height:"100% !important",flex:"0 0 100%",transition:"transform .3s"},s.MEDIA_BREAKPOINTS.up("sm"),{transform:"translateY(-".concat(250,"px)")}),jt(t,s.MEDIA_BREAKPOINTS.only("sm"),{alignItems:"center"}),jt(t,s.MEDIA_BREAKPOINTS.lg,{padding:e.spacing.md}),t},recipeDescription:jt({},s.MEDIA_BREAKPOINTS.only("sm"),{minHeight:"65px"}),ratingMode:{transform:"translateY(-100%) !important"}},Ct=Object(Je.a)(Object(a.connect)((function(){return c.CONTENT_RECIPE_CATEGORY})),x.c)(xt),St=n("UPhn"),wt=n("zOg4"),It=n("k1t3"),Rt=n("vKGU"),Pt=n("NB3C"),Tt=function(e){var t=e.courseIndex,n=e.week,r=e.delivery,i=Object(Pt.a)().locale,o=Object(It.a)({week:n}).isMealSwapDone,a=Object(It.b)({week:n,courseIndex:t}),c=a.course,s=a.quantity,l=a.variation,u=a.isCustomized,p=Object(Rt.a)(Object(St.i)(r)).planSize,d=(c||{}).recipe,f=Object(wt.p)(c,i),m=!(!r||Object(St.u)(r)||!s);return Object(b.e)(Te,{recipe:d,planSize:p,quantity:s,premiumSurcharge:f,hasSubscriptions:!0,isChosen:m,week:n,isCustomized:u,variation:l,isMealSwapDone:o})};Tt.propTypes={week:o.a.string.isRequired,courseIndex:o.a.number.isRequired,delivery:o.a.object.isRequired};var At=Tt,kt=n("Lca4");function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nt,Mt,Bt=function(){var e=Dt(Object(a.useContentful)([a.ADDON_CARD_LABEL]),1)[0];return Object(b.e)("span",{css:Lt.container,"data-recipe-card-addon":!0},e)},Lt={container:function(e){return{alignSelf:"flex-start",color:e.labels.addOn.color,fontSize:e.typography.small.fontSize.sm,display:"inline-block",height:20,lineHeight:"".concat(s.LINE_HEIGHT.sm,"px"),background:e.labels.addOn.backgroundColor,padding:"0 ".concat(e.spacing.xs,"px"),borderRadius:100,fontWeight:s.FONT_WEIGHT.bold}}};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(e){var t=e.hideHeadline,n=e.showSurcharge,r=e.recipe,i=e.week,o=e.trackRecipeClick,a=e.enableRecipeModal,c=e.disableSmall,u=e.premiumSurcharge,p=Object(x.b)(),d=n&&u,f=Object(b.e)(W,{headline:r.headline,title:r.name,hideHeadline:t,titleStyles:Ut.titleStyles({showSurcharge:n})(p),headlineStyles:Ut.headlineStyles});return Object(b.e)("div",{css:Ut.container({disableSmall:c,shouldDisplaySurcharge:d})},Object(b.e)("div",{css:Ut.addOnInfo},Object(b.e)(Bt,null),Object(b.e)(l.RenderAtBreakpoint,{renderAtBreakpoints:[s.BREAKPOINT_KEYS.sm]},d&&Object(b.e)(_,{premiumSurcharge:u,"data-premium-surcharge":!0,css:Ut.surcharge}))),a?Object(b.e)(G,{week:i,recipeId:r.id},f):Object(b.e)(q,{recipe:r,week:i,trackLinkClick:o},f),Object(b.e)("div",{css:Ut.bottomContainer},Object(b.e)("div",{css:Ut.recipeTags},Object(b.e)(E.b,{tags:r.tags,dataAttr:"recipe-card"})),d&&Object(b.e)(l.RenderAtBreakpoint,{renderAtBreakpoints:[s.BREAKPOINT_KEYS.md,s.BREAKPOINT_KEYS.lg]},Object(b.e)(_,{premiumSurcharge:u,"data-premium-surcharge":!0,css:Ut.surcharge}))))};Ft.propTypes={disableSmall:o.a.bool,showSurcharge:o.a.bool,trackRecipeClick:o.a.func,week:o.a.string,recipe:o.a.shape({id:o.a.string,tags:o.a.array,headline:o.a.string,name:o.a.string}).isRequired,hideHeadline:o.a.bool,enableRecipeModal:o.a.bool,premiumSurcharge:o.a.string};var Ut={container:function(e){var t=e.disableSmall,n=e.shouldDisplaySurcharge;return function(e){var r;return zt(zt({position:"relative",flex:"1 0 auto",width:"auto",display:"flex",flexDirection:"column"},t&&{padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px ").concat(e.spacing.sm,"px")}),{},(qt(r={},s.MEDIA_BREAKPOINTS.md,{padding:"".concat(e.spacing.xxs,"px ").concat(e.spacing.xs,"px ").concat(n?e.spacing.xs:e.spacing.xxs,"px"),minHeight:125}),qt(r,s.MEDIA_BREAKPOINTS.only("sm"),t?{minHeight:"120px"}:{position:"static",flex:"1 1 auto",width:0,padding:"".concat(e.spacing.xxs,"px 0 0"),display:"flex",flexDirection:"column",alignItems:"start",height:"auto"}),qt(r,s.MEDIA_BREAKPOINTS.lg,{padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px ").concat(n?e.spacing.xs:0,"px ").concat(e.spacing.st,"px"),minHeight:115}),r))}},titleStyles:function(e){var t=e.showSurcharge;return function(e){return zt({},t&&{marginBottom:e.spacing.xxs})}},headlineStyles:(Nt={},qt(Nt,s.MEDIA_BREAKPOINTS.md,{height:"0",flex:"0 0 auto",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",minHeight:"40px"}),qt(Nt,s.MEDIA_BREAKPOINTS.lg,{minHeight:"48px"}),Nt),bottomContainer:zt(zt({},s.FLEX.center),{},(Mt={width:"100%"},qt(Mt,s.MEDIA_BREAKPOINTS.only("sm"),{minHeight:"20px"}),qt(Mt,s.MEDIA_BREAKPOINTS.only("md"),{flexWrap:"wrap"}),Mt)),recipeTags:zt(zt({},s.FLEX.center),{},qt({flexWrap:"wrap"},s.MEDIA_BREAKPOINTS.only("md"),{order:2})),surcharge:qt({},s.MEDIA_BREAKPOINTS.only("sm"),{display:"inline-block"}),addOnInfo:qt({lineHeight:0},s.MEDIA_BREAKPOINTS.only("sm"),{lineHeight:"inherit"})},Ht=n("vDqJ"),Gt=n("moXp");function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function(e){var t=e.onClick,n=e.disabled,r=e.label,i=e.tooltipText,o=e.className,a=Object(l.useCurrentBreakpoint)()===s.BREAKPOINT_KEYS.lg?s.BUTTON_SIZE.large:s.BUTTON_SIZE.small,c=Object(he.y)(),u=c.tooltipRef,p=c.buttonRef,d=c.openTooltip,f=c.isTooltipOpen;return Object(b.e)("div",{css:Xt.wrapper},Object(b.e)("a",{ref:p},Object(b.e)(he.c,{kind:s.BUTTON_TYPE.ghost,fullWidth:!0,size:a,"data-meal-swap-select":!0,onClick:function(){return n?d():t()},css:Xt.cta({disabled:n}),className:o},Object(b.e)("span",{"data-meal-swap-cta-text":!0},r))),Object(b.e)(he.n,{width:200,align:"center",isOpen:f,tooltipRef:u},i))};Zt.propTypes={onClick:o.a.func.isRequired,className:o.a.string,disabled:o.a.bool,label:o.a.string.isRequired,tooltipText:o.a.string},Zt.propTypes={onClick:function(){}};var Xt={wrapper:{position:"relative"},cta:function(e){var t=e.disabled;return function(e){var n;return Yt(Yt({fontSize:e.recipeCard.cta.fontSize.sm,backgroundColor:e.recipeCard.cta.backgroundColor,border:"2px solid ".concat(e.recipeCard.cta.borderColor),borderRadius:e.buttons.primary.borderRadius,color:e.recipeCard.cta.color,"@media (hover:hover)":{":not([disabled])":{":hover, :focus":{backgroundColor:e.recipeCard.cta.backgroundColor,borderColor:e.recipeCard.cta.borderColor,color:e.recipeCard.cta.color}}}},t&&{opacity:"0.3 !important",pointer:"default !important","&:hover":{background:"unset !important",color:"".concat(e.recipeCard.cta.color," !important")}}),{},(Wt(n={},s.MEDIA_BREAKPOINTS.md,{borderRadius:"0px 0px ".concat(e.card.primary.borderRadius,"px ").concat(e.card.primary.borderRadius,"px")}),Wt(n,s.MEDIA_BREAKPOINTS.lg,{fontSize:e.recipeCard.cta.fontSize.lg,":not([disabled])":{":hover, :focus, :active":{backgroundColor:e.recipeCard.ctaChosen.backgroundColor,borderColor:e.recipeCard.cta.borderColor,color:e.recipeCard.ctaChosen.color}}}),n))}}};function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=function(e){var t=e.label,n=e.tooltipText,r=e.onRemove,i=e.onAdd,o=e.isDisabled,a=Object(he.y)(),c=a.tooltipRef,s=a.buttonRef,l=a.openTooltip,u=a.isTooltipOpen,p=o?l:i;return Object(b.e)("div",{css:tn.container},Object(b.e)("button",{"aria-label":"add item",css:tn.button({enabled:!0}),"data-meal-swap-deselect":!0,onClick:r,tabIndex:"0"},Object(b.e)(ve.MinusIcon,{width:24,height:24,color:"white",css:tn.buttonIcon({enabled:!0})})),Object(b.e)("span",{css:tn.buttonLabel,"data-meal-swap-cta-text":!0},t),Object(b.e)("button",{"aria-label":"remove item",css:tn.button({enabled:!o}),"data-meal-swap-select":!0,onClick:p,tabIndex:"0",ref:s},Object(b.e)(he.n,{width:200,isOpen:u,tooltipRef:c},n),Object(b.e)(ve.PlusIcon,{width:24,height:24,color:"white",css:tn.buttonIcon({enabled:!o})})))};en.propTypes={label:o.a.string,tooltipText:o.a.string,isDisabled:o.a.bool,onRemove:o.a.func.isRequired,onAdd:o.a.func.isRequired};var tn={container:function(e){var t;return Qt(t={position:"relative",width:"100%",padding:"0 10px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:e.buttons.primary.backgroundColor,borderRadius:e.buttons.primary.borderRadius,boxShadow:e.buttons.primary.boxShadow,fontSize:e.typography.h4.fontSize.sm},s.MEDIA_BREAKPOINTS.md,{maxWidth:"none",width:"auto",margin:"0 -2px -2px",boxShadow:"none",borderTopLeftRadius:0,borderTopRightRadius:0}),Qt(t,s.MEDIA_BREAKPOINTS.lg,{fontSize:e.typography.h4.fontSize.lg}),t},button:function(e){var t,n=e.enabled;return $t($t($t({},s.buttonReset),s.FLEX.center),{},(Qt(t={position:"relative",flex:"0 0 auto",width:32,height:40,"&::before":{content:'""',position:"absolute",top:"-10px",bottom:"-10px",right:"-10px",left:"-10px"}},s.MEDIA_BREAKPOINTS.md,{width:40}),Qt(t,s.MEDIA_BREAKPOINTS.lg,{width:60,height:50,cursor:n?"pointer":"default","> svg":{height:40,width:40},"&::before":{content:'""',display:"none"}}),t))},buttonIcon:function(e){var t=e.enabled;return{opacity:t?1:.35,cursor:t?"pointer":"initial"}},buttonLabel:function(e){return $t($t({},Object(s.buttonFont)(e)),{},{color:e.buttons.primary.textColor})}};function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var on=function(e){var t=e.quantity,n=e.addMenuAddOn,r=e.removeMenuAddOn,i=e.recipeId,o=Object(Ht.a)({trackAddAddOn:Gt.a,trackRemoveAddOn:Gt.e,trackMultipleUpAddOn:Gt.d}),c=nn(Object(a.useContentful)([a.RECIPE_CARD_CTA_ADD_TO_BOX,a.ADDON_CARD_DISABLED_CTA_POPOVER]),2),s=c[0],l=c[1];return t?Object(b.e)(en,{label:"".concat(t," Selected"),tooltipText:"You have reached your limit",isDisabled:!1,onRemove:function(){r(),o.trackRemoveAddOn({recipeId:i,isInEditMode:1})},onAdd:function(){n(),o.trackMultipleUpAddOn({recipeId:i,isInEditMode:1})}}):Object(b.e)(Zt,{label:s,onClick:function(){n(),o.trackAddAddOn({recipeId:i,isInEditMode:1})},tooltipText:l})};function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}on.propTypes={quantity:o.a.number,addMenuAddOn:o.a.func.isRequired,removeMenuAddOn:o.a.func.isRequired,recipeId:o.a.string.isRequired};var ln=function(e){var t=e.addOn,n=e.addOnGroup,r=e.week,i=Object(It.a)({week:r}).isMealSwapDone,o=Object(kt.i)().isInEditMode,a=Object(kt.a)({addOnIndex:t.index,addOnGroup:n,week:r}),c=a.quantity,s=a.removeMenuAddOn,l=a.addMenuAddOn,u=!!c,d=Object(p.r)(t),f=(t||{}).recipe,m=f.name,g=f.imagePath,O=f.image;return Object(b.e)(v,{css:un.recipeCardOverride({isChosen:u}),recipe:f},Object(b.e)("div",{css:un.flexColumn},u&&!o&&Object(b.e)(ye,{isMealSwapDone:i,quantitySelected:" (1 selected)"}),Object(b.e)("div",{css:un.recipeLinkContainer},Object(b.e)("div",{css:un.positionRelative},Object(b.e)(G,{css:un.flexGrowNone,recipeId:f.id,week:r},Object(b.e)(ue,{name:m,imagePath:g,imageUrl:O}))),Object(b.e)(Ft,{recipe:f,week:r,enableRecipeModal:!0})),Object(b.e)("div",{css:un.ctaRow},Object(b.e)(_,{premiumSurcharge:d,"data-premium-surcharge":!0,css:un.surcharge}),Object(b.e)("div",{css:un.cta},Object(b.e)(on,{recipeId:f.id,quantity:c,removeMenuAddOn:s,addMenuAddOn:l})))))};ln.propTypes={addOn:o.a.object.isRequired,addOnGroup:o.a.string.isRequired,week:o.a.string};var un={recipeCardOverride:function(e){var t=e.isChosen;return function(e){var n;return cn({overflow:"hidden"},t?(sn(n={},s.MEDIA_BREAKPOINTS.sm,{boxShadow:"0 0 0 1px ".concat(e.primaryColor," !important")}),sn(n,s.MEDIA_BREAKPOINTS.md,{boxShadow:"0 0 0 2px ".concat(e.primaryColor," !important")}),n):{})}},positionRelative:{position:"relative"},flexColumn:{position:"relative",display:"flex",flexDirection:"column",flex:1,flexBasis:"auto",justifyContent:"space-between"},flexGrowNone:{flexGrow:"0 !important"},recipeLinkContainer:sn({display:"flex",width:"100%"},s.MEDIA_BREAKPOINTS.md,{flexDirection:"column"}),ctaRow:function(e){return cn(cn({},s.FLEX.center),{},{padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.st,"px")})},cta:sn({width:"100%",maxWidth:"200px"},s.MEDIA_BREAKPOINTS.md,{maxWidth:"250px"}),surcharge:function(e){return{marginLeft:"0 !important",marginRight:e.spacing.xs}}};var pn=function(e){var t=e.addOn,n=e.addOnGroup,r=e.week,i=Object(It.a)({week:r}).isMealSwapDone,o=Object(kt.a)({addOnIndex:t.index,addOnGroup:n,week:r}).quantity,a=(t||{}).recipe,c=a.name,s=a.imagePath,l=a.image,u=Object(p.r)(t);return Object(b.e)(v,{recipe:a},Object(b.e)("div",{css:mn.flexColumn},Object(b.e)(ye,{isMealSwapDone:i,quantitySelected:" (".concat(o," selected)")}),Object(b.e)("div",{css:mn.recipeLinkContainer},Object(b.e)("div",{css:mn.positionRelative},Object(b.e)(G,{css:mn.flexGrowNone,recipeId:a.id,week:r},Object(b.e)(ue,{name:c,imagePath:s,imageUrl:l}))),Object(b.e)(Ft,{recipe:a,week:r,enableRecipeModal:!0,premiumSurcharge:u,showSurcharge:!0}))))};pn.propTypes={addOn:o.a.object.isRequired,addOnGroup:o.a.string.isRequired,week:o.a.string};var dn,bn,fn,mn={positionRelative:{position:"relative"},flexColumn:{position:"relative",display:"flex",flexDirection:"column",flex:1,flexBasis:"auto",justifyContent:"space-between"},flexGrowNone:{flexGrow:"0 !important"},recipeLinkContainer:(dn={display:"flex",width:"100%"},bn=s.MEDIA_BREAKPOINTS.md,fn={flexDirection:"column"},bn in dn?Object.defineProperty(dn,bn,{value:fn,enumerable:!0,configurable:!0,writable:!0}):dn[bn]=fn,dn)},gn=n("XJ6C"),On=n("hqzR"),yn=n.n(On),hn=n("qX1Z"),vn=n("ShZl"),jn=n("Ic0/"),xn=n("Hjel"),En=n("cccp"),Cn=n("tlF4");var Sn=function(e){var t=e.addCourse,n=e.removeCourse,i=e.planSize,o=e.quantity,a=e.editMenuProduct,c=e.selectionLimitPlanText,s=e.selectionLimitCourseText,l=e.courseLimit,u=l&&o>=l,p=u||a.isMaxCapacityReached,d=Object(r.useCallback)((function(){if(a.isMaxCapacityReached)return c;if(u){var e=l*i;return Object(Cn.interpolateString)(s,{maxServings:e})}return null}),[l,u,a,i,c,s]);return Object(b.e)("div",{css:In.wrapper},Object(b.e)(en,{label:"".concat(i*o," Servings"),tooltipText:d(),isDisabled:p,onRemove:n,onAdd:t}))};Sn.propTypes={planSize:o.a.number,quantity:o.a.number,courseLimit:o.a.number,addCourse:o.a.func,removeCourse:o.a.func,editMenuProduct:o.a.object,selectionLimitPlanText:o.a.string,selectionLimitCourseText:o.a.string};var wn,In={wrapper:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},s.MEDIA_BREAKPOINTS.only("sm"),{padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px 0 ").concat(e.spacing.st,"px")})}},Rn=Sn;function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _n=function(e){var t=e.editMenuCourse,n=e.editMenuProduct,r=e.isChosen,i=e.isMultipleUpEnabled,o=e.planSize,c=e.addCourse,l=e.removeCourse,u=e.viewModeChosenRecipe,p=e.selectionLimitPlanText,d=e.selectionLimitCourseText,f=e.disabled,m=e.courseLimit,g=kn(Object(a.useContentful)([a.RECIPE_CARD_CTA_ADD_EXTRA,a.RECIPE_CARD_CTA_ADD_TO_BOX,a.RECIPE_CARD_DISABLED_CTA_POPOVER]),3),O=g[0],y=g[1],h=g[2],v=n.isMinCapacityReached?O:y,j=t.isMaxCapacityReached||n.isMaxCapacityReached;return r?i?Object(b.e)("div",{css:Nn.multipleupCTA},Object(b.e)(Rn,{addCourse:c,removeCourse:l,planSize:o,quantity:t.quantity,editMenuProduct:n,courseLimit:m,selectionLimitPlanText:p,selectionLimitCourseText:d})):Object(b.e)("div",{css:Nn.wrapper},Object(b.e)("button",{"data-meal-swap-deselect":!0,css:Nn.CTA({isChosen:r}),onClick:l},Object(b.e)("span",{css:Nn.deselectIcon},Object(b.e)(ve.CrossIcon,{color:s.COLORS.white,width:14,heigth:14})),Object(b.e)("span",{css:Nn.buttonLabel,"data-meal-swap-cta-text":!0},u),Object(b.e)("span",{css:Nn.deselectIcon}))):Object(b.e)("div",{css:Nn.addToBoxCtaWrapper},Object(b.e)(Zt,{disabled:f||j,label:v,onClick:c,tooltipText:h,css:Nn.addToBoxCTA}))};_n.propTypes={isMultipleUpEnabled:o.a.bool,planSize:o.a.number,courseLimit:o.a.number,editMenuCourse:o.a.object,editMenuProduct:o.a.object,isChosen:o.a.bool,addCourse:o.a.func,removeCourse:o.a.func,courseIndex:o.a.number,disabled:o.a.bool,viewModeChosenRecipe:o.a.string,selectionLimitPlanText:o.a.string,selectionLimitCourseText:o.a.string};var Nn={addToBoxCtaWrapper:function(e){return An({padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px 0 ").concat(e.spacing.st,"px")},s.MEDIA_BREAKPOINTS.md,{padding:0})},addToBoxCta:function(e){return An({},s.MEDIA_BREAKPOINTS.md,{borderRadius:"0px 0px ".concat(e.card.primary.borderRadius,"px ").concat(e.card.primary.borderRadius,"px")})},wrapper:function(e){var t;return An(t={padding:"".concat(e.spacing.st,"px ").concat(e.spacing.st,"px 0 ").concat(e.spacing.st,"px")},s.MEDIA_BREAKPOINTS.md,{padding:"0px"}),An(t,"position","relative"),t},multipleupCTA:{position:"relative"},CTA:function(e){var t=e.isChosen;return function(e){var n;return Tn(Tn(Tn({},s.buttonReset),Object(s.buttonFont)(e)),{},(An(n={position:"relative",width:"100%",height:"40px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:t?e.recipeCard.ctaChosen.backgroundColor:e.recipeCard.cta.backgroundColor,border:t?"none":"2px solid ".concat(e.recipeCard.cta.borderColor),borderRadius:e.buttons.primary.borderRadius,color:t?e.recipeCard.ctaChosen.color:e.recipeCard.cta.color,fontSize:"".concat(e.recipeCard.cta.fontSize.sm,"px"),"&::before":{content:"''",position:"absolute",top:"-10px",bottom:"-10px",right:"-10px",left:"-10px"}},s.MEDIA_BREAKPOINTS.md,{borderRadius:"0px 0px ".concat(e.card.primary.borderRadius,"px ").concat(e.card.primary.borderRadius,"px")}),An(n,s.MEDIA_BREAKPOINTS.lg,{height:"50px",fontSize:"".concat(e.recipeCard.cta.fontSize.lg,"px"),cursor:"pointer","&::before":{content:"''",display:"none"},"&:hover":{backgroundColor:e.recipeCard.ctaChosen.backgroundColor,color:e.recipeCard.ctaChosen.color}}),n))}},deselectIcon:(wn={width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},An(wn,s.MEDIA_BREAKPOINTS.md,{width:"40px",height:"40px"}),An(wn,s.MEDIA_BREAKPOINTS.lg,{width:"60px",height:"50px","> svg":{height:"20px",width:"20px"}}),wn),buttonLabel:{flexGrow:1}},Mn=yn()(Object(hn.a)((function(e,t){var n=t.courseIndex,r=t.week,i=Object(En.b)(e,{courseIndex:n,week:r}),o=Object(vn.e)(e,{index:n});return{isMultipleUpEnabled:Object(xn.I)(e),planSize:Object(jn.f)(Object(vn.h)(e)),courseLimit:Object(wt.s)(i),editMenuCourse:o,editMenuProduct:Object(vn.f)(e),isChosen:o&&o.quantity>0}}),(function(e,t){var n=t.courseIndex;return{addCourse:function(){return e(Object(vn.b)(n))},removeCourse:function(){return e(Object(vn.d)(n))}}})),Object(a.connectAndTransform)((function(){return{CONTENT_RECIPE_CATEGORY:c.CONTENT_RECIPE_CATEGORY,CONTENT_SELECTION_LIMIT_PLAN:c.CONTENT_SELECTION_LIMIT_PLAN,CONTENT_SELECTION_LIMIT_COURSE:c.CONTENT_SELECTION_LIMIT_COURSE}}),{transform:function(e){var t=e.entries;return{viewModeChosenRecipe:t.CONTENT_RECIPE_CATEGORY.getField("viewModeChosenRecipe"),selectionLimitPlanText:t.CONTENT_SELECTION_LIMIT_PLAN.getField("text"),selectionLimitCourseText:t.CONTENT_SELECTION_LIMIT_COURSE.getField("text")}}}))(_n),Bn=n("P5qc"),Ln=n("6puf"),Kn=n("g0xT");function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fn=function(e){var t=e.options,n=e.onClose,i=e.onAction,o=e.btnLabel,a=e.modularityHeadline,c=e.courseIndex,l=e.isChosen,u=e.week,f=e.recipeId,m=Object(x.b)(),g=Object(Bn.useTracking)({trackSelectModularityOption:Bn.trackSelectModularityOption}),O=Object(p.x)({week:u}),y=zn(Object(r.useState)("".concat(c)),2),h=y[0],v=y[1],j=Object(Kn.d)(Ln.h),E=l&&h==="".concat(c);return Object(b.e)(r.Fragment,null,Object(b.e)("div",{css:Un.header},Object(b.e)("h4",null,a),Object(b.e)(ve.CrossIcon,{css:Un.iconPadding,onClick:n,color:m.DEPRECATED.color,height:14,width:14})),Object(b.e)(d.RadioGroup,{"data-modular-options":!0,css:Un.radioGroup,selectedValue:h,onChange:function(e){v(e);var n=t.find((function(t){return t.index===+e}));g.trackSelectModularityOption({week:u,recipeId:f,currentSelection:n.title})}},t.map((function(e){var t=e.title,n=e.index,r=Object(p.p)(O[n],j),i=r?"".concat(t," (").concat(r,")"):t;return Object(b.e)(d.Radio,{size:20,noIcon:!0,key:n,css:Un.radio,identifier:"".concat(n),value:"".concat(n),content:i,contentClickable:!0})}))),Object(b.e)(he.c,{"data-confirm-customization":!0,css:Un.ctaButton,kind:s.BUTTON_TYPE.secondary,size:s.BUTTON_SIZE.small,fullWidth:!0,onClick:function(){i(Number.parseInt(h,10))},disabled:E},o))};Fn.propTypes={options:o.a.array,onClose:o.a.func,onAction:o.a.func,btnLabel:o.a.string,modularityHeadline:o.a.string,courseIndex:o.a.number,isChosen:o.a.bool,week:o.a.string.isRequired,recipeId:o.a.string.isRequired};var Un={header:function(e){return{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing.st,h4:{textTransform:"uppercase",color:e.DEPRECATED.color,margin:0}}},iconPadding:function(e){return{padding:e.spacing.xxs}},radioGroup:function(e){return{marginBottom:e.spacing.sm}},radio:function(e){return{marginBottom:e.spacing.st}},ctaButton:function(e){return{paddingLeft:e.spacing.st,paddingRight:e.spacing.st}}};function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn=function(e){var t=e.options,n=e.isChosen,i=e.ctaText,o=e.modularityHeadline,a=e.isCustomized,c=e.courseIndex,s=e.swapMenuCourses,l=e.addMenuCourse,u=e.title,p=e.subTitle,d=e.surcharge,f=e.week,m=e.disabled,g=e.recipeId,O=function(e){var t=e.week,n=e.courseIndex,i=e.options,o=e.recipeId,a=Object(r.useMemo)((function(){var e=i.find((function(e){return e.index===n}));return{week:t,recipeId:o,currentSelection:e.title}}),[i,t,n,o]),c=Object(Bn.useTracking)({trackExpandModularity:Bn.trackExpandModularity,trackExitModularity:Bn.trackExitModularity});return{trackOpen:Object(r.useCallback)((function(){c.trackExpandModularity(a)}),[c,a]),trackClose:Object(r.useCallback)((function(){c.trackExitModularity(a)}),[c,a])}}({week:f,courseIndex:c,options:t,recipeId:g}),y=O.trackOpen,h=O.trackClose,v=function(){var e=Vn(Object(r.useState)(!1),2),t=e[0],n=e[1],i=Vn(Object(r.useState)(!1),2),o=i[0],a=i[1];return{isOpen:t,isVisible:o,showCustomization:function(){n(!0),setTimeout((function(){return a(!0)}),50)},hideCustomization:function(){a(!1),setTimeout((function(){return n(!1)}),300)}}}(),j=v.isOpen,x=v.isVisible,E=v.showCustomization,C=v.hideCustomization,S=function(){C(),h()};return Object(b.e)("div",{css:Zn.wrapper(m)},Object(b.e)(xe,{isEditMode:!0,isCustomized:a,onAction:function(){E(),y()},title:u,subTitle:p}),j&&Object(b.e)("div",null,Object(b.e)("div",{css:Zn.overlay(x)}),Object(b.e)(ie.ClickOutside,{handleClickOutside:S},Object(b.e)("div",{css:Zn.content(x)},Object(b.e)(Fn,{week:f,options:t,btnLabel:i,onAction:function(e){n?s({courseIndex:e,previousCourseIndex:c}):l(e),C()},onClose:S,modularityHeadline:o,courseIndex:c,recipeId:g,isChosen:n,surcharge:d})))))};Wn.propTypes={options:o.a.array,isChosen:o.a.bool,modularityHeadline:o.a.string,recipeId:o.a.string.isRequired,isCustomized:o.a.bool,courseIndex:o.a.number,swapMenuCourses:o.a.func,addMenuCourse:o.a.func,title:o.a.string,subTitle:o.a.string,surcharge:o.a.string,week:o.a.string.isRequired,disabled:o.a.bool,ctaText:o.a.string};var Zn={wrapper:function(e){return e?{opacity:"0.3 !important",pointer:"default !important",pointerEvents:"none !important"}:{}},viewMode:function(e){return{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing.st}},description:{display:"flex",flexDirection:"column"},title:function(e){return{color:e.DEPRECATED.color,textTransform:"uppercase"}},content:function(e){return function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:s.COLORS.white,padding:t.spacing.st,bottom:e?0:"-220px",position:"absolute",width:"100%",zIndex:3,border:"2px solid ".concat(t.DEPRECATED.borderColor),borderRadius:4,transition:"bottom 0.3s ease"},e&&{border:0,borderTop:"2px solid ".concat(t.DEPRECATED.borderColor)})}},overlay:function(e){return{position:"absolute",height:"100%",background:s.COLORS.black,width:"100%",opacity:.5,visibility:e?"visible":"hidden",transition:"visibility 0.2s ease",top:0,zIndex:2}}},Xn=Object(a.connectAndTransform)((function(){return c.CONTENT_RECIPE_CATEGORY}),{transform:function(e,t){var n=e.entry,r=t.isChosen,i=t.isCustomized;return{ctaText:r?n.getField("customizeCta"):n.getField("addToBox"),title:i?n.getField("customizeConfirmation"):n.getField("customizeLabel")}}}),Jn={swapMenuCourses:vn.m,addMenuCourse:vn.b},$n=yn()(Xn,Object(hn.a)((function(e,t){var n=t.week,r=t.courseIndex,i=t.isCustomized,o=t.title,a=void 0===o?"":o,c=Object(vn.k)(e,{courseIndex:r}),s=c.find((function(e){return e.index===r})),l=Object(En.b)(e,{week:n,courseIndex:s.index}),u=Object(Ln.h)(e),p=i?Object(wt.p)(l,u):null;return{recipeId:l.recipe.id,options:c,selectedVariation:s,modularityHeadline:Object(vn.i)(e,{courseIndex:r}),modularityPromoTitle:Object(vn.j)(e,{courseIndex:r}),title:i?"".concat(a.toUpperCase()," (").concat(p,")"):a.toUpperCase(),subTitle:i?s.title:Object(vn.j)(e,{courseIndex:r}),surcharge:p}}),Jn))(Wn);function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr=function(e){var t=e.delivery,n=e.courseIndex,r=e.week,i=Object(Pt.a)().locale,o=Object(p.v)({week:r}).isMealSwapDone,a=Object(p.w)({week:r,courseIndex:n}),c=a.course,d=a.quantity,f=a.canCustomize,m=a.isCustomized,g=Object(kt.i)(),O=g.isInEditMode,y=g.isMaxCapacityReached,h=Object(kt.b)({courseIndex:n}),j=Object(Rt.a)(Object(gn.c)(t)).planSize,x=Object(p.p)(c,i),E=!h&&y,C=(c||{}).recipe,S=C.name,w=C.imagePath,I=C.image,R=C.label,P=!!x&&!m,T=Object(p.u)(C),A=[s.BREAKPOINT_KEYS.md,s.BREAKPOINT_KEYS.lg];return Object(b.e)(v,{css:rr.recipeCardOverride({isChosen:h}),recipe:C},Object(b.e)("div",{css:rr.flexColumn},h&&!O&&Object(b.e)(ye,{isMealSwapDone:o,quantitySelected:" (".concat(j*d," servings)")}),Object(b.e)("div",{css:rr.recipeLinkContainer},Object(b.e)("div",{css:rr.positionRelative},Object(b.e)(G,{css:rr.flexGrowNone,recipeId:C.id,week:r},Object(b.e)(ue,{name:S,imagePath:w,imageUrl:I})),T&&Object(b.e)(l.RenderAtBreakpoint,{renderAtBreakpoints:A},Object(b.e)(u.RecipePremiumLabel,{label:R,premiumSurcharge:x,enableSmall:!0}))),Object(b.e)(ne,{css:rr.descriptionContainer({canCustomize:f}),enableSmall:!0,recipe:C,week:r,showSurcharge:P,premiumSurcharge:x,isCustomizable:f,enableRecipeModal:!0})),f&&Object(b.e)("div",{css:rr.customizeSection},Object(b.e)($n,{isCustomized:m,isChosen:h,courseIndex:n,week:r,disabled:E})),Object(b.e)(Mn,{"data-meal-swap-select":!0,week:r,courseIndex:n,disabled:E})))};nr.propTypes={delivery:o.a.object.isRequired,courseIndex:o.a.number,week:o.a.string};var rr={recipeCardOverride:function(e){var t=e.isChosen;return function(e){return er(tr({overflow:"hidden"},s.MEDIA_BREAKPOINTS.only("sm"),er(er({},t?{}:{borderBottom:"1px solid ".concat(e.divider.color)}),t?{borderBottom:"1px solid transparent",boxShadow:"0 0 0 1px ".concat(e.primaryColor," !important")}:{})),t?{boxShadow:"0 0 0 2px ".concat(e.primaryColor," !important")}:{})}},positionRelative:{position:"relative"},flexColumn:{position:"relative",display:"flex",flexDirection:"column",flex:1,flexBasis:"auto",justifyContent:"space-between"},flexGrowNone:{flexGrow:"0 !important"},recipeLinkContainer:tr({display:"flex",width:"100%"},s.MEDIA_BREAKPOINTS.md,{flexDirection:"column"}),descriptionContainer:function(e){var t=e.canCustomize;return function(e){var n;return tr(n={position:"relative",flex:"1 0 auto",width:"auto",display:"flex",flexDirection:"column"},s.MEDIA_BREAKPOINTS.md,{padding:"".concat(e.spacing.xxs,"px ").concat(e.spacing.xs,"px ").concat(e.spacing.xxs,"px"),minHeight:t?"75px":"125px"}),tr(n,s.MEDIA_BREAKPOINTS.only("sm"),{position:"static",flex:"1 1 auto",width:0,padding:0,display:"flex",flexDirection:"column",alignItems:"start",height:"auto"}),tr(n,s.MEDIA_BREAKPOINTS.lg,{padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.st,"px"),minHeight:t?"90px":"115px"}),n}},customizeSection:function(e){return tr({borderTop:"1px solid ".concat(e.primaryColor)},s.MEDIA_BREAKPOINTS.only("sm"),{borderBottom:"1px solid ".concat(e.primaryColor)})}},ir=nr}}]);