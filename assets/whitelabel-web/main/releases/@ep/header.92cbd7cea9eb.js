(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"37in":function(e,t,n){e.exports=n("v08c").default},"M1E+":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("B42D"),i=n.n(r),o=n("7F61"),c=n("NRKf"),a=n("Ic0/"),s=n("sUbC"),u=function(){var e=Object(o.useEPStore)().state,t=Object(c.D)(e)?Object(a.k)(e,{handle:Object(c.o)(e)}):Object(a.h)(e),n=Object(a.d)(t),r=n.price,u=n.shipping,l=Object(s.B)(e,{productPrice:r,shippingPrice:u});return i()(l,"totalDiscount",0)}},"QBd+":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("B42D"),i=n.n(r),o=n("g0xT"),c=n("Ic0/"),a=n("sUbC"),s=n("EOzB"),u=n("tlF4"),l=n("p6mP"),b=function(){var e=Object(u.useFormattedCurrency)(),t=Object(a.C)().voucherMessagingType,n=Object(l.a)(),r=Object(c.d)(n),b=r.price,p=r.shipping,f=r.perServing,O=Object(c.g)(n).perServingWithDiscount,d=Object(o.d)((function(e){return Object(a.B)(e,{productPrice:b,shippingPrice:p})})),g=i()(d,"totalDiscount",0),y=i()(d,"totalProductDiscount",0),m=Math.floor(y/f),j=e({value:g,minimumFractionDigits:0});return t!==s.VOUCHER_MESSAGING_TYPES.totalMeals&&t!==s.VOUCHER_MESSAGING_TYPES.upToMeals||(j=m),t===s.VOUCHER_MESSAGING_TYPES.perServing&&(j=e({value:O})),j}},UhjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return d}));var r=n("ZUbM"),i=n("sUbC"),o=n("tlF4"),c=n("QBd+"),a=n("EOzB");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isCondensed,n=void 0!==t&&t,o=Object(i.C)(),c=o.isMultiboxVoucher,l=o.successMessage,b=o.voucherMessagingType,p=Object(r.useContentful)([r.VOUCHER_DEFAULT_MESSAGE,r.VOUCHER_CONDENSED_MESSAGE,r.VOUCHER_FALLBACK_MESSAGE,r.VOUCHER_DYNAMIC_FALLBACK_MESSAGE,r.VOUCHER_FREEMEALS_MESSAGE,r.VOUCHER_UPTO_TOTAL_MESSAGE,r.VOUCHER_UPTO_FREEMEALS_MESSAGE,r.VOUCHER_PERSERVING_MESSAGE]),f=u(p,8),O=f[0],d=f[1],g=f[2],y=f[3],m=f[4],j=f[5],v=f[6],h=f[7],E=O,T=g;if(n&&(E=d,T=y),c){var C,N=(s(C={},a.VOUCHER_MESSAGING_TYPES.total,E),s(C,a.VOUCHER_MESSAGING_TYPES.totalMeals,m),s(C,a.VOUCHER_MESSAGING_TYPES.upToMeals,v),s(C,a.VOUCHER_MESSAGING_TYPES.upToTotal,j),s(C,a.VOUCHER_MESSAGING_TYPES.perServing,h),C);return b?N[b]:E}return l||T};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(){return p(Object(r.useContentful)([r.VOUCHER_FALLBACK_MESSAGE]),1)[0]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCondensed:!1},t=e.isCondensed,n=Object(i.C)(),r=n.affectedBoxes,a=b({isCondensed:t}),s=Object(c.a)();return Object(o.interpolateString)(a,{discountAmount:s,affectedBoxes:r})}},Xz7I:function(e,t,n){"use strict";n("BqyK"),n("r0ML");var r=n("cNRa"),i=n.n(r),o=n("26c1"),c=n("uNgz"),a=n("P5qc"),s=n("qX1Z"),u=n("lKTE"),l=n("p5oe"),b=n("NRKf"),p=n("E2ph"),f=n("8nAZ"),O=n("EOzB"),d=n("ZUbM"),g=n("xH0s");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=function(e){var t=e.continueSignUpContent,n=e.className,r=e.cartUserID,i=e.isCustomer,o=e.trackNavigationFinishSignupClick,a=e.isLoggedIn,s=e.sku,u=e.fullWidth;if(!r||i)return null;var l=a?{type:O.ROUTE_CHECKOUT,payload:{page:O.PAGE_DELIVERY}}:{type:O.ROUTE_SIGNUP,payload:{sku:s}};return Object(g.e)(p.c,{element:f.Link,"data-signup-continue-link":!0,kind:c.BUTTON_TYPE.primary,onClick:o,size:c.BUTTON_SIZE.small,className:n,action:l,fullWidth:u},t)};h.propTypes={continueSignUpContent:i.a.string,className:i.a.any,cartUserID:i.a.string,isCustomer:i.a.bool.isRequired,isLoggedIn:i.a.bool.isRequired,trackNavigationFinishSignupClick:i.a.func.isRequired,sku:i.a.string,fullWidth:i.a.bool};var E=Object(o.a)(Object(d.connectLinked)((function(){return O.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(o.c)((function(e){var t=e.entries,n=v(e,["entries"]),r=Object(d.mapEntriesTitleByIdentifier)(t,[O.NAV_CONTENT_FIELDS.signUpContinue]);return m(m({},n),{},{continueSignUpContent:r[O.NAV_CONTENT_FIELDS.signUpContinue]})})),Object(a.connect)({trackNavigationFinishSignupClick:a.trackNavigationFinishSignupClick}),Object(s.a)((function(e){return{cartUserID:Object(b.p)(e),isCustomer:Object(l.H)(e),isLoggedIn:Object(u.g)(e),sku:Object(b.z)(e)}})));t.a=E(h)},p6mP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("g0xT"),i=n("NRKf"),o=n("Ic0/"),c=n("sUbC"),a=n("EOzB"),s=function(){var e=Object(c.C)().voucherMessagingType,t=Object(r.d)(i.D),n=Object(r.d)(i.o),s=Object(r.d)(o.h),u=Object(r.d)(o.m),l=Object(r.d)((function(e){return Object(o.k)(e,{handle:n})}));return e===a.VOUCHER_MESSAGING_TYPES.upToTotal||e===a.VOUCHER_MESSAGING_TYPES.upToMeals?u:t?l:s}},v08c:function(e,t,n){"use strict";n.r(t);n("BqyK");var r=n("r0ML"),i=n.n(r),o=n("xxqw"),c=n("EKNE"),a=n("RXsu"),s=n("abLG"),u=n("+9af"),l=n("cNRa"),b=n.n(l),p=n("26c1"),f=n("qX1Z"),O=n("p5oe"),d=n("99Vi"),g=n("XrqZ"),y=n("sUbC"),m=n("Ic0/"),j=n("X2+A"),v=n("EOzB");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(c,e);var t,n,i,o=A(c);function c(){return N(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.hasProducts&&this.validateVoucherIfIsInitial()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.verifiedVoucherCode,r=t.hasProducts,i=!e.hasProducts&&r,o=e.verifiedVoucherCode!==n;i&&this.validateVoucherIfIsInitial(),r&&n&&o&&this.props.calculateProductPrice(n)}},{key:"isVoucherCodeInitial",value:function(){return this.props.voucherCodeFromUrl||this.props.voucherCodeFromCookie}},{key:"validateVoucherIfIsInitial",value:function(){var e=this.isVoucherCodeInitial();if(e){var t=this.props,n=t.customerId,r=t.subscriptionId,i=t.voucherCampaign,o=t.voucherMessagingType;this.props.fetchAndValidateVoucher(T(T({voucherCode:e,products:this.props.productsSKUs,customerId:n,subscriptionId:r,isInitial:!0},i&&{campaign:i}),o&&{messagingType:o}))}}},{key:"render",value:function(){return Object(r.createElement)(this.props.WrappedComponent,T({},this.props))}}])&&I(t.prototype,n),i&&I(t,i),c}(r.Component);k.propTypes={customerId:b.a.string,hasProducts:b.a.bool.isRequired,productsSKUs:b.a.array,subscriptionId:b.a.string,verifiedVoucherCode:b.a.string,voucherCodeFromCookie:b.a.string,voucherCodeFromUrl:b.a.string,voucherCampaign:b.a.string,voucherMessagingType:b.a.string,calculateProductPrice:b.a.func.isRequired,fetchAndValidateVoucher:b.a.func.isRequired,WrappedComponent:b.a.func};var x=function(e){return Object(g.I)(e)?{hasProducts:!1}:{productsSKUs:Object(m.o)(e),voucherCodeFromUrl:Object(d.C)(e),voucherCodeFromCookie:Object(y.p)(e),verifiedVoucherCode:Object(y.l)(e),hasProducts:Object(m.i)(e),subscriptionId:Object(g.P)(e),customerId:Object(O.y)(e),voucherCampaign:Object(d.w)(e,v.PARAM_VOUCHER_CAMPAIGN),voucherMessagingType:Object(d.D)(e)}};var D=n("uNgz"),R=n("ZUbM"),w=n("lKTE"),L=n("WSti"),M=n("EyS5"),F=n("PNrA"),U=n("xH0s"),V=function(e){var t=e.trackNavigationHeaderClick,n=e.locationPath;return Object(U.e)(F.a,{onClick:function(){return t(n)}})};V.propTypes={locationPath:b.a.string,trackNavigationHeaderClick:b.a.func.isRequired};var B=Object(p.a)(Object(f.a)((function(e){return{locationPath:Object(d.l)(e)}})),Object(L.a)({trackNavigationHeaderClick:M.e}))(V),H=n("3xgL"),G=n("8mJ1"),K=n("g0xT"),q="navigation-customer-name";function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){var t=e.shouldHideOnMobile,n=void 0===t||t,i=Object(K.c)(),o=Object(H.b)(),c=Y(Object(r.useState)(!1),2),a=c[0],u=c[1],l=Object(K.d)(O.y),b=Object(R.useContentfulLegacy)((function(){return v.CONTENT_HEADER_NAVIGATION})).entry.getLinkedEntries("listItemsGroup"),p=Object(R.mapEntriesTitleByIdentifier)(b,[v.NAV_CONTENT_FIELDS.settings,v.NAV_CONTENT_FIELDS.logout]);if(Object(r.useEffect)((function(){l||a||(u(!0),i(Object(O.j)()))}),[]),!l)return null;var f=Object(U.e)(G.UserIcon,{"aria-hidden":!0});return Object(U.e)("div",{css:n?Z.wrapper:void 0},Object(U.e)(s.Dropdown,{customTriggerButtonContents:f,id:q,isNav:!0,label:"Customer Navigation",name:q,options:[{isLink:!0,label:Object(U.e)("span",{css:Z.optionWrapper},Object(U.e)("span",{css:Z.iconWrapper},f),p[v.NAV_CONTENT_FIELDS.settings]),value:v.ROUTE_SETTINGS_ROOT},{isLink:!0,label:Object(U.e)("span",{css:Z.optionWrapper},Object(U.e)("span",{css:Z.iconWrapper},Object(U.e)(G.LogoutIcon,{css:Z.dropdownItemIcon,color:o.typography.body.color,"aria-hidden":!0})),p[v.NAV_CONTENT_FIELDS.logout]),value:v.ROUTE_LOGOUT}]}))};Q.propTypes={shouldHideOnMobile:b.a.bool};var Z={wrapper:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},D.MEDIA_BREAKPOINTS.hiddenDown("lg")),optionWrapper:{fontWeight:D.FONT_WEIGHT.bold},iconWrapper:function(e){return{marginRight:e.spacing.sm}}},$=Q,J=n("OIL8"),ee=n.n(J),te=n("kqzV"),ne=n.n(te),re=n("8nAZ");function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=function(e){var t=e.isActive,n=e.isCurrent,r=e.route,i=e.disableLink,o=e.page,c=e.children,a=be.content({isActive:t});return!t||n||!r||i?Object(U.e)("span",{css:a},c):Object(U.e)(re.Link,{css:a,action:{type:r,payload:{page:o}}},c)};se.propTypes={children:b.a.node,isActive:b.a.bool,isCurrent:b.a.bool,disableLink:b.a.bool,route:b.a.string,page:b.a.string};var ue=function(e){var t=ae({},e),n=t.isActive,r=t.isCurrent,i=t.entry,o=t.contentKey;return Object(U.e)("li",{css:be.container({isActive:n,isCurrent:r})},Object(U.e)(se,t,i.getField(o)))};ue.propTypes={contentKey:b.a.string,route:b.a.string,page:b.a.string,isActive:b.a.bool,isCurrent:b.a.bool,entry:b.a.object};var le=function(e){var t=e.isActive,n=e.isCurrent,r=e.theme;return n?"linear-gradient(to right, ".concat(r.primaryColor," 50%, ").concat(r.palettes.grey.regular," 50%)"):t?"linear-gradient(".concat(r.primaryColor,", ").concat(r.primaryColor,")"):"linear-gradient(".concat(r.palettes.grey.regular,", ").concat(r.palettes.grey.regular,")")},be={container:function(e){var t=e.isActive,n=e.isCurrent;return function(e){return{position:"relative",zIndex:0,backgroundImage:le({isActive:t,isCurrent:n,theme:e}),backgroundSize:"100% 2px",backgroundRepeat:"no-repeat",backgroundPosition:"left 7px",textAlign:"center",":first-child":{backgroundSize:"50% 2px",backgroundPosition:"right 7px"},":last-child":{backgroundSize:"50% 2px"}}}},content:function(e){var t=e.isActive;return function(e){var n;return ce(n={display:"block",flex:"1 1 auto",textDecoration:"none",padding:"".concat(e.spacing.sm,"px ").concat(e.spacing.st,"px 0"),margin:"0 -0.5px",fontFamily:e.typography.body.fontFamily,fontSize:D.FONT_SIZE.h4.sm,fontWeight:D.FONT_WEIGHT.bold,lineHeight:"1.2",color:"".concat(t?e.primaryColor:e.palettes.grey.dark," !important")},D.MEDIA_BREAKPOINTS.lg,{padding:"".concat(e.spacing.sm,"px 0 0 0"),fontSize:D.FONT_SIZE.h4.lg,minWidth:"120px",lineHeight:"1.4"}),ce(n,"::after",oe(oe({content:'""'},D.ALIGN_CONTENT.horizontal),{},{top:"3px",width:"10px",height:"10px",border:"2px solid ".concat(t?e.primaryColor:e.palettes.grey.regular),background:t?e.primaryColor:D.COLORS.white,boxShadow:"0 0 0 3px ".concat(D.COLORS.white),boxSizing:"border-box",borderRadius:"100%"})),n}}},pe=Object(R.connect)((function(){return v.CONTENT_CHECKOUT_SUMMARY}))(ue);function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=[{contentKey:"progressBarPlan",route:v.ROUTE_PLANS,mediaQuery:"lg"},{contentKey:"progressBarSignup",route:v.ROUTE_SIGNUP,disableLink:!0},{contentKey:"progressBarAddress",route:v.ROUTE_CHECKOUT,page:v.PAGE_DELIVERY},{contentKey:"progressBarPayment",route:v.ROUTE_CHECKOUT,page:v.PAGE_PAYMENT},{contentKey:"progressBarSelectMeals"}],he=function(e){var t=e.className,n=(0,e.getProgressItems)(Oe(e,["className","getProgressItems"])),r=n.currentIndex,i=n.items;return Object(U.e)("ul",{className:t,css:Ee.container},i.map((function(e,t){return Object(U.e)(pe,fe({isActive:t<=r,key:"".concat(e.contentKey).concat(t)},e))})))};he.propTypes={className:b.a.string,locationType:b.a.string,locationPage:b.a.string,breakpoint:b.a.string,getProgressItems:b.a.func};var Ee={container:function(e){return{display:"flex",listStyle:"none",padding:0,margin:0,marginTop:"".concat(e.spacing.xxs,"px")}}},Te=ee()(ne()({getProgressItems:function(e){var t=e.locationType,n=e.locationPage,r=e.progressItems,i=e.breakpoint;return r.reduce((function(e,r){var o=e.currentIndex,c=e.items,a=r.route===t&&(!r.page||r.page===n),s=!r.mediaQuery||i===r.mediaQuery;return{currentIndex:a?c.length:o,items:s?[].concat(me(c),[ge(ge({},r),{},{isCurrent:a})]):c}}),{currentIndex:null,items:[]})},progressItems:ve}),j.withCurrentBreakpoint,Object(f.a)((function(e){return{locationType:Object(d.H)(e),locationPage:Object(d.r)(e)}})))(he);function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se={container:function(e){var t;return Ce(t={position:"relative",height:"100px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"".concat(e.spacing.st,"px 0")},D.MEDIA_BREAKPOINTS.md,{justifyContent:"space-between",height:"80px",flexDirection:"row"}),Ce(t,D.MEDIA_BREAKPOINTS.only("sm"),{height:"auto"}),t},progress:Ce({},D.MEDIA_BREAKPOINTS.md,{zIndex:0,top:"50%",transform:"translate(-50%, -50%)",left:"50%",position:"absolute !important"}),welcome:function(e){return Ce({display:"flex",alignItems:"center",justifyContent:"center"},D.MEDIA_BREAKPOINTS.only("sm"),{position:"relative",marginTop:e.spacing.xs,width:"calc(100% + 20px)"})},text:function(e){return{fontFamily:e.typography.body.fontFamily,fontWeight:D.FONT_WEIGHT.bold,color:e.palettes.grey.darkest,fontSize:D.FONT_SIZE.h4.lg,marginRight:e.spacing.xs}},submenu:function(e){return Ce({},D.MEDIA_BREAKPOINTS.only("sm"),{width:"95%",bottom:"initial",top:"-62px",right:"50%",transform:"translate(50%, 100%)","> a":{display:"flex",justifyContent:"center",padding:"".concat(e.spacing.sm,"px 0")}})}},Ae=function(){var e=Object(w.i)().isLoggedIn,t=Ne(Object(R.useContentful)([R.WELCOME_FUNNEL_TITLE]),1)[0];return Object(U.e)("div",{css:Se.container},Object(U.e)(B,null),Object(U.e)(Te,{css:Se.progress}),e&&Object(U.e)("div",{css:Se.welcome},Object(U.e)("span",{css:Se.text},t),Object(U.e)($,{shouldHideOnMobile:!1,submenuCss:Se.submenu})))},Pe=n("E2ph"),_e=n("P5qc"),ke=n("1W3t"),xe=n("q5m1"),De=n("ShZl"),Re=function(){var e=ke.ClientSniffer.isIOS(),t=ke.ClientSniffer.isAndroid(),n=Object(xe.x)(),r=n.appStoreMobileLink,i=n.playMarketMobileLink,o=Object(xe.D)(),c=o.isEnabled,a=o.eligibleLoyalties,s=Object(O.I)(),u=s.isCustomer,l=s.loyalty,b=s.isFetchFulfilled,p=e?r:i,f=(e||t)&&c&&u;return{isEnabled:f,eligibleLoyalties:a,isEligibleForExperiment:Object(De.s)().shouldOpenSmartBanner&&f,appLink:p,loyalty:l,device:ke.ClientSniffer.OS,isMobile:"mobile"===ke.ClientSniffer.getDeviceType(),isCustomerFetchFulfilled:b}};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ve=function(e){var t=e.loyalties,n=Fe(Object(r.useState)(!0),2),i=n[0],o=n[1],s=Fe(Object(R.useContentful)([R.HEADER_SMART_BANNER_TEXT,R.HEADER_SMART_BANNER_CTA,R.HEADER_SMART_BANNER_ICON]),3),u=s[0],l=s[1],b=s[2],p=Re(),f=p.isEnabled,O=p.appLink,d=p.device,g=p.loyalty,y=p.isCustomerFetchFulfilled,m=p.isMobile,j=Object(a.f)(),v=j.headerHeight,h=j.updateHeaderHeight,E=Object(_e.useTracking)({trackSmartBannerImpression:_e.trackSmartBannerImpression,trackSmartBannerClick:_e.trackSmartBannerClick,trackSmartBannerClose:_e.trackSmartBannerClose}),T=t.includes(g),C=Object(c.a)(),N=f&&i&&T;Object(r.useEffect)((function(){y&&N&&E.trackSmartBannerImpression({device:d,loyalty:g})}),[y]);return C&&N?Object(U.e)("div",{css:Be.wrapper},Object(U.e)("button",{css:Be.closeButton,onClick:function(){m&&h(v),E.trackSmartBannerClose({device:d,loyalty:g}),o(!1)},"data-test-smart-banner-close-button":!0},Object(U.e)(G.CrossIconFat,null)),Object(U.e)("img",{src:b,alt:"App",css:Be.icon,"data-test-smart-banner-image":!0}),Object(U.e)("div",{css:Be.content,"data-test-smart-banner-content":!0},Object(U.e)("p",{css:Be.text},u)),Object(U.e)(Pe.c,{size:D.BUTTON_SIZE.small,css:Be.cta,element:"a",href:O,onClick:function(){E.trackSmartBannerClick({device:d,loyalty:g})},"data-test-smart-banner-cta":!0},l)):null},Be={wrapper:function(e){return Me({backgroundColor:e.smartBanner.backgroundColor,boxShadow:e.smartBanner.boxShadow,display:"flex",padding:"".concat(e.spacing.sm,"px ").concat(e.spacing.xs,"px ").concat(e.spacing.st,"px"),marginRight:"-10px",marginLeft:"-10px",alignItems:"center"},D.MEDIA_BREAKPOINTS.md,Le(Le({},D.ALIGN_CONTENT.horizontal),{},{zIndex:1}))},text:function(e){return{fontSize:e.smartBanner.text.fontSize,lineHeight:e.smartBanner.text.lineHeight,margin:"".concat(e.spacing.xxs,"px 0 0")}},cta:function(e){return{alignItems:"center",display:"flex",fontSize:e.smartBanner.cta.fontSize,minWidth:"112px"}},content:function(e){return{paddingRight:e.spacing.sm,paddingLeft:e.spacing.xxs}},closeButton:Le({},D.buttonReset),icon:function(e){return{margin:"0 ".concat(e.spacing.xxs,"px"),maxWidth:"58px"}}};Ve.propTypes={loyalties:b.a.array.isRequired},Ve.defaultProps={loyalties:[]};var He=n("3HD6");function Ge(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e){var t=e.loyalties;if("variation"===Object(He.useOptimizelyVariation)(v.EXPERIMENT_SMART_BANNER)){var n=[].concat(Ge(t),[0]);return Object(U.e)(Ve,{loyalties:n})}return Object(U.e)(Ve,{loyalties:t})};qe.propTypes={loyalties:b.a.array.isRequired},qe.defaultProps={loyalties:[]};var We=function(){var e=Re(),t=e.isEligibleForExperiment,n=e.eligibleLoyalties;return t?Object(U.e)(qe,{loyalties:n}):Object(U.e)(Ve,{loyalties:n})},ze=n("/D40"),Ye=n("BiNK"),Xe=n("NRKf"),Qe=n("imZJ"),Ze=n("Xz7I"),$e=n("Kbx7");function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){var t=e.isLoggedIn,n=e.isPlansPage,r=e.cartUserID,i=e.className,o=e.content,c=e.trackLoginNavigationClick,a=e.trackNavigationSignupClick,s=Object(H.b)();return t?null:Object(U.e)("div",{className:i,css:it.buttonsContainer},Object(U.e)(Pe.c,{element:re.Link,"data-login-link":!0,size:D.BUTTON_SIZE.small,onClick:c,css:Object($e.a)([it.button,it.login(s)],""),kind:D.BUTTON_TYPE.link,action:{type:v.ROUTE_LOGIN}},o[v.NAV_CONTENT_FIELDS.logIn]),Object(U.e)(Pe.c,{element:re.Link,"data-login-link":!0,size:D.BUTTON_SIZE.small,onClick:c,action:{type:v.ROUTE_LOGIN},css:Object($e.a)([it.button,it.loginMobile(s)],""),kind:D.BUTTON_TYPE.ghost},o[v.NAV_CONTENT_FIELDS.logIn]),!n&&!r&&Object(U.e)(Pe.c,{element:re.Link,"data-signup-link":!0,kind:D.BUTTON_TYPE.primary,size:D.BUTTON_SIZE.small,onClick:a,css:it.button,action:{type:v.ROUTE_PLANS}},o[v.NAV_CONTENT_FIELDS.signUp]))};rt.propTypes={isLoggedIn:b.a.bool,isPlansPage:b.a.bool,cartUserID:b.a.string,className:b.a.string,content:b.a.object,trackLoginNavigationClick:b.a.func.isRequired,trackNavigationSignupClick:b.a.func.isRequired};var it={buttonsContainer:{fontWeight:D.FONT_WEIGHT.bold},button:nt({},D.MEDIA_BREAKPOINTS.down("lg"),{width:"100% !important"}),login:function(e){return nt({display:"none !important",marginRight:"".concat(e.spacing.st,"px"),cursor:"pointer",":hover":{color:D.COLORS.green}},D.MEDIA_BREAKPOINTS.up("lg"),{display:"inline-block !important"})},loginMobile:function(e){return nt({marginBottom:"".concat(e.spacing.md,"px")},D.MEDIA_BREAKPOINTS.up("lg"),{display:"none !important"})}},ot=Object(p.a)(Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries;return et(et({},tt(e,["entries"])),{},{content:Object(R.mapEntriesTitleByIdentifier)(t,[v.NAV_CONTENT_FIELDS.logIn,v.NAV_CONTENT_FIELDS.signUp])})})),Object(_e.connect)({trackLoginNavigationClick:_e.trackLoginNavigationClick,trackNavigationSignupClick:_e.trackNavigationSignupClick}),Object(f.a)((function(e){return{isLoggedIn:Object(Ye.e)(e),cartUserID:Object(Xe.p)(e),isPlansPage:Object(d.H)(e)===v.ROUTE_PLANS}})))(rt),ct=n("7F61");function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e){var t=e.setHeaderAttributes,n=e.navigationOpen;return Object(U.e)("button",{"data-hamburger-menu":!0,css:ut.toggleContainer,onClick:function(){return t({navigationOpen:!n})},"aria-label":"Menu"},Object(U.e)(G.HamburgerIcon,{css:ut.mobileNavTrigger,width:24}))},ut={toggleContainer:function(e){var t;return at(t={marginLeft:"".concat(e.spacing.sm,"px"),cursor:"pointer",padding:"".concat(e.spacing.xxs,"px 0"),border:0,outline:"none",background:D.COLORS.white},D.MEDIA_BREAKPOINTS.md,{padding:"".concat(e.spacing.st,"px 0")}),at(t,D.MEDIA_BREAKPOINTS.lg,{display:"none"}),t},mobileNavTrigger:{display:"block"}};st.propTypes={navigationOpen:b.a.bool,setHeaderAttributes:b.a.func};var lt=Object(ct.connect)((function(e){return{navigationOpen:Object(a.c)(e)}}),{setHeaderAttributes:a.e})(st),bt=n("vDqJ");function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ot='& [fill="'.concat(D.COLORS.black,'"]'),dt='& [stroke="'.concat(D.COLORS.black,'"]'),gt={container:function(){return{display:"block",position:"relative",marginBottom:"15px",":last-child":{marginBottom:0},"&.hiddenDown":D.MEDIA_BREAKPOINTS.hiddenDown("lg")}},content:function(e){return{display:"flex",alignItems:"center",fontWeight:e.typography.cta.fontWeight,textDecoration:"none",color:e.buttons.navItem.textColor,"&.isActive":{color:e.buttons.navItemActive.textColor}}},icon:function(e){var t,n;return pt(n={marginRight:"10px",width:"24px"},Ot,{fill:e.buttons.navItem.textColor}),pt(n,dt,{stroke:e.buttons.navItem.textColor}),pt(n,"&.isActive",(pt(t={},Ot,{fill:e.buttons.navItemActive.textColor}),pt(t,dt,{stroke:e.buttons.navItemActive.textColor}),t)),n}},yt={container:function(e){var t;return{display:"inline-block",position:"relative",cursor:"pointer","&.hiddenDown":D.MEDIA_BREAKPOINTS.hiddenDown("lg"),":hover":(t={},pt(t,Ot,{fill:e.buttons.navItemHover.textColor}),pt(t,dt,{stroke:e.buttons.navItemHover.textColor}),t)}},content:function(e){var t;return pt(t={display:"flex",alignItems:"center",margin:e.buttons.navItem.margin,padding:e.buttons.navItem.padding,borderRadius:e.buttons.navItem.borderRadius,fontWeight:e.typography.cta.fontWeight,fontFamily:e.typography.cta.fontFamily,lineHeight:"".concat(D.LINE_HEIGHT.md,"px"),textTransform:e.buttons.primary.textTransform,textDecoration:"none",color:e.buttons.navItem.textColor,":hover":{color:e.buttons.navItemHover.textColor}},D.MEDIA_BREAKPOINTS.lg,{margin:e.buttons.navItem.lg.margin,padding:e.buttons.navItem.lg.padding}),pt(t,"&.isActive",{color:e.buttons.navItemActive.textColor,backgroundColor:e.buttons.navItem.backgroundColor,borderBottom:e.buttons.navItem.borderBottom}),t},icon:function(e){var t,n;return pt(n={marginRight:"".concat(e.spacing.xxs,"px")},Ot,{fill:e.buttons.navItem.textColor}),pt(n,dt,{stroke:e.buttons.navItem.textColor}),pt(n,"&.isActive",(pt(t={},Ot,{fill:e.buttons.navItemActive.textColor}),pt(t,dt,{stroke:e.buttons.navItemActive.textColor}),t)),n}},mt=function(e){var t=e.label,n=e.action,r=e.onClick,i=e.linkRef,o=e.children,c=e.identifier,a=e.icon,s=e.isMobile,u=void 0!==s&&s,l=e.hiddenDown,b=void 0!==l&&l,p=u?gt:yt;return Object(U.e)(re.Link,ft({"data-nav-link":!0,linkRef:i},c,{css:p.container,className:b?"hiddenDown":"",action:n,onClick:r}),(function(e){var n=e.isActive;return Object(U.e)("span",{css:p.content,className:n?"isActive":""},a&&Object(U.e)(a,{color:D.COLORS.black,css:p.icon,className:n?"isActive":""}),t,o)}))},jt=n("W1sy");function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ht=function(e){var t=Object(jt.f)().isNavBarNoticeEnabled,n=Object(R.useContentfulLegacy)((function(){return{label:v.CONTENT_NAVBAR_NOTICE_LABEL,url:v.CONTENT_NAVBAR_NOTICE_URL}})).entries,r=n.label,i=n.url;if(!t)return null;return Object(U.e)(mt,vt({onClick:function(){window.location.href=i.getField("value")},label:r.getField("value")},e))};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var It=function(e){var t=e.content,n=Object(bt.a)({trackFAQNavigationClick:_e.trackFAQNavigationClick,trackOurPlansNavigationClick:_e.trackOurPlansNavigationClick,trackNavigationWeeklyMenuClick:_e.trackNavigationWeeklyMenuClick});return Object(U.e)(r.Fragment,null,Object(U.e)(mt,{action:{type:v.ROUTE_PUBLIC_MENU},label:t[v.NAV_CONTENT_FIELDS.publicMenu],onClick:n.trackNavigationWeeklyMenuClick,identifier:{"data-navigation-menu":!0}}),Object(U.e)(mt,{onClick:n.trackOurPlansNavigationClick,action:{type:v.ROUTE_PLANS},label:t[v.NAV_CONTENT_FIELDS.plans],identifier:{"data-navigation-plans":!0}}),Object(U.e)(mt,{hiddenDown:!0,action:{type:v.ROUTE_FAQ},onClick:n.trackFAQNavigationClick,label:t[v.NAV_CONTENT_FIELDS.faq],identifier:{"data-navigation-faq":!0}}),Object(U.e)(ht,null))};It.propTypes={content:b.a.object.isRequired};var St=[v.NAV_CONTENT_FIELDS.publicMenu,v.NAV_CONTENT_FIELDS.plans,v.NAV_CONTENT_FIELDS.referral,v.NAV_CONTENT_FIELDS.faq],At=Object(p.a)(Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries;return Tt(Tt({},Nt(e,["entries"])),{},{content:Object(R.mapEntriesTitleByIdentifier)(t,St)})})))(It),Pt=n("n0PQ"),_t=n("R8My");function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var wt=function(e){var t=e.hasFreebie,n=e.freebieLabel;return Object(U.e)(r.Fragment,null,n,t&&Object(U.e)(G.FreebieIcon,{css:Ft.freebieIcon,color:D.COLORS.redLight}))};wt.propTypes={hasFreebie:b.a.bool,freebieLabel:b.a.string};var Lt={regular:{transform:"none"},transformed:{transform:"scale(1.3) rotate(20deg)"}},Mt=Object(U.f)({"0.6%":Lt.transformed,"1.2%, 15.0%":Lt.regular,"15.6%":Lt.transformed,"16.2%, 100.0%":Lt.regular}),Ft={freebieIcon:{animation:"".concat(Mt," 36s 2s linear infinite"),position:"relative",top:"-10px"}},Ut=Object(p.a)(Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries,n=Rt(e,["entries"]),r=Object(R.mapEntriesTitleByIdentifier)(t,[v.NAV_CONTENT_FIELDS.freebies]);return xt(xt({},n),{},{freebieLabel:r[v.NAV_CONTENT_FIELDS.freebies]})})))(wt),Vt=n("LlCV"),Bt=n("zFqe"),Ht=n("irYK"),Gt=n("UhjT");function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qt=function(e){var t,n,c,a;t=Object(Ht.a)(),n=Object(Bt.a)(),c=Object(o.a)(),a=Object(Gt.b)(),i.a.useEffect((function(){var e=c.query&&c.query[Vt.b],r=c.query&&c.query[Vt.f];e&&("additional"===r?t({voucherCode:e,voucherSuccessMessage:a}):n(e))}),[]);var s=Yt(Object(r.useState)(null),2),u=s[0],l=s[1],b=e.content,p=e.hasFreebie,f=e.enableFreebie,O=e.isFreebieNotificationOpen,d=e.trackReferralNavItemClick,g=e.trackFAQNavigationClick,y=e.trackAndCloseFreebiesNotification,m=e.closeAndRedirectToFreebiesPage,j=Object(xe.w)().desktop;return Object(U.e)(r.Fragment,null,Object(U.e)(mt,{"data-nav-item-menu":!0,action:{type:v.ROUTE_MENU_VIEW},identifier:{"data-navigation-menu":!0},label:b[v.NAV_CONTENT_FIELDS.customerMenu]}),j.showReferralLink?Object(U.e)(mt,{"data-nav-item-raf":!0,linkRef:function(e){return l(e)},action:{type:v.ROUTE_REFERRAL},identifier:{"data-navigation-referral":!0},onClick:function(){return d(p)},label:Object(U.e)(Ut,{hasFreebie:p&&f})}):null,Object(U.e)(mt,{hiddenDown:!0,"data-nav-item-faq":!0,action:{type:v.ROUTE_FAQ},onClick:g,label:b[v.NAV_CONTENT_FIELDS.faq],identifier:{"data-navigation-faq":!0}}),Object(U.e)(Qe.FreebieNotification,{elementRef:u,"data-freebie-notification":!0,handleCtaClick:m,handleClose:y,isOpen:O&&f}),Object(U.e)(ht,null))};Qt.propTypes={content:b.a.object,hasFreebie:b.a.bool,trackReferralNavItemClick:b.a.func.isRequired,trackFAQNavigationClick:b.a.func.isRequired,isFreebieNotificationOpen:b.a.bool,enableFreebie:b.a.bool,trackAndCloseFreebiesNotification:b.a.func.isRequired,closeAndRedirectToFreebiesPage:b.a.func.isRequired};var Zt=[v.NAV_CONTENT_FIELDS.faq,v.NAV_CONTENT_FIELDS.customerMenu],$t={setFreebiesNotificationIsOpen:ze.h,redirectToFreebies:function(){return{type:v.ROUTE_REFERRAL,payload:{page:v.PAGE_REFERRAL_FREEBIES}}}},Jt=Object(p.a)(Object(f.a)((function(e){return{hasFreebie:!!Object(O.q)(e),isFreebieNotificationOpen:!!Object(ze.e)(e),enableFreebie:Object(_t.q)(e),locationType:Object(Pt.selectLocationType)(e)}}),$t),Object(_e.connect)({trackReferralNavItemClick:_e.trackReferralNavItemClick,trackFAQNavigationClick:_e.trackFAQNavigationClick,trackFreebiePopupCancelClick:_e.trackFreebiePopupCancelClick,trackFreebiePopupContinueClick:_e.trackFreebiePopupContinueClick}),Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t,n,r,i,o,c=e.entries,a=zt(e,["entries"]);return qt(qt(qt({},a),(n=(t=a).redirectToFreebies,r=t.setFreebiesNotificationIsOpen,i=t.trackFreebiePopupContinueClick,o=t.trackFreebiePopupCancelClick,{trackAndCloseFreebiesNotification:function(){o(),r(!1)},closeAndRedirectToFreebiesPage:function(){i(),r(!1),n()}})),{},{content:Object(R.mapEntriesTitleByIdentifier)(c,Zt)})})))(Qt);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=function(e){var t=e.isLoggedIn,n=e.isCustomer,r=e.cartUserID,i=e.showFreebiesLink,o=e.availableFreebiesCount,c=e.referralRoute,a=e.trackNavigationFinishSignupIconClick,s=e.trackNavigationWeeklyMenuIconClick,u=e.trackFreebieHeaderLinkClick,l=e.hasSubscription,b=Object(xe.w)().mobile;return Object(U.e)("div",{css:on.container},Object(U.e)("div",{css:on.leftContent},n?Object(U.e)(Jt,null):Object(U.e)(At,{isLoggedIn:t})),Object(U.e)("div",{css:on.rightContent},b.showMenuLink&&!l&&Object(U.e)(re.Link,{"data-menu-icon-link":!0,onClick:s,css:on.myMenuIcon,action:{type:v.ROUTE_PUBLIC_MENU}},Object(U.e)(G.MyMenuIcon,{width:18,height:17}),Object(U.e)("span",null,"Menu")),r&&!n&&Object(U.e)(re.Link,{"aria-label":"cart","data-signup-continue-link":!0,css:on.continueIcon,onClick:a,action:{type:v.ROUTE_CHECKOUT,payload:{page:v.PAGE_DELIVERY}}},Object(U.e)(G.CartItemIcon,null)),i&&Object(U.e)("div",{css:on.freebieLink},Object(U.e)(Qe.FreebieHeaderLink,{referralRoute:c,freebieCount:o,onLinkClick:u})),Object(U.e)(Ze.a,{css:on.continueButton}),t?Object(U.e)($,null):Object(U.e)(ot,{css:on.login}),Object(U.e)(lt,null)))};rn.propTypes={isLoggedIn:b.a.bool,isCustomer:b.a.bool,cartUserID:b.a.string,showFreebiesLink:b.a.bool,availableFreebiesCount:b.a.number,referralRoute:b.a.object,trackNavigationFinishSignupIconClick:b.a.func.isRequired,trackNavigationWeeklyMenuIconClick:b.a.func.isRequired,trackFreebieHeaderLinkClick:b.a.func.isRequired,hasSubscription:b.a.bool};var on={container:nn({display:"flex",justifyContent:"space-between"},D.MEDIA_BREAKPOINTS.md,{width:"100%"}),freebieLink:tn({},D.MEDIA_BREAKPOINTS.hiddenUp("sm")),leftContent:tn({display:"flex",alignItems:"center"},D.MEDIA_BREAKPOINTS.hiddenDown("md")),rightContent:{display:"flex",alignItems:"center"},continueButton:tn({},D.MEDIA_BREAKPOINTS.hiddenDown("lg",!0)),continueIcon:function(e){return nn({marginLeft:"".concat(e.spacing.st,"px")},D.MEDIA_BREAKPOINTS.lg,{display:"none"})},login:nn({display:"none"},D.MEDIA_BREAKPOINTS.lg,{display:"inline-block"}),myMenuIcon:tn({display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",textTransform:"uppercase",fontSize:"10px",lineHeight:1,color:"".concat(D.COLORS.blackPale," !important")},D.MEDIA_BREAKPOINTS.hiddenUp("sm"))},cn={type:v.ROUTE_REFERRAL,payload:{page:v.PAGE_REFERRAL_FREEBIES}},an=Object(p.a)(Object(_e.connect)({trackNavigationFinishSignupIconClick:_e.trackNavigationFinishSignupIconClick,trackNavigationWeeklyMenuIconClick:_e.trackNavigationWeeklyMenuIconClick,trackFreebieHeaderLinkClick:_e.trackFreebieHeaderLinkClick}),Object(f.a)((function(e){return{isLoggedIn:Object(Ye.e)(e),isCustomer:Object(O.H)(e),cartUserID:Object(Xe.p)(e),hasSubscription:Object(g.I)(e),hasFreebie:!!Object(O.q)(e),showFreebiesLink:Object(ze.f)(e),availableFreebiesCount:Object(O.q)(e),referralRoute:cn}})))(rn);function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un={container:function(e){var t;return sn(t={display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",width:"100%",height:"50px",padding:"".concat(e.spacing.st,"px 0")},D.MEDIA_BREAKPOINTS.md,{height:"60px"}),sn(t,D.MEDIA_BREAKPOINTS.lg,{height:"80px"}),t},logo:function(e){return{marginRight:"".concat(e.spacing.md,"px")}}},ln=function(e){var t=Object(c.a)();return Object(U.e)("div",{css:un.container},Object(U.e)(B,{css:un.logo,"data-test-header-logo":!0}),t&&Object(U.e)(an,{"data-test-header-actions":!0}))};function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn,On={wrapper:function(e){return{height:e.headerHeight,minHeight:"50px"}},container:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:e.headerPosition||"fixed",width:"100%",top:"0px",transition:"transform .5s",backgroundColor:"white",boxShadow:"0 1px 0 0 rgba(77, 65, 51, 0.05)",zIndex:105},e.isFunnel?{"@media screen and (max-height: 400px)":{position:"absolute"}}:null)}},dn=(fn=function(){var e=Object(r.useRef)(null),t=Object(a.f)(),n=t.headerPosition,i=t.headerHeight,c=t.updateHeaderHeight,l=Object(o.a)().isFunnel;return Object(U.e)("header",{css:On.wrapper({headerHeight:i})},Object(U.e)("div",{css:On.container({headerPosition:n,isFunnel:l})},Object(U.e)(u.Container,null,Object(U.e)(s.Measure,{debounceTime:50,properties:["clientHeight"],onMeasure:function(e){var t=e.clientHeight;c(t)},ref:e},Object(U.e)(We,null),l?Object(U.e)(Ae,null):Object(U.e)(ln,null)))))},Object(p.a)(Object(p.f)({WrappedComponent:fn}),Object(f.a)(x,{fetchAndValidateVoucher:y.c,calculateProductPrice:m.a}),j.withCurrentBreakpoint)(k)),gn=n("WYg3"),yn=n.n(gn);function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jn=function(){var e=Object(s.useAppLinkRender)(),t=e.shouldRender,n=e.shouldRenderAndroid,r=e.shouldRenderIOS;return t?Object(U.e)("div",{css:vn.container},Object(U.e)("h3",{css:vn.title},"Have you tried our",Object(U.e)("br",null),"app already?"),Object(U.e)("div",{css:vn.linksContainer},r&&Object(U.e)(s.AppStoreLink,{css:vn.link}),n&&Object(U.e)(s.PlayMarketLink,{css:vn.link}))):null},vn={container:function(e){return{borderTop:"1px solid ".concat(e.divider.color),display:"flex",textAlign:"center",flexDirection:"column",alignItems:"center",paddingTop:"".concat(e.spacing.lg,"px")}},title:function(e){return{"h3 &":{marginBottom:"".concat(e.spacing.sm,"px")}}},linksContainer:function(e){return mn({textAlign:"center",marginLeft:"-".concat(e.spacing.sm,"px"),marginRight:"-".concat(e.spacing.sm,"px")},D.MEDIA_BREAKPOINTS.md,{marginLeft:0,marginRight:0})},link:function(e){return mn({marginLeft:"".concat(e.spacing.xxs,"px"),marginRight:"".concat(e.spacing.xxs,"px")},D.MEDIA_BREAKPOINTS.md,{marginLeft:"".concat(e.spacing.xs,"px"),marginRight:"".concat(e.spacing.xs,"px")})}};function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Nn=function(e){var t=e.trackReferralNavItemClick,n=e.content,r=e.hasFreebie,i=Object(xe.w)().mobile;return Object(U.e)("div",null,Object(U.e)(mt,{isMobile:!0,action:{type:v.ROUTE_MY_MENU},label:n[v.NAV_CONTENT_FIELDS.customerMenu],icon:G.MyMenuIcon,identifier:{"data-navigation-menu":!0}}),i.showReferralLink?Object(U.e)(mt,{isMobile:!0,onClick:function(){return t(r)},action:{type:v.ROUTE_REFERRAL},label:n[v.NAV_CONTENT_FIELDS.freebies],icon:G.FriendReferralIcon,identifier:{"data-navigation-referral":!0}},r&&Object(U.e)("div",{css:In.freebieNotification})):null,Object(U.e)(mt,{isMobile:!0,action:{type:v.ROUTE_SETTINGS_ROOT},label:n[v.NAV_CONTENT_FIELDS.settings],icon:G.GearOutlineIcon,identifier:{"data-account-settings-link":!0}}),Object(U.e)(mt,{isMobile:!0,action:{type:v.ROUTE_LOGOUT},label:n[v.NAV_CONTENT_FIELDS.logout],icon:G.LogoutIcon,identifier:{"data-logout-link":!0}}))};Nn.propTypes={content:b.a.object,hasFreebie:b.a.bool,trackReferralNavItemClick:b.a.func.isRequired};var In={freebieNotification:function(e){return{position:"relative",top:"-8px",width:"8px",height:"8px",borderRadius:"50%",background:D.COLORS.redLight,marginLeft:"".concat(e.spacing.xxs,"px")}}},Sn=[v.NAV_CONTENT_FIELDS.customerMenu,v.NAV_CONTENT_FIELDS.freebies,v.NAV_CONTENT_FIELDS.settings,v.NAV_CONTENT_FIELDS.logout],An=Object(p.a)(Object(_e.connect)({trackReferralNavItemClick:_e.trackReferralNavItemClick}),Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries;return En(En({},Cn(e,["entries"])),{},{content:Object(R.mapEntriesTitleByIdentifier)(t,Sn)})})),Object(f.a)((function(e){return{hasFreebie:!!Object(O.q)(e)}})))(Nn);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Dn=function(e){var t=e.content,n=Object(bt.a)({trackOurPlansNavigationClick:_e.trackOurPlansNavigationClick,trackNavigationWeeklyMenuClick:_e.trackNavigationWeeklyMenuClick});return Object(U.e)("div",null,Object(U.e)(mt,{isMobile:!0,icon:G.MyMenuIcon,action:{type:v.ROUTE_PUBLIC_MENU},onClick:n.trackNavigationWeeklyMenuClick,identifier:{"data-navigation-menu":!0},label:t[v.NAV_CONTENT_FIELDS.publicMenu]}),Object(U.e)(mt,{isMobile:!0,icon:G.PlateIcon,action:{type:v.ROUTE_PLANS},onClick:n.trackOurPlansNavigationClick,label:t[v.NAV_CONTENT_FIELDS.plans],identifier:{"data-navigation-plans":!0}}),Object(U.e)(mt,{isMobile:!0,icon:G.GearOutlineIcon,action:{type:v.ROUTE_SETTINGS_ROOT},label:t[v.NAV_CONTENT_FIELDS.settings],identifier:{"data-account-settings-link":!0}}),Object(U.e)(mt,{isMobile:!0,icon:G.LogoutIcon,action:{type:v.ROUTE_LOGOUT},identifier:{"data-logout-link":!0},label:t[v.NAV_CONTENT_FIELDS.logout]}))};Dn.propTypes={content:b.a.object};var Rn=[v.NAV_CONTENT_FIELDS.publicMenu,v.NAV_CONTENT_FIELDS.plans,v.NAV_CONTENT_FIELDS.referral,v.NAV_CONTENT_FIELDS.settings,v.NAV_CONTENT_FIELDS.logout],wn=Object(p.a)(Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries;return _n(_n({},xn(e,["entries"])),{},{content:Object(R.mapEntriesTitleByIdentifier)(t,Rn)})})))(Dn);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Vn=function(e){var t=e.trackOurPlansNavigationClick,n=e.content,r=e.trackNavigationWeeklyMenuClick;return Object(U.e)("div",null,Object(U.e)(mt,{isMobile:!0,onClick:r,action:{type:v.ROUTE_PUBLIC_MENU},label:n[v.NAV_CONTENT_FIELDS.publicMenu],identifier:{"data-navigation-menu":!0}}),Object(U.e)(mt,{isMobile:!0,onClick:t,action:{type:v.ROUTE_PLANS},label:n[v.NAV_CONTENT_FIELDS.plans],identifier:{"data-navigation-plans":!0}}))};Vn.propTypes={content:b.a.object,trackOurPlansNavigationClick:b.a.func.isRequired,trackNavigationWeeklyMenuClick:b.a.func.isRequired};var Bn=[v.NAV_CONTENT_FIELDS.publicMenu,v.NAV_CONTENT_FIELDS.plans],Hn=Object(p.a)(Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries;return Mn(Mn({},Un(e,["entries"])),{},{content:Object(R.mapEntriesTitleByIdentifier)(t,Bn)})})),Object(_e.connect)({trackOurPlansNavigationClick:_e.trackOurPlansNavigationClick,trackNavigationWeeklyMenuClick:_e.trackNavigationWeeklyMenuClick}))(Vn);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zn=function(e){var t=e.content,n=e.trackFAQNavigationClick;return Object(U.e)("div",{css:Yn.container},Object(U.e)(mt,{isMobile:!0,action:{type:v.ROUTE_FAQ},onClick:n,label:t[v.NAV_CONTENT_FIELDS.faq],identifier:{"data-navigation-faq":!0}}),Object(U.e)(ht,{isMobile:!0}),Object(U.e)(mt,{isMobile:!0,action:{type:v.ROUTE_CONTACT},label:t[v.NAV_CONTENT_FIELDS.contact],identifier:{"data-navigation-contact":!0}}))};zn.propTypes={content:b.a.object,trackFAQNavigationClick:b.a.func.isRequired};var Yn={container:function(e){return{borderTop:"solid 1px ".concat(D.COLORS.lighterGrey),marginTop:"".concat(e.spacing.lg,"px"),padding:"".concat(e.spacing.lg,"px 0")}}},Xn=Object(p.a)(Object(_e.connect)({trackFAQNavigationClick:_e.trackFAQNavigationClick}),Object(R.connectLinked)((function(){return v.CONTENT_HEADER_NAVIGATION}),"listItemsGroup"),Object(p.c)((function(e){var t=e.entries;return Kn(Kn({},Wn(e,["entries"])),{},{content:Object(R.mapEntriesTitleByIdentifier)(t,[v.NAV_CONTENT_FIELDS.faq,v.NAV_CONTENT_FIELDS.contact])})})))(zn);function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $n=function(e){var t=e.isCustomer,n=e.isLoggedIn,r=Zn(e,["isCustomer","isLoggedIn"]);return t?Object(U.e)(An,r):n?Object(U.e)(wn,r):Object(U.e)(Hn,r)};$n.propTypes={isCustomer:b.a.bool,isLoggedIn:b.a.bool};var Jn=function(e){var t=e.navigationOpen,n=e.closeNavigation,r=e.isLoggedIn,i=e.isCustomer,o=Object(H.b)(),c=Object(a.f)().headerHeight;return Object(U.e)(yn.a,{disabled:!t,onSwipedRight:n},Object(U.e)(U.c,{styles:t&&tr.bodyLockScroll}),Object(U.e)("div",{css:Object($e.a)([tr.overlay,t&&tr.overlayVisible],""),role:"presentation",onClick:n},Object(U.e)("section",{css:Object($e.a)([tr.container({theme:o,headerHeight:c}),t&&tr.containerVisible],"")},Object(U.e)("header",{css:tr.header(o)},Object(U.e)(G.CrossIcon,{onClick:n,css:tr.closeButton}),Object(U.e)("h3",{css:tr.title(o)},"EveryPlate")),Object(U.e)(Ze.a,{fullWidth:!0,css:tr.continueButton(o)}),!r&&Object(U.e)(ot,{css:tr.login(o)}),Object(U.e)($n,{isLoggedIn:r,isCustomer:i,id:"main-navigation"}),Object(U.e)(Xn,null),Object(U.e)(jn,null))))};Jn.propTypes={isLoggedIn:b.a.bool,isCustomer:b.a.bool,navigationOpen:b.a.bool,closeNavigation:b.a.func};var er="300ms",tr={bodyLockScroll:{body:Qn({},D.MEDIA_BREAKPOINTS.down("lg"),{overflow:"hidden"})},login:function(e){return{marginBottom:"".concat(e.spacing.lg,"px")}},overlay:Qn({position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:101,backgroundColor:D.COLORS.overlay,visibility:"hidden",opacity:0,transition:"visibility 0ms ".concat(er,", opacity ").concat(er," 0ms")},D.MEDIA_BREAKPOINTS.lg,{display:"none"}),overlayVisible:{visibility:"visible",opacity:1,transition:"visibility 0ms 0ms, opacity ".concat(er," 0ms")},container:function(e){var t=e.theme;return Qn({overflow:"auto",position:"absolute",top:e.headerHeight-50,right:0,bottom:0,width:"290px",padding:"".concat(t.spacing.sm,"px"),opacity:0,backgroundColor:D.COLORS.white,transform:"translateX(10%)",transition:"all ".concat(er)},D.MEDIA_BREAKPOINTS.md,{width:"375px",padding:"".concat(t.spacing.sm,"px ").concat(t.spacing.lg,"px ").concat(t.spacing.lg,"px")})},containerVisible:{opacity:1,transform:"translateX(0)",transition:"all ".concat(er," 100ms")},header:function(e){return{display:"flex",flexDirection:"row-reverse",alignItems:"center",marginBottom:"".concat(e.spacing.lg,"px")}},title:function(e){return{margin:"0 ".concat(e.spacing.sm,"px 0 0"),flex:"1 0 auto"}},closeButton:{flex:"0 0 auto"},continueButton:function(e){return{width:"100%",marginBottom:"".concat(e.spacing.md,"px")}}},nr=Object(p.a)(Object(f.a)((function(e){return{isLoggedIn:Object(Ye.e)(e),navigationOpen:Object(a.c)(e),isCustomer:Object(O.H)(e)}}),{closeNavigation:function(){return Object(a.e)({navigationOpen:!1})}}))(Jn),rr=n("UPhn"),ir=n("Uhsj"),or=n("tlF4"),cr=n("vo1p");var ar=function(){var e=Object(o.a)().isMenuView,t=Object(g.gb)().lastUnCancellableDeliveryDate,n=Object(R.useContentfulLegacy)((function(){return v.CONTENT_GLOBAL_NOTIFICATIONS})).entry,r=function(e){var t=e.deliveryDate,n=e.reactivateMessage,r=e.lastDeliveryTemplate;if(t){var i=Object(or.interpolateString)(r,{deliveryDate:t});return"".concat(n," ").concat(i)}return n}({deliveryDate:t,reactivateMessage:n.getField("reactivateMessage"),lastDeliveryTemplate:n.getField("reactivateMessageLastDelivery")}),c={type:v.ROUTE_SETTINGS_PLAN_SETTINGS,payload:{action:"reactivate"}};return e?null:Object(U.e)(i.a.Fragment,null,Object(U.e)("span",null,r),Object(U.e)(re.Link,{action:c,css:sr.cta},n.getField("reactivateMessageCta")))},sr={cta:function(e){return{"a&":(t={display:"block",outline:"none",color:"currentColor",textDecoration:"underline",marginTop:"".concat(e.spacing.xxs,"px")},n=D.MEDIA_BREAKPOINTS.md,r={display:"inline",marginTop:0,marginLeft:"".concat(e.spacing.st,"px")},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)};var t,n,r}};function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gr(e);if(t){var i=gr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Or(this,n)}}function Or(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?dr(e):t}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(o,e);var t,n,r,i=fr(o);function o(){var e;lr(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yr(dr(e=i.call.apply(i,[this].concat(n))),"handleFailedSubscription",(function(){e.props.addNotification({id:"failedSubscriptionMessage",content:e.props.entry.getField("failedSubscriptionMessage"),type:"error",dismiss:{disabled:!0},cta:{label:e.props.entry.getField("failedSubscriptionMessageCta"),href:e.props.entry.getField("failedSubscriptionMessageCtaUrl")}})})),yr(dr(e),"handleCanceledSubscription",(function(){e.props.addNotification({id:"reactivateMessage",content:Object(U.e)(ar,null),type:"error",dismiss:{disabled:!0}})})),yr(dr(e),"handleHolidayShiftNotification",(function(){e.props.holidayShift.forEach((function(t){var n=Object(cr.formatDate)(t.deliveryDate,v.FORMAT_DELIVERY_HOLIDAY),r=Object(cr.formatDate)(t.holidayDelivery,v.FORMAT_DELIVERY_HOLIDAY);e.props.addNotification({id:"holidayMessage",content:Object(or.getInterpolatedSections)(e.props.entry.getField("holidayShiftMessage"),{deliveryDate:n,holidayDelivery:r}),type:"success",dismiss:{timer:6}})}))})),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.holidayShift;e.isSubscriptionCancelled&&this.handleCanceledSubscription(),t&&this.handleHolidayShiftNotification()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.hasSubscriptionFailed,r=t.holidayShift,i=t.isSubscriptionCancelled,o=n&&!e.hasSubscriptionFailed,c=r.length&&!e.holidayShift.length,a=i&&!e.isSubscriptionCancelled;o&&this.handleFailedSubscription(),a&&this.handleCanceledSubscription(),c&&this.handleHolidayShiftNotification()}},{key:"render",value:function(){return null}}])&&br(t.prototype,n),r&&br(t,r),o}(i.a.Component);mr.propTypes={entry:b.a.object,hasSubscriptionFailed:b.a.bool,isSubscriptionCancelled:b.a.bool,holidayShift:b.a.array,addNotification:b.a.func};var jr=Object(p.a)(Object(R.connect)((function(){return v.CONTENT_GLOBAL_NOTIFICATIONS})),Object(f.a)((function(e){var t=Object(g.L)(e);return{isSubscriptionCancelled:Object(g.A)(t),hasSubscriptionFailed:Object(g.N)(e),holidayShift:Object(rr.C)(e)}}),{addNotification:ir.b}))(mr),vr=n("6puf");function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=function(e){return"customNotification-".concat(e.getId())},Cr=function(e){var t=e.addNotification,n=e.entry,r=!(!n.getField("ctaText")||!n.getField("ctaUrl"));t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){Er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:Tr(n),content:n.getField("content"),type:n.getField("isError")?"error":"success",dismiss:{disabled:!0}},r&&{cta:{label:n.getField("ctaText"),href:n.getField("ctaUrl")}}))},Nr=Object(p.a)(Object(f.a)(null,{addNotification:ir.b,removeNotification:ir.c}),Object(p.b)({componentDidMount:function(){Cr(this.props)},componentWillUnmount:function(){this.props.removeNotification({id:Tr(this.props.entry)})}}))((function(){return null})),Ir=Object(p.a)(Object(R.connectType)((function(){return v.CONTENT_TYPE_CUSTOM_NOTIFICATIONS})),Object(f.a)((function(e){return{countryLocale:Object(vr.d)(e),isLoggedIn:Object(Ye.e)(e),isContactPage:Object(d.H)(e)===v.ROUTE_CONTACT}})),p.e)((function(e){var t=e.entries,n=e.isLoggedIn,r=e.isContactPage,i=e.countryLocale;return t.filter((function(e){return function(e){var t=e.entry,n=e.isLoggedIn,r=e.isContactPage,i=e.countryLocale;return Boolean((!t.getField("isProtected")||n)&&t.getField("content")&&["*",i].includes(t.getField("countryLocale"))&&(!t.getField("displayOnlyOnContactPage")||r))}({entry:e,countryLocale:i,isLoggedIn:n,isContactPage:r})})).map((function(e){return Object(U.e)(Nr,{entry:e,key:e.getId()})}))})),Sr=n("Q33P"),Ar=n.n(Sr),Pr=n("R9Wj"),_r=n.n(Pr),kr=n("3js9"),xr=n.n(kr),Dr=n("7jeQ"),Rr=n.n(Dr),wr=function(e){var t=e.onClick,n=e.type,r=Object(H.b)();return Object(U.e)("span",{css:Lr.button,onClick:t,role:"button","aria-label":"Close Notification",tabIndex:0},Object(U.e)(G.CrossIcon,{width:12,height:12,color:r.notification.types[n].color}))};wr.propTypes={onClick:b.a.func.isRequired,type:b.a.string.isRequired};var Lr={button:function(e){return{position:"absolute",top:"2px",right:0,padding:"".concat(e.spacing.xxs,"px ").concat(e.spacing.sm,"px"),cursor:"pointer",color:e.notification.dismissButton.color}}};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr=function(e){var t=e.children,n=e.id,r=e.type;return Object(U.e)("div",{"data-notification":n,css:Br.container({type:r})},t)};Vr.propTypes={children:b.a.node,id:b.a.string,type:b.a.string};var Br={container:function(e){var t=e.type;return function(e){return Fr(Fr({position:"relative",padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.md,"px"),color:e.notification.container.color,fontSize:D.FONT_SIZE.small.sm,fontWeight:D.FONT_WEIGHT.normal,lineHeight:1.6,textAlign:"left"},e.notification.types[t]),{},Ur({":empty":{display:"none"}},D.MEDIA_BREAKPOINTS.md,{fontSize:D.FONT_SIZE.small.lg,padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.xl,"px"),textAlign:"center"}))}}},Hr=function(e){var t=e.id,n=e.isAbleToDismiss,i=e.autoDismissTimer,o=Object(r.useRef)(0),c=Object(ir.e)().removeNotification,a=function(){return c(t)};return Object(r.useEffect)((function(){if(n&&i>0){var e=1e3*i;o.current=setTimeout(a,e)}return function(){clearTimeout(o.current)}}),[]),{dismiss:a}},Gr=function(){return function(e,t){if(!e||!t)return null;switch(e){case v.VOUCHER_ERROR_TYPE.reactivation:return t.getField("messageInvalidReactivation");case v.VOUCHER_ERROR_TYPE.expired:return t.getField("messageInvalidExpired");case v.VOUCHER_ERROR_TYPE.generic:default:return t.getField("messageInvalidVoucher")}}(Object(y.D)().errorType,Object(R.useContentfulLegacy)((function(){return v.CONTENT_VOUCHER_NOTIFICATION})).entry)},Kr=function(e){var t=e.id,n=e.isAbleToDismiss,r=e.autoDismissTimer,i=Hr({id:t,isAbleToDismiss:n,autoDismissTimer:r}).dismiss,o=Gr();return Object(U.e)(Vr,{id:t,type:"error"},Object(U.e)(wr,{type:"error",onClick:i}),o)};Kr.propTypes={id:b.a.string.isRequired,isAbleToDismiss:b.a.bool,autoDismissTimer:b.a.number};var qr=function(e){var t=e.id,n=Hr({id:t,isAbleToDismiss:!0,autoDismissTimer:0}).dismiss,r=Object(R.useContentfulLegacy)((function(){return v.CONTENT_VOUCHER_REPLACEMENT_NOTIFICATION})).entry,i=Object(_t.H)().code,o=Object(y.C)().fetchAndValidate,c=Object(_e.useTracking)({trackVoucherReplacementClick:_e.trackVoucherReplacementClick});return Object(U.e)("div",{"data-notification":t,css:Wr.container},Object(U.e)(wr,{type:"error",onClick:n}),r.getField("image")?Object(U.e)("img",{src:r.getField("image").url,alt:r.getField("image").title,css:Wr.alertIcon}):null,Object(U.e)("div",null,r.getField("title"),Object(U.e)(re.Link,{onClick:function(){o({voucherCode:i}),c.trackVoucherReplacementClick({voucherCode:i})},css:Wr.link},r.getField("subtitle"))))};qr.propTypes={id:b.a.string.isRequired};var Wr={container:function(e){return t={padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.sm,"px"),backgroundColor:e.notification.types.funnelVoucherReplacement.backgroundColor,color:e.notification.types.funnelVoucherReplacement.color,fontSize:e.typography.body.fontSize.sm,lineHeight:"".concat(e.typography.body.lineHeight.sm,"px"),display:"flex",justifyContent:"left",alignContent:"left"},n=D.MEDIA_BREAKPOINTS.md,r={fontSize:e.typography.body.fontSize.lg,lineHeight:"".concat(e.typography.body.lineHeight.lg,"px"),justifyContent:"center",alignContent:"center"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r},alertIcon:{position:"relative",width:"20px",height:"20px",marginRight:"8px",top:"2px"},link:function(e){return{"a&":{display:"inline",marginLeft:"3px",color:e.notification.types.funnelVoucherReplacement.color,textDecoration:"underline",fontWeight:"bold",whiteSpace:"nowrap"}}}},zr=function(e){var t=e.id,n=e.isAbleToDismiss,r=e.autoDismissTimer,i=Object(O.I)().isCustomer,o=Object(_t.H)(),c=o.isEnabled,a=o.code;return c&&!!a&&!i?Object(U.e)(qr,{id:t}):Object(U.e)(Kr,{id:t,isAbleToDismiss:n,autoDismissTimer:r})};zr.propTypes={id:b.a.string.isRequired,isAbleToDismiss:b.a.bool,autoDismissTimer:b.a.number};var Yr=n("hDs/");function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr={text:function(e){return t={marginLeft:"4px"},n=D.MEDIA_BREAKPOINTS.lg,r={fontSize:e.discounts.mwd.message.fontSize},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}},$r=function(){var e=Xr(Object(R.useContentful)([R.VOUCHER_COUNTDOWN_TEXT]),1)[0],t=Xr(Object(r.useState)(18e5),2),n=t[0],i=t[1];if(Object(r.useEffect)((function(){var e=setInterval((function(){i((function(e){return e-1e3}))}),1e3);return function(){return clearInterval(e)}}),[]),n<=0)return null;var o=Object(cr.formatTimeFromMilliseconds)(n);return Object(U.e)(Yr.a,{css:Zr.text},Object(or.interpolateString)(e,{formattedTime:o}))};function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ni=function(e){var t=e.boxIcon,n=e.index,r=e.discountAmount,o=e.isPerServingDiscount;return Object(U.e)(i.a.Fragment,null,Object(U.e)("div",{css:ri.boxContainer(o)},Object(U.e)("img",{src:t.url,alt:t.title,css:ri.boxIcon(o)}),Object(U.e)("span",{css:ri.boxNumber(n,o)},function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(n+1))),Object(U.e)("div",{css:ri.discountAmount},r))};ni.propTypes={index:b.a.number,discountAmount:b.a.string,boxIcon:b.a.object,isPerServingDiscount:b.a.bool};var ri={boxContainer:function(e){return function(t){return{position:"relative",display:"flex",justifyContent:e?"center":"flex-end",marginBottom:t.spacing.xxs}}},boxIcon:function(e){return function(t){return ei({width:36,height:30},!e&&{marginRight:t.spacing.xs})}},discountContainer:function(e){return{zIndex:1,marginTop:"-".concat(e.spacing.st,"px"),position:"relative",fontWeight:D.FONT_WEIGHT.bold}},discountAmount:function(e){return{padding:"0 ".concat(e.spacing.xxs,"px"),lineHeight:"18px",color:e.discounts.mwd.color,borderRadius:"3px",textTransform:"uppercase",fontWeight:e.discounts.mwd.fontWeight,fontSize:e.discounts.mwd.discountAmount.fontSize}},boxNumber:function(e,t){return function(n){var r="calc(50% - ".concat(1===e?38:33,"px)"),i=1===e?-2:3;return ei(ei({},n.discounts.mwd.label),{},{left:t?r:i,marginTop:-3,padding:"0 6px",position:"absolute",top:0,lineHeight:"initial"})}}},ii=ni;function oi(){return(oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ci=function(e){var t=e.discountAmount,n=e.index,r=e.boxIcon,i=e.discountVariant,o=e.boxMessage,c={index:n,boxIcon:r};if(!t)return null;var a="discountAmount"!==i;return Object(U.e)("div",{css:ai.item,"data-multibox-voucher-box":n+1},Object(U.e)(ii,oi({},c,{discountAmount:Object(or.interpolateString)(o,{discountAmount:t}),isPerServingDiscount:a})))},ai={item:function(e){return t={backgroundColor:e.discounts.mwd.backgroundColor,padding:"0 ".concat(e.spacing.xxs,"px")},n=D.MEDIA_BREAKPOINTS.md,r={padding:"0 ".concat(e.spacing.xs,"px")},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}};ci.propTypes={index:b.a.number,discountAmount:b.a.string,boxIcon:b.a.object,discountVariant:b.a.string,boxMessage:b.a.string};var si=function(e){var t=e.boxes,n=50+11*(t.length-4==0?1:t.length-4),r=t.length>=4?n:50;return Object(U.e)("div",{css:ui.container({boxes:t})},Array.from(Array(r)).map((function(e,t){return Object(U.e)("div",{css:ui.dot,key:t})})))},ui={dot:function(e){return{backgroundColor:e.discounts.mwd.dots.backgroundColor,width:4,height:"100%",display:"inline-block",margin:"0 4px 16px 0"}},container:function(e){var t,n,r,i=e.boxes;return t={position:"absolute",top:33,left:"".concat(28.5-5*(i.length-2),"%"),height:2,width:"".concat(Math.min(20*i.length,100),"%"),overflow:"hidden"},n=D.MEDIA_BREAKPOINTS.down("sm"),r={display:"none"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}};si.propTypes={boxes:b.a.array.isRequired};var li=si,bi=n("ak05");function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oi(e){return function(e){if(Array.isArray(e))return vi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ji(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||ji(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){if(e){if("string"==typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hi=function(e){var t=e.locationType,n=e.trackVoucherNotificationClick,i=e.boxes,o=e.theme,c=e.ctaMessages,a=void 0===c?{}:c,s=e.isMobile,l=e.multiBoxDiscountIconInfo,b=function(){var e=Object(y.C)().voucherMessagingType,t=Object(bi.e)(),n=pi(Object(R.useContentful)([R.VOUCHER_BOX_TOTAL_MESSAGE,R.VOUCHER_BOX_FREEMEALS_MESSAGE,R.VOUCHER_BOX_PERSERVING_MESSAGE]),3),r=n[0],i=n[1],o=n[2];return e===v.VOUCHER_MESSAGING_TYPES.totalMeals||e===v.VOUCHER_MESSAGING_TYPES.upToMeals?(t="discountMeals",o=i):e===v.VOUCHER_MESSAGING_TYPES.perServing?t="discountedPricePerServing":"discountAmount"===t&&(o=r),{discountVariant:t,boxMessage:o}}(),p=b.discountVariant,f=b.boxMessage,O=a.hideDetailsText,d=void 0===O?"":O,g=a.showDetailsText,m=void 0===g?"":g,j=mi(Object(r.useState)(!1),2),h=j[0],E=j[1];Object(r.useEffect)((function(){t&&!h&&E(!1)}),[t,h]);var T=h?d:m;return Object(U.e)(r.Fragment,null,Object(U.e)("a",{role:"button","data-voucher-toggle-details":!0,css:Ti.toggle,onClick:function(){var e=!h;E(e),e&&n()},tabIndex:"0"},T,Object(U.e)(G.ArrowDownIcon,{css:Ti.icon({showDetails:h}),width:10,height:5,color:o.DEPRECATED.notifications.color})),Object(U.e)("div",{"data-voucher-details":!0,css:Object($e.a)([Ti.container({isMobile:s,theme:o}),h&&Ti.showContent({isMobile:s})],"")},Object(U.e)(u.Container,{css:Ti.wrapper},Object(U.e)("div",{css:Ti.content},Object(U.e)(li,{boxes:i}),Object(U.e)("div",{css:Ti.boxes({boxes:i})},i.map((function(e,t){return Object(U.e)(ci,{discountAmount:e[p],index:t,key:t,discountVariant:p,boxIcon:l,boxMessage:f})})))))))};hi.propTypes={boxes:b.a.array.isRequired,ctaMessages:b.a.shape({hideDetailsText:b.a.string,showDetailsText:b.a.string}),isMobile:b.a.bool,locationType:b.a.string,multiBoxDiscountIconInfo:b.a.shape({title:b.a.string,url:b.a.string}),theme:b.a.object,trackVoucherNotificationClick:b.a.func.isRequired};var Ei={position:"absolute",width:"100%",top:"-75px",transition:"top 0.25s ease",zIndex:-1},Ti={container:function(e){var t,n=e.isMobile,r=e.theme;return gi(gi({},!n&&Ei),{},(yi(t={display:n?"none":null,zIndex:n?null:-1,backgroundColor:r.discounts.mwd.backgroundColor,textAlign:"left",color:r.typography.body.color,borderBottom:r.discounts.mwd.borderBottom},D.MEDIA_BREAKPOINTS.only("md"),{margin:"7px -40px -7px",paddingTop:"22px"}),yi(t,D.MEDIA_BREAKPOINTS.only("lg"),{margin:"9px -40px -9px"}),yi(t,D.MEDIA_BREAKPOINTS.down("sm"),{top:n?null:"-130px"}),t))},showContent:function(e){return{top:"28px",display:e.isMobile?"block":null}},wrapper:{maxWidth:"750px !important"},toggle:function(e){var t;return yi(t={display:"inline-block",width:"96px",color:e.DEPRECATED.notifications.color,marginLeft:"10px",textDecoration:"underline",fontWeight:e.discounts.mwd.fontWeight},D.MEDIA_BREAKPOINTS.lg,{fontSize:e.discounts.mwd.message.fontSize}),yi(t,D.MEDIA_BREAKPOINTS.md,{width:"124px"}),yi(t,":hover svg",{backgroundColor:e.discounts.mwd.icon.backgroundColor}),t},boxes:function(e){var t=e.boxes;return{display:"flex",justifyContent:"space-evenly",textAlign:"center",flex:"auto",width:"".concat(Math.min(20*t.length,100),"%"),zIndex:1}},description:yi({marginRight:"15px",marginLeft:"15px"},D.MEDIA_BREAKPOINTS.md,{marginBottom:0,maxWidth:"400px"}),content:yi({display:"flex",flexDirection:"column",alignItems:"center",padding:"12px 0",position:"relative"},D.MEDIA_BREAKPOINTS.md,{flexDirection:"row",justifyContent:"space-between"}),icon:function(e){var t=e.showDetails;return function(e){return yi({cursor:"pointer",marginLeft:e.spacing.xs,transform:t?"rotateX(180deg)":"rotateX(0deg)",transition:"all 200ms ease",borderRadius:"50%",padding:"4px 2px",backgroundColor:e.discounts.mwd.icon.backgroundColor},D.MEDIA_BREAKPOINTS.lg,{backgroundColor:"transparent",padding:"6px 4px"})}}},Ci=Object(p.a)(H.c,Object(R.connectAndTransform)((function(){return{CONTENT_VOUCHER_MULTIBOX_VARIED:v.CONTENT_VOUCHER_MULTIBOX_VARIED,CONTENT_VOUCHER_MULTIBOX_IDENTICAL:v.CONTENT_VOUCHER_MULTIBOX_IDENTICAL,CONTENT_VOUCHER_MULTIBOX_VARIED_PERCENTAGE:v.CONTENT_VOUCHER_MULTIBOX_VARIED_PERCENTAGE,CONTENT_VOUCHER_MULTIBOX_IDENTICAL_POTENTIAL:v.CONTENT_VOUCHER_MULTIBOX_IDENTICAL_POTENTIAL,CONTENT_VOUCHER_SHIPPING_FIRST_BOX:v.CONTENT_VOUCHER_SHIPPING_FIRST_BOX,CONTENT_VOUCHER_SHIPPING_MANY:v.CONTENT_VOUCHER_SHIPPING_MANY,CONTENT_VOUCHER_PERCENTAGE_DISCOUNT:v.CONTENT_VOUCHER_PERCENTAGE_DISCOUNT,CONTENT_VOUCHER_PERCENTAGE_SHIPPING:v.CONTENT_VOUCHER_PERCENTAGE_SHIPPING,CONTENT_VOUCHER_POTENTIAL_TOTAL_SAVINGS:v.CONTENT_VOUCHER_POTENTIAL_TOTAL_SAVINGS,CONTENT_VOUCHER_TOTAL_SAVINGS:v.CONTENT_VOUCHER_TOTAL_SAVINGS,CONTENT_VOUCHER_CTA:v.CONTENT_VOUCHER_CTA,CONTENT_VOUCHER_MULTIBOX_ICON:v.CONTENT_VOUCHER_MULTIBOX_ICON}}),{transform:function(e,t){var n=e.entries,r=t.isPotentialDiscount,i=t.isPercentageVoucher;return{content:gi({variedDiscountMessage:n[i?"CONTENT_VOUCHER_MULTIBOX_VARIED_PERCENTAGE":"CONTENT_VOUCHER_MULTIBOX_VARIED"].getField("value"),identicalDiscountMessage:n.CONTENT_VOUCHER_MULTIBOX_IDENTICAL.getField("value"),percentageDiscountMessage:n.CONTENT_VOUCHER_PERCENTAGE_DISCOUNT.getField("value"),freeShippingFirstBoxMessage:n.CONTENT_VOUCHER_SHIPPING_FIRST_BOX.getField("value"),freeShippingOnDeliveriesMessage:n.CONTENT_VOUCHER_SHIPPING_MANY.getField("value"),freeShippingForPercentageVoucher:n.CONTENT_VOUCHER_PERCENTAGE_SHIPPING.getField("value")},i&&{totalSavingsMessage:n[r?"CONTENT_VOUCHER_POTENTIAL_TOTAL_SAVINGS":"CONTENT_VOUCHER_TOTAL_SAVINGS"].getField("value")}),multiBoxDiscountIconInfo:n.CONTENT_VOUCHER_MULTIBOX_ICON.getField("image"),ctaMessages:{showDetailsText:n.CONTENT_VOUCHER_CTA.getField("successActionText"),hideDetailsText:n.CONTENT_VOUCHER_CTA.getField("cancelActionText")}}}}),Object(_e.connect)({trackVoucherNotificationClick:_e.trackVoucherNotificationClick}),Object(f.a)((function(e,t){var n=t.product,r=t.content,i=t.isPotentialDiscount,o=Object(vr.h)(e),c=Object(d.H)(e),s=Object(a.b)(e);if(!(Object(y.g)(e)&&Object(y.h)(e)))return{locationType:c,voucherMessage:"",boxes:[]};var u=Object(m.d)(n),l=u.price,b=u.shipping,p=u.perServing,f=Object(m.g)(n).perServingWithDiscount,O=Object(m.e)(n),g=Object(y.o)(e,{productPrice:l,shippingPrice:b,totalServingsPerDelivery:O});return{voucherMessage:function(e,t){var n=t.discountsByBox,r=t.isPotentialDiscount,i=t.content,o=t.discountedPricePerServing,c=t.pricePerServing,a=t.totalServings,s=t.totalDiscountValues,u=Object(y.w)(e),l=Object(y.x)(e,{boxDiscountsForProduct:n}),b=l.isDiscountVaried,p=l.productDiscount,f=l.totalProductDiscount,O=l.discountedBoxCount,d=l.totalWaivedShippingCount,g=l.firstBoxHasFreeShipping,m=Object(vr.h)(e);return Object(y.f)(gi({isDiscountVaried:b,productDiscount:p,totalProductDiscount:f,totalDiscountValues:Object(or.getFormattedCurrency)({value:s,locale:m,minimumFractionDigits:s%1==0?0:2}),discountedBoxCount:O,totalWaivedShippingCount:d,firstBoxHasFreeShipping:g,isPotentialDiscount:r,isPercentageVoucher:u,discountedPricePerServing:o,pricePerServing:c,discountsByBox:n,totalServings:a,locale:m},i)).message}(e,{totalDiscountValues:Object(y.B)(e,{productPrice:l,shippingPrice:b}).totalDiscount,discountsByBox:g,content:r,isPotentialDiscount:i,discountedPricePerServing:f,pricePerServing:p,totalServings:O}),boxes:function(e){var t=e.discountsByBox,n=e.pricePerServing,r=e.locale;return Oi(Array(5)).map((function(e,i){if(!t[i])return{discountAmount:null};var o=t[i].productDiscount,c=Object(or.getFormattedCurrency)({value:o,locale:r,minimumFractionDigits:o%1==0?0:2});return t[i].percentageDiscount&&(c="".concat(Math.round(t[i].percentageDiscount),"%")),{discountAmount:c,discountedPricePerServing:Object(or.getFormattedCurrency)({value:t[i].discountedPricePerServing,locale:r,minimumFractionDigits:t[i].discountedPricePerServing%1==0?0:2}),discountMeals:"".concat(Math.floor(o/n))}}))}({discountsByBox:g,pricePerServing:p,locale:o}).filter((function(e){return!!e.discountAmount})),locationType:c,headerHeight:s,isMobile:"mobile"===ke.ClientSniffer.getDeviceType(),isDiscountVaried:Object(y.u)(e)}})))(hi),Ni=n("p6mP"),Ii=function(){var e=Object(ct.useEPStore)().state,t=Object(Ni.a)(),n=Object(y.C)(),r=n.isMultiboxVoucher,i=n.isPercentageVoucher;if(!r)return null;var o=!!Object(Xe.z)(e);return Object(U.e)(Ci,{product:t,isPotentialDiscount:o,isPercentageVoucher:i})},Si=n("QBd+");var Ai=function(e){var t,n,i,o,c,a,s,u=e.id,l=Object(Gt.b)(),b=Object(O.I)().isCustomer,p=Object(m.p)().isFulfilled,f=(t=Object(y.C)(),n=t.fetchType,i=t.voucherType,o=t.voucherCode,c=Object(_e.useTracking)({trackVoucherNotificationImpression:_e.trackVoucherNotificationImpression}),a=Object(Si.a)(),s=Object(Gt.b)({isCondensed:!0}),{trackSuccessImpression:Object(r.useCallback)((function(){return c.trackVoucherNotificationImpression({notificationType:n,voucherType:i,voucherCode:o,discountAmount:a,discountMessage:s})}),[n,o,i])}).trackSuccessImpression,d=Object(R.useContentfulLegacy)((function(){return v.CONTENT_DISCOUNT_ICON})).entry.getField("image")||{},g=d.url,j=d.title;return Object(r.useEffect)((function(){!b&&p&&f()}),[b,p,f]),b||p?Object(U.e)(Vr,{id:u,type:"success"},g&&j?Object(U.e)("img",{alt:j,src:g,css:Pi.icon}):null,Object(U.e)("span",{css:Pi.text},l),Object(U.e)($r,null),Object(U.e)(Ii,null)):null};Ai.propTypes={id:b.a.string.isRequired};var Pi={icon:function(e){return{marginRight:e.spacing.xs,position:"relative",transform:"translateY(20%)"}},text:function(e){return t={},n=D.MEDIA_BREAKPOINTS.lg,r={fontSize:e.discounts.mwd.message.fontSize},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}};function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xi=function(e){var t=e.id,n=e.isAbleToDismiss,r=e.autoDismissTimer,i=Hr({id:t,isAbleToDismiss:n,autoDismissTimer:r}).dismiss,o=_i(Object(R.useContentful)(R.VOUCHERS_ACTIVE_USERS_SUCCESS),1)[0],c=Object(O.I)().isCustomer;return Object(U.e)(Vr,{id:t,type:"success"},Object(U.e)(wr,{type:"success",onClick:i}),o,!c&&Object(U.e)($r,null))};xi.propTypes={id:b.a.string.isRequired,isAbleToDismiss:b.a.bool,autoDismissTimer:b.a.number};var Di=function(e){var t=e.id,n=e.render,r=e.isAbleToDismiss,i=e.autoDismissTimer,o={id:t,isAbleToDismiss:r,dismiss:Hr({id:t,isAbleToDismiss:r,autoDismissTimer:i}).dismiss,DismissButton:wr,NotificationContainer:Vr};return Object(U.e)(n,o)};Di.propTypes={id:b.a.string.isRequired,render:b.a.func.isRequired,isAbleToDismiss:b.a.bool,autoDismissTimer:b.a.number};var Ri=n("B42D"),wi=n.n(Ri);var Li=function(e){var t=e.id,n=e.type,r=e.content,i=e.dismiss,o=e.cta,c=e.renderAfter,a=!wi()(i,"disabled"),s=wi()(i,"timer"),u=!!o,l=!!c,b=Hr({id:t,isAbleToDismiss:a,autoDismissTimer:s}).dismiss;return Object(U.e)(Vr,{id:t,type:n},"string"==typeof r?Object(U.e)("span",{dangerouslySetInnerHTML:{__html:r}}):r,function(){if(!u)return null;var e=wi()(o,"href"),t=wi()(o,"onClick"),r=wi()(o,"label",null);return Object(U.e)(re.Link,{href:e,onClick:t,css:Mi.cta({type:n})},r)}(),l?c():null,a?Object(U.e)(wr,{onClick:b,type:n}):null)};Li.propTypes={id:b.a.string.isRequired,type:b.a.string.isRequired,content:b.a.node.isRequired,dismiss:b.a.shape({disabled:b.a.bool,timer:b.a.number}),cta:b.a.shape({href:b.a.string,onClick:b.a.func,label:b.a.string}),renderAfter:b.a.func};var Mi={cta:function(e){var t=e.type;return function(e){return{"a&":(n={display:"block",marginTop:"".concat(e.spacing.xxs,"px"),color:e.notification.types[t].color,textDecoration:"underline",outline:"none"},r=D.MEDIA_BREAKPOINTS.md,i={display:"inline",marginTop:0,marginLeft:"".concat(e.spacing.xxs,"px")},r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n)};var n,r,i}}},Fi=function(e){var t=e.id,n=e.type,r=e.render,i=e.isAbleToDismiss,o=e.autoDismissTimer,c=Hr({id:t,isAbleToDismiss:i,autoDismissTimer:o}).dismiss;return Object(U.e)(Vr,{id:t,type:n},r,i&&Object(U.e)(wr,{onClick:c,type:n}))};Fi.propTypes={id:b.a.string.isRequired,type:b.a.string.isRequired,render:b.a.node.isRequired,isAbleToDismiss:b.a.bool,autoDismissTimer:b.a.number};var Ui=function(e){var t=e.notification,n=xr()({},t,{isAbleToDismiss:!0,autoDismissTimer:5,dismiss:{disabled:!1,timer:5}}),r=!n.render;return Rr()(n,"content")||Rr()(n,"render")?r?Object(U.e)(Li,n):"function"==typeof n.render?Object(U.e)(Di,n):"FunnelVoucherSuccessNotification"===n.render?Object(U.e)(Ai,n):"ActiveVoucherSuccessNotification"===n.render?Object(U.e)(xi,n):"FunnelVoucherErrorNotification"===n.render?Object(U.e)(zr,n):Object(U.e)(Fi,n):null};Ui.propTypes={notification:b.a.shape({id:b.a.string.isRequired,type:b.a.string,render:b.a.oneOfType([b.a.node,b.a.func]),isAbleToDismiss:b.a.bool,autoDismissTimer:b.a.number,content:b.a.node,dismiss:b.a.shape({disabled:b.a.bool,timer:b.a.number}),cta:b.a.shape({href:b.a.string,onClick:b.a.func,label:b.a.string}),renderAfter:b.a.func}).isRequired};var Vi={container:function(e){return{position:e.headerPosition||"sticky",top:e.headerHeight||0,left:0,right:0,zIndex:3}}},Bi=function(){var e=Object(ir.e)().notifications,t=Object(a.f)(),n=t.headerHeight,r=t.headerPosition,i=Object(a.h)().style;return Ar()(e)?null:Object(U.e)("div",{id:"notifications",css:Object($e.a)([Vi.container({headerHeight:n,headerPosition:r}),i],"")},_r()(e).map((function(e){return Object(U.e)(Ui,{notification:e,key:e.id})})))};t.default=function(){var e=Object(c.a)();return Object(o.d)().hide.includes("header")?null:Object(U.e)(i.a.Fragment,null,Object(U.e)(jr,null),Object(U.e)(Ir,null),Object(U.e)(dn,null),Object(U.e)(Bi,null),e&&Object(U.e)(nr,null))}}}]);