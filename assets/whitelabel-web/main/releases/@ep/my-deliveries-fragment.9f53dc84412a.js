(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+DuF":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return S})),n.d(t,"i",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return A})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return R})),n.d(t,"j",(function(){return P}));var r=n("B42D"),i=n.n(r),o=n("Mh0k"),a=n("EOzB"),c=n("Enzx"),u=n("6puf"),l=n("QaFl"),s=n("R7ZC"),p=n("Hjel"),f=n("p5oe"),d=n("K7Vf"),b=n("D5ML"),g=n("KPNG"),O=n("7M8N");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){var t,n=e.orderId,r=e.paymentPayload;if(e.selectedMethod===O.i){var i=r.payment_details,o=r.browser_info,a=r.checkout_integration,c=r.origin,u=r.returnUrl;t={provider:O.m,payment_details:i,browser_info:o,meta:{checkout_integration:a,origin:c,returnUrl:u}}}else t={provider:O.n,meta:{device_data:r.deviceData,payment_method_nonce:r.paymentMethodNonce}};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({change:!0,order_id:parseInt(n,10),payment_method:O.r},t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){return t(h(e))}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var i=r.gwClient,c=e.paymentMethod===a.ADYEN_CREDIT_CARD?e.paymentData.payment_details:e.paymentData;return t({type:g.a,payload:Object(o.requestPaymentMethodChange)(i,{subscriptionId:Object(s.N)(n()),paymentData:c,paymentMethod:e.paymentMethod,browserInfo:e.browserInfo,systemCountry:Object(u.i)(n()).toLowerCase(),realCountry:Object(p.X)(n()).toLowerCase(),billingAddress:Object(s.I)(n()).billingAddress,workflow:"change",customerId:Object(f.y)(n()),customerUUID:Object(f.G)(n())}).then((function(e){var t=e.data;if(t&&"Error"===t.status)throw t;return t})),meta:{params:e}})}},S=function(){return function(e,t,n){var r=n.gwClient,i=Object(d.a)(t());if(i&&"ok"!==i)return Promise.resolve();var a=Object(s.I)(t()),l=Object(s.n)(a),f=c.a[l],b=Object(s.m)(a);return e({type:g.h,payload:Object(o.requestPaymentMethodChange)(r,{subscriptionId:Object(s.N)(t()),paymentMethod:f,paymentTokenId:b,systemCountry:Object(u.i)(t()).toLowerCase(),realCountry:Object(p.X)(t()).toLowerCase(),billingAddress:Object(s.I)(t()).billingAddress,workflow:"reactivation"}).then((function(e){var t=e.data;if(t&&"Error"===t.status)throw t;return t}))})}},k=function(e){return function(t,n,r){var i=r.gwClient;return t({type:g.d,payload:Object(o.requestCheckoutPaymentMethods)(i,{country:Object(u.i)(n()),scenario:e}).then((function(e){return e.data.result})),meta:{scenario:e,isTestMethodEnabled:Object(p.M)(n())}})}},w=function(e){return function(t,n){var r=Object(b.c)(n()),i=Object(b.e)(n()),o=Object(b.j)(n());return(e!==a.PAYMENT_CHECKOUT_SCENARIO||r.length)&&(e!==a.PAYMENT_CHANGE_SCENARIO||i.length)&&(e!==a.PAYMENT_RETRY_SCENARIO||o.length)?null:t(k(e))}},E=function(){return function(e,t){var n=Object(b.h)(t()),r=Object(b.i)(t()),i=(new Date).getTime()+3600;return n.length&&r<i?null:e((function(e,t,n){var r=n.gwClient;return e({type:g.c,payload:e(Object(l.a)({gwClient:r,path:"/payments/".concat(Object(u.i)(t()).toLowerCase(),"/payment/client_keys"),params:{"adyen-sdk":"v2"}})).then((function(e){return e.data}))})}))}},I=function(e){return{type:g.g,payload:e}},A=function(){return function(e,t){return Object(b.d)(t()).length?null:e((function(e,t,n){var r=n.gwClient;return e({type:g.b,payload:Object(o.requestCustomerPaymentMethods)(r,{country:Object(u.i)(t()),viewAll:!0}).then((function(e){return e.data.result}))})}))}},T=function(e){var t=e.orderId,n=e.paymentTokenId,r=e.methodChanged,i=e.provider,a=e.method;return function(e,c,l){var s=l.gwClient,p={order_id:parseInt(t,10),payment_token_id:parseInt(n,10),change:r,provider:i,payment_method:a};return e({type:g.e,payload:Object(o.requestRetryPayment)(s,{country:Object(u.i)(c()),data:p}).then((function(e){return e.data}))})}},x=function(e){var t=e.orderId,n=e.paymentPayload,r=e.selectedMethod;return function(e,i,a){var c=a.gwClient,l=j({orderId:t,paymentPayload:n,selectedMethod:r});return e({type:g.e,payload:Object(o.requestRetryPayment)(c,{country:Object(u.i)(i()),data:l}).then((function(e){return e.data}))})}},C=function(e){var t=e.response,n=e.onSuccess,r=e.onError;return function(e,o){var a=Object(b.b)(o()),c=i()(t,"value.paymentProvider.result_code"),u=i()(t,"value.paymentDetailsPath")||a.submitURL,l=i()(t,"value.payload.order.orderNr")||a.orderNumber;e({type:g.f,payload:{orderNumber:l,paymentAuthStatus:c,submitURL:u,paymentData:i()(t,"value.paymentProvider.payment_data"),fingerprintToken:i()(t,'value.paymentProvider.authentication["threeds2.fingerprintToken"]'),challengeToken:i()(t,'value.paymentProvider.authentication["threeds2.challengeToken"]'),redirectData:i()(t,"value.paymentProvider.redirect"),onSuccess:n||a.onSuccess,onError:r||a.onError}})}},R=function(){return function(e){return e({type:g.f,payload:{}})}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.details,n=e.paymentData;return function(e,r,i){var c=i.gwClient,u=Object(b.b)(r()),l=u.challengeToken,s=u.submitURL,p=u.orderNumber,f=u.paymentData,d=u.onSuccess,g=u.onError,O={details:t,url:s,orderNumber:p,paymentData:n||f};return s?(l&&e(R()),Object(o.requestConfirmPayment)(c,O).then((function(e){var t=e.data;return t.code===a.PAYMENT_AUTHORIZED_STATUS&&d?d():l&&g&&g(),t})).catch((function(e){e&&g&&g(e)}))):null}}},"+kwD":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("BqyK");var r=n("r0ML"),i=n("cNRa"),o=n.n(i),a=n("kRb0"),c=n.n(a),u=n("xH0s");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.animationData,n=e.autoload,i=e.autoplay,o=e.className,a=e.direction,f=e.isPlaying,d=e.loadAnimation,b=e.loop,g=e.resetAnimation,O=e.speed,y=e.onContainerElementSet,m=s(e,["animationData","autoload","autoplay","className","direction","isPlaying","loadAnimation","loop","resetAnimation","speed","onContainerElementSet"]),j=p(Object(r.useState)(null),2),v=j[0],h=j[1],S=Object(r.useCallback)((function(e){h(e),y(e)}),[]),k=function(e){var t=e.animationData,n=e.containerElement,i=e.loop,o=e.autoplay,a=e.speed,u=e.direction,l=e.autoload,s=e.loadAnimation,f=p(Object(r.useState)(null),2),d=f[0],b=f[1],g=p(Object(r.useState)(!1),2),O=g[0],y=g[1],m=Object(r.useCallback)((function(){if(n&&t){var e=c.a.loadAnimation({container:n,renderer:"svg",loop:i,autoplay:o,animationData:t});b(e),y(!0)}}),[i,o,t,n,b,y]);return Object(r.useEffect)((function(){return l&&m(),function(){O&&(d.destroy(),y(!1))}}),[l,m]),Object(r.useEffect)((function(){return!O&&s&&m(),function(){O&&d.destroy()}}),[O,s,m]),Object(r.useEffect)((function(){O&&a&&d.setSpeed(a)}),[O,a]),Object(r.useEffect)((function(){O&&u&&d.setDirection(u)}),[O,u]),O?{isAnimationReady:O,playAnimation:d.play.bind(d),stopAnimation:d.stop.bind(d),pauseAnimation:d.pause.bind(d)}:{isAnimationReady:O}}({animationData:t,containerElement:v,loop:b,autoplay:i,speed:O,direction:a,autoload:n,loadAnimation:d}),w=k.isAnimationReady,E=k.playAnimation,I=k.stopAnimation,A=k.pauseAnimation;return Object(r.useEffect)((function(){w&&g&&I()}),[w,g]),Object(r.useEffect)((function(){w&&(f?E():A())}),[w,f,g]),Object(u.e)("div",l({},m,{className:o,ref:S}))};d.propTypes={animationData:o.a.object,autoplay:o.a.bool,loop:o.a.bool,speed:o.a.number,direction:o.a.number,autoload:o.a.bool,loadAnimation:o.a.number,isPlaying:o.a.bool,resetAnimation:o.a.number,className:o.a.string,onContainerElementSet:o.a.func},d.defaultProps={autoload:!0,autoplay:!0,isPlaying:!0,onContainerElementSet:function(){}}},"085G":function(e,t,n){e.exports=n("NwOF")},"10gN":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("YsOi"),i=n.n(r),o=function(e){var t=e.fileName,n="/assets/everyplate/animations/".concat(t);return i.a.get(n).then((function(e){return e.data}))}},"2D1L":function(e,t,n){"use strict";var r=n("r0ML"),i=n.n(r),o=n("cNRa"),a=n.n(o),c=n("g0xT"),u=n("0qhQ"),l=n("VdK6"),s=n("Ea+b"),p=function(e){var t=e.children,n=Object(c.c)(),r=Object(s.a)().hasSubscription;return i.a.useEffect((function(){r&&n(Object(u.h)({type:l.D,kind:"redirect"}))}),[]),t};p.propTypes={children:a.a.node},t.a=p},"42qS":function(e,t,n){e.exports=n("kzxZ")},"9/Ay":function(e,t,n){e.exports=n("v99J")},D5ML:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return c.b})),n.d(t,"i",(function(){return c.c})),n.d(t,"a",(function(){return u.b})),n.d(t,"c",(function(){return u.c})),n.d(t,"e",(function(){return u.e})),n.d(t,"j",(function(){return u.g})),n.d(t,"d",(function(){return u.d})),n.d(t,"g",(function(){return u.f})),n.d(t,"k",(function(){return l}));var r=n("B42D"),i=n.n(r),o=function(e){return i()(function(e){return e.payment}(e),"isBraintreeCCFormValid",!0)},a=function(e){return i()(function(e){return e.payment}(e),"adyen3DSChallengeData",{})},c=n("yWrm"),u=n("ga/F"),l=function(e){return!1===function(e){return i()(function(e){return e.payment}(e),["paymentValidation","isValid"])}(e)||!1}},EBaM:function(e,t,n){"use strict";n("BqyK");var r=n("r0ML"),i=n.n(r),o=n("cNRa"),a=n.n(o),c=n("g0xT"),u=n("0qhQ"),l=n("VdK6"),s=n("QDbG"),p=n("xxqw"),f=n("YAsR"),d=n("JyK1"),b=n("HoXo"),g=n("EmMp");function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.children,n=e.loadingFallback,r=O(i.a.useState(!1),2),o=r[0],a=r[1],s=Object(c.c)(),f=Object(p.b)().week,y=Object(c.d)((function(e){return Object(g.w)(e,{week:f})})),m=Object(c.d)(d.c);return i.a.useEffect((function(){Object(b.a)(y)?s(Object(u.h)({type:l.B,kind:"redirect",payload:{week:m}})):a(!0)}),[y,f,m,s]),o?t:n};m.propTypes={children:a.a.node,loadingFallback:a.a.node};var j=m,v=n("xH0s");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.children,n=e.loadingFallback,r=h(i.a.useState(!1),2),o=r[0],a=r[1],f=Object(c.c)(),d=Object(c.d)(s.j),b=Object(p.b)().week;return i.a.useEffect((function(){!!b&&!/^\d{4}-W\d{2}$/.test(b)?f(Object(u.h)({type:l.D,kind:"redirect"})):d?a(!0):f(Object(u.h)({type:l.G,kind:"redirect"}))}),[]),o?t:n};k.propTypes={children:a.a.node,loadingFallback:a.a.node};var w=function(e){var t=e.children,n=e.loadingFallback;return Object(v.e)(f.a,{loadingFallback:n},Object(v.e)(k,{loadingFallback:n},Object(v.e)(j,{loadingFallback:n},t)))};w.propTypes={children:a.a.node,loadingFallback:a.a.node};t.a=w},Enzx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r,i=n("7M8N");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(o(r={},i.i,i.a),o(r,i.k,i.c),o(r,i.j,i.b),r),c="payment-method-select"},K7Vf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B42D"),i=n.n(r),o=function(e){return i()(e,"paymentStatus.status")}},KHKb:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));n("BqyK");var r=n("r0ML"),i=n("g0xT"),o=n("06tH"),a=n.n(o),c=n("59DU"),u=n.n(c),l=n("B42D"),s=n.n(l),p=n("GCQr"),f=n("EOzB"),d=n("p5oe"),b=n("P5qc"),g=n("q5m1"),O=n("Ea+b"),y=n("cNRa"),m=n.n(y),j=n("3HD6"),v=n("viVp"),h=n("Usyw"),S=n("Nb3Z"),k=n("PcYz"),w=n("PwGk"),E=n("vDqJ"),I=n("E0kS"),A=n("zFqe"),T=n("xH0s");function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.voucherCode,n=x(Object(r.useState)(!0),2),i=n[0],o=n[1],a=x(Object(r.useState)(!1),2),c=a[0],u=a[1],l=x(Object(S.b)([h.e,h.d,h.b,h.c,h.a]),5),s=l[0],p=l[1],f=l[2],d=l[3],b=l[4],g=Object(A.a)(),O=Object(E.a)({trackSecondVoucherImpression:I.c,trackSecondVoucherApply:I.a,trackSecondVoucherCancel:I.b}),y=function(){u(!0),g(t).finally((function(){u(!1),o(!1)}))};return Object(r.useEffect)((function(){O.trackSecondVoucherImpression(t)}),[]),Object(T.e)(v.Modal,{"data-test-second-voucher-popup":!0,css:P.container,onRequestClose:function(){O.trackSecondVoucherCancel(t),y()},uniqueIdentifier:"second-voucher-popup",isOpen:i},Object(T.e)("div",{css:P.center},Object(T.e)("img",{alt:"",src:b,css:P.image})),Object(T.e)("h2",{css:P.center},s),Object(T.e)("p",{css:P.center},p),Object(T.e)(w.a,{"data-test-second-voucher-accept":!0,onClick:function(){O.trackSecondVoucherApply(t),y()},css:P.button,isLoading:c,kind:k.e.primary,size:k.d.small},f),Object(T.e)("p",{css:P.note},Object(T.e)("small",null,d)))};R.propTypes={voucherCode:m.a.string.isRequired};var P={container:function(e){return{padding:e.spacing.sm}},center:{textAlign:"center"},button:{display:"block",margin:"auto"},note:function(e){return{textAlign:"center",marginTop:e.spacing.md,fontSize:e.typography.small.fontSize.sm,lineHeight:"".concat(e.typography.small.lineHeight.sm,"px"),color:e.raf.bottomMessage.color}},image:{width:"90px",height:"90px"}},D=function(e){var t=e.voucherCode;return"variation"===Object(j.useOptimizelyVariation)(f.EXPERIMENT_SECOND_VOUCHER)?Object(T.e)(R,{voucherCode:t}):null};D.propTypes={voucherCode:m.a.string.isRequired};var _=n("sUbC"),N=n("XrqZ"),M=n("6puf"),B=n("rNvb"),L=n("YUWj");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(){var e=W(Object(r.useState)(),2),t=e[0],n=e[1],o=function(){var e=Object(i.d)(d.y),t=Object(i.d)(N.P),n=Object(i.d)(N.bb),o=Object(i.d)(_.g),a=Object(i.d)(M.i),c=Object(L.a)();return{hasVoucher:o,validate:Object(r.useCallback)((function(r){var i=F(F(F({code:r.voucherCode,country:a},e&&{customer_id:+e}),t&&{subscription_id:+t}),{},{products:[n]});return Object(B.c)(c,i)}),[e,t,n,a])}}(),c=o.validate,l=o.hasVoucher,y=Object(d.I)().loyalty,m=Object(i.d)(g.n),j=Object(O.a)(),v=j.isActive,h=j.reactivationCount,S=Object(b.useTracking)({trackSecondVoucherInvalid:b.trackSecondVoucherInvalid}),k=u()(a.a.get(f.COOKIE_SECOND_VOUCHER_POP_UP)),w=m&&!l&&k&&1===y&&v&&0===h;return Object(r.useEffect)((function(){w&&Object(p.a)().then((function(e){e&&c({voucherCode:e.data.code}).then((function(){n(e.data.code),a.a.set(f.COOKIE_SECOND_VOUCHER_POP_UP,"true",{expires:3})})).catch((function(e){var t=s()(e,"response.data.msg")||"n/a";S.trackSecondVoucherInvalid(t)}))}))}),[]),t?Object(T.e)(D,{voucherCode:t}):null}},NwOF:function(e,t,n){"use strict";n.r(t),n.d(t,"RecipeDetailsModal",(function(){return T}));n("BqyK");var r=n("cNRa"),i=n.n(r),o=n("3xgL"),a=n("viVp"),c=n("1zAm"),u=n("q5m1"),l=n("Uhsj"),s=n("r0ML"),p=n("EOzB"),f=n("abLG"),d=n("uNgz"),b=n("P5qc"),g=n("74l+"),O=n("+9af"),y=n("uEXw"),m=n("ak05"),j=n("xH0s");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.recipe,n=e.week,r=e.showRecipeDescription,i=Object(s.useRef)(),o=h(Object(s.useState)(!1),2),a=o[0],c=o[1],u=Object(m.q)().showRecipeSteps;return Object(f.useStickyObserver)({ref:i,setSticky:c}),Object(j.e)(s.Fragment,null,Object(j.e)("div",{ref:i,css:w.stickyHeader({isSticky:a})},Object(j.e)(y.RecipeHeadline,{recipe:t,week:n})),Object(j.e)(O.Grid,null,Object(j.e)(O.Cell,{sm:{size:1},md:{size:1},lg:{size:.7},css:w.spaceY},Object(j.e)(y.RecipeHeader,{recipe:t,week:n}),Object(j.e)(y.RecipeDescription,{isRecipeDescriptionTextEnabled:r,recipe:t,week:n,css:w.spaceY}),Object(j.e)(g.a,{renderAtBreakpoints:[d.BREAKPOINT_KEYS.sm,d.BREAKPOINT_KEYS.md]},Object(j.e)(y.RecipeNutrition,{recipe:t,css:w.spaceY})),Object(j.e)(y.Ingredients,{recipe:t,css:w.spaceY}),Object(j.e)(g.a,{renderAtBreakpoints:[d.BREAKPOINT_KEYS.sm,d.BREAKPOINT_KEYS.md]},Object(j.e)(y.AdditionalItems,{recipe:t,css:w.spaceY})),u&&Object(j.e)(y.Instructions,{recipe:t,week:n})),Object(j.e)(O.Cell,{sm:{size:1},md:{size:1},lg:{size:.3}},Object(j.e)(g.a,{renderAtBreakpoints:[d.BREAKPOINT_KEYS.lg]},Object(j.e)(y.RecipeNutrition,{recipe:t,css:w.spaceY})),Object(j.e)(g.a,{renderAtBreakpoints:[d.BREAKPOINT_KEYS.lg]},Object(j.e)(y.AdditionalItems,{recipe:t,css:w.spaceY})))))};k.propTypes={recipe:i.a.shape({id:i.a.string.isRequired,name:i.a.string,label:i.a.shape({text:i.a.string,handle:i.a.string})}),week:i.a.string,showRecipeDescription:i.a.bool};var w={stickyHeader:function(e){var t=e.isSticky;return function(e){return v({top:-1,padding:e.spacing.sm,margin:"0 -".concat(e.spacing.sm,"px"),position:"sticky",zIndex:1,background:e.pageLayout.main.backgroundColor,boxShadow:t?e.menuHeader.isSticky.boxShadow:null,transition:t?"background-color .2s, box-shadow .2s":null},d.MEDIA_BREAKPOINTS.md,{margin:"0 -".concat(e.spacing.md,"px"),padding:"".concat(e.spacing.md,"px ").concat(e.spacing.md,"px ").concat(e.spacing.sm,"px")})}},page:function(e){return v({background:e.pageLayout.main.backgroundColor,flexGrow:1,paddingTop:e.spacing.sm},d.MEDIA_BREAKPOINTS.lg,{paddingTop:e.spacing.lg})},specsCell:function(e){var t;return v(t={margin:"".concat(e.spacing.sm,"px 0")},d.MEDIA_BREAKPOINTS.md,{margin:"".concat(e.spacing.md,"px 0")}),v(t,d.MEDIA_BREAKPOINTS.lg,{margin:"".concat(e.spacing.lg,"px 0")}),t},spaceY:function(e){return v({marginBottom:e.spacing.sm},d.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.md})}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){var t=e.recipeId,n=e.week,r=e.onClose,i=Object(b.useTracking)({trackRecipeModalOpen:b.trackRecipeModalOpen,trackRecipeModalClose:b.trackRecipeModalClose}),d=Object(c.c)(t).fetchRecipe,g=Object(o.b)(),O=Object(c.b)(t).recipe,y=Object(c.d)(t),m=y.isFailed,v=y.isPending,h=Object(u.C)().showRecipeDescription,S=Object(l.e)().addNotification;Object(s.useEffect)((function(){d()}),[d]),Object(s.useEffect)((function(){m&&S({id:p.NOTIFICATION_ID_RECIPE_FETCH_ERROR,content:"Something went wrong, try again later.",type:"error",dismiss:{timer:8}})}),[m,S]),Object(s.useEffect)((function(){i.trackRecipeModalOpen({week:n,recipeId:t})}),[]);return v?Object(j.e)(f.Spinner,{color:g.primaryColor,css:x.spinner}):O?Object(j.e)(a.Modal,{isOpen:!0,css:x.modal,onRequestClose:function(){r(),i.trackRecipeModalClose({week:n,recipeId:t})},contentClassName:x.content,fillMobile:!0},Object(j.e)(k,{recipe:O,week:n,showRecipeDescription:h})):null};T.propTypes={recipeId:i.a.string,week:i.a.string,onClose:i.a.func.isRequired};var x={modal:function(e){return{background:e.pageLayout.main.backgroundColor,width:"1014px !important"}},content:{overflowX:"hidden",paddingTop:"0 !important"},spinner:I(I({},d.ALIGN_CONTENT.both),{},{position:"fixed",zIndex:2})}},QEqo:function(e,t,n){e.exports=n("sDA3")},VAmZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.referral}},YAsR:function(e,t,n){"use strict";n("BqyK");var r=n("r0ML"),i=n.n(r),o=n("cNRa"),a=n.n(o),c=n("g0xT"),u=n("0qhQ"),l=n("VdK6"),s=n("EKNE"),p=n("YgMD"),f=n("BiNK"),d=n("llcG"),b=n("xH0s"),g=function(e){var t=e.children,n=e.loadingFallback,r=void 0===n?Object(b.e)(d.a,null):n,o=Object(c.c)(),a=Object(s.a)(),g=Object(c.d)(f.e);return i.a.useEffect((function(){if(a&&!g){var e=window.location.pathname+window.location.search,t=Object(p.a)(e);o(Object(u.h)({type:l.x,query:t,kind:"redirect"}))}}),[a,g,o]),a&&g?t:r};g.propTypes={children:a.a.node,loadingFallback:a.a.node},t.a=g},YUWj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("r0ML"),i=n("iiKM"),o=function(){return Object(r.useContext)(i.a)}},d8Sk:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return p}));var r=n("B42D"),i=n.n(r),o=n("tlF4"),a=n("VAmZ"),c=function(e){return i()(Object(a.a)(e),"config",{})},u=function(e){return i()(function(e){return i()(c(e),"status")}(e),"isFulfilled")},l=function(e){return i()(c(e),"credit_value")},s=function(e){var t=function(e){return i()(c(e),"box_rule",{})}(e),n=Object.values(t).reduce((function(e,t){return e+Number.parseFloat(t.discount_value)}),0);return n&&Object(o.priceRound)(n,{isCents:!0})},p=function(e){return!u(e)}},eAUU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Mh0k"),i=n("61iT"),o=n("d8Sk"),a=function(){return function(e,t){return Object(o.d)(t())?e((function(e,t,n){var o=n.gwClient;return e({type:i.a,payload:Object(r.requestReferralConfig)(o).then((function(e){return e.data}))}).catch((function(){}))})):Promise.resolve()}}},ehx2:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("zjBb"),i=n("YDhM"),o=n("3HD6"),a=n("EOzB"),c=function(){var e=Object(r.a)(),t=e.experimentPlansMap,n=e.getPlansMap,i=u(),o=i.isControl,a=i.tier,c=void 0===a?"":a,l=i.exclusions,s=void 0===l?[]:l;return{getPlansMap:function(e){return o?n(e):t({productFamily:e,tier:c,exclusions:s})}}},u=function(){var e=Object(o.useOptimizelyVariation)(a.EXPERIMENT_SHOW_SHIPPING_PRICE_CK);return{isControl:!e||"control"===e,tier:e&&e.includes("T1")?"T1":"",exclusions:e&&e.includes("2-2")?["2-2-0"]:[]}},l=function(){var e,t=(e=Object(o.useOptimizelyVariation)(a.EXPERIMENT_FUNNEL_TIER_PRICING))&&"control"!==e?e.toLowerCase():"BASE",n=Object(i.f)(t),r=n.productFamilies,c=n.isProductFamiliesEnabled,u=n.defaultProductFamily,l=u;return r.length&&(l=r.find((function(e){return e.handle===u}))?u:r[0].handle),{productFamilies:r,isProductFamiliesEnabled:c,defaultProductFamily:l}}},"ga/F":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return j}));var r=n("B42D"),i=n.n(r),o=n("Q33P"),a=n.n(o),c=n("EOzB"),u=n("yWrm");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){return e.payment},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.provider,n=e.type;return"".concat(t,"_").concat(n)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.find((function(e){return e.type===c.PAYMENT_TYPE_CC}))},g=function(e){return i()(f(e),"checkoutMethods",[])},O=function(e){return i()(f(e),"editMethods",[])},y=function(e){return i()(f(e),"retryMethods",[])},m=function(e){return i()(f(e),"customerMethods",[])},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.methods;if(0===Object(u.b)(e).length)return{};if(a()(n))return{};var r=Object(u.c)(e);return n.reduce((function(t,n){return s(s({},t),{},p({},d(n),{key:Object(u.a)(e,n.provider),provider:n.provider,generationTime:r}))}),{})}},"hn/D":function(e,t,n){"use strict";n.r(t),n.d(t,"AdditionalItems",(function(){return v})),n.d(t,"Ingredients",(function(){return H})),n.d(t,"Instructions",(function(){return ae})),n.d(t,"CopyRecipeLink",(function(){return Oe})),n.d(t,"RecipeCardLink",(function(){return Ee})),n.d(t,"RecipeCardPDFButton",(function(){return Re})),n.d(t,"useRecipeCardLink",(function(){return he})),n.d(t,"RecipeNutrition",(function(){return $e})),n.d(t,"RecipeDescription",(function(){return Qe})),n.d(t,"RecipeHeader",(function(){return Wt})),n.d(t,"RecipeHeadline",(function(){return Vt})),n.d(t,"FunnelCTA",(function(){return it.a})),n.d(t,"TagContainer",(function(){return it.b})),n.d(t,"useCourseInfoByRecipe",(function(){return it.c}));n("BqyK");var r=n("Q33P"),i=n.n(r),o=n("E2ph"),a=n("cNRa"),c=n.n(a),u=n("ZUbM"),l=n("uNgz"),s=n("B42D"),p=n.n(s),f=n("ZX9W"),d=function(e){var t=Object(f.c)(e),n=function(n){var r=n.shipped;return Object(f.f)(e,t).ingredients.filter((function(e){return p()(e,"shipped")===r}))};return{shippedItems:n({shipped:!0}),nonShippedItems:n({shipped:!1})}},b=n("xH0s");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.recipe,n=e.className,r=function(e){return[{items:d(e).nonShippedItems.map((function(e){return e.name})).join(", ")},{items:e.utensils.map((function(e){return e.name})).join(", ")}].filter((function(e){return!!e.items}))}(t),a=m(Object(u.useContentful)([u.ADDITIONAL_ITEMS_TITLE]),1)[0];return i()(r)?null:Object(b.e)(o.i,{className:n},Object(b.e)("h3",{css:h.title},a),Object(b.e)("ul",{css:h.list},r.map((function(e,t){var n=e.items;return Object(b.e)("li",{css:h.listItem,key:t},n)}))))},h={list:function(e){return{margin:0,paddingLeft:e.spacing.lg}},listItem:function(e){return O(O({},Object(o.w)(e)),{},{marginBottom:e.spacing.xs})},title:function(e){return y({margin:"0 0 ".concat(e.spacing.st,"px"),textTransform:"capitalize"},l.MEDIA_BREAKPOINTS.md,{margin:"0 0 ".concat(e.spacing.sm,"px")})}};v.propTypes={recipe:c.a.object,className:c.a.string};var S=n("r0ML"),k=n("+9af"),w=n("fm2y"),E=n("3xgL"),I=n("X2+A"),A=n("6nGc"),T=n("8mJ1"),x=n("qOoS");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){var t=e.ingredient,n=e.breakpoint,r=Object(E.b)(),i=t.imagePath,o=Object(A.generateRecipeImageUrl)({path:i,config:{crop:"fill",width:1.5*("lg"===n?78:65),height:1.5*("lg"===n?78:65)}});return Object(b.e)("div",{css:P.container},Object(b.e)("div",{css:P.thumb},o?Object(b.e)(x.Image,{imageUrl:o,css:P.image,alt:t.name}):Object(b.e)(T.OpenBox,{css:P.placeholder,color:r.recipeDetail.ingredient.icon.color,backgroundColor:r.recipeDetail.ingredient.icon.backgroundColor,showBoxTip:!0})),Object(b.e)("div",{css:P.description},Object(b.e)("p",{css:P.name},t.name),Object(b.e)("p",{css:P.unit},t.amountUnit||"")))};R.propTypes={ingredient:c.a.object.isRequired,breakpoint:c.a.string.isRequired};var P={container:{display:"flex",alignItems:"center"},thumb:C({flex:"0 0 65px",overflow:"hidden",borderRadius:"100%"},l.MEDIA_BREAKPOINTS.lg,{flexBasis:"78px"}),image:{display:"block",width:"100%"},description:function(e){return C({marginLeft:e.spacing.xs,flex:"1 1 auto"},l.MEDIA_BREAKPOINTS.lg,{marginLeft:e.spacing.sm})},name:{margin:0},unit:function(e){return{margin:0,color:e.recipeDetail.ingredient.icon.color}},placeholder:function(e){return{height:"32px",width:"32px",marginLeft:e.spacing.sm}}},D=Object(I.withCurrentBreakpoint)(R),_=n("q5m1");function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(){var e=N(Object(u.useContentful)(u.INGREDIENTS_NOTICE),1)[0],t=Object(_.C)().showIngredientNotice;return e&&t?Object(b.e)("small",{css:L.notice},e):null},L={notice:function(e){return{fontWeight:l.FONT_WEIGHT.bold,marginBottom:e.spacing.xs}}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(e){var t=e.recipe,n=e.className,r=d(t).shippedItems,i=W(Object(u.useContentful)([u.INGREDIENTS_TITLE,u.INGREDIENTS_ALLERGENS_TITLE]),2),a=i[0],c=i[1],l=t.allergens,s=(void 0===l?[]:l).map((function(e){return e.name}));return Object(b.e)(o.i,{css:z.card,className:n},Object(b.e)("h2",{css:z.title},a),!!s.length&&Object(b.e)("span",{css:z.allergen,"data-test-id":"recipe-allergens"},c,": ",s.map((function(e,t){return Object(b.e)(S.Fragment,{key:t},e," · ")}))),Object(b.e)(B,null),Object(b.e)(k.Grid,null,Object(b.e)("ul",{css:z.ingredientList},r.map((function(e,t){return Object(b.e)(k.Cell,{sm:{size:1},md:{size:1/3},lg:{size:.5},key:t},Object(b.e)("li",{css:z.ingredient,"data-test-id":"recipe-ingredient"},Object(b.e)(D,{ingredient:e})))})))))};H.propTypes={recipe:c.a.object.isRequired,className:c.a.string};var z={card:function(e){return K({padding:"".concat(e.spacing.sm,"px ").concat(e.spacing.sm,"px 0"),textAlign:"center"},l.MEDIA_BREAKPOINTS.md,{textAlign:"left",padding:"".concat(e.spacing.md,"px ").concat(e.spacing.sm,"px 0")})},title:function(e){return F(F({},Object(w.d)(e)),{},{textTransform:"capitalize",margin:"0 0 ".concat(e.spacing.xs,"px")})},allergen:function(e){return{marginBottom:e.spacing.xs}},ingredientList:K({display:"flex",flexDirection:"column",flexWrap:"noWrap",listStyle:"none",paddingLeft:0,width:"100%",textAlign:"left",margin:0},l.MEDIA_BREAKPOINTS.md,{flexDirection:"row",flexWrap:"wrap"}),ingredient:function(e){var t;return K(t={padding:0,marginBottom:e.spacing.sm},l.MEDIA_BREAKPOINTS.md,{marginBottom:e.spacing.md}),K(t,l.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.lg}),t}},V=n("abLG"),G=n("P5qc");function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t=e.note,n=Object(E.b)(),r=Y(Object(u.useContentful)([u.CUSTOM_PLATE_TITLE]),1)[0],i=n.recipeDetail.instructions.customizeStep.icon,o=i.color,a=i.backgroundColor;return t?Object(b.e)("div",{css:J.container},Object(b.e)("div",{css:J.header},Object(b.e)(T.Pointer,{color:o,bgColor:a,width:42,height:39}),Object(b.e)("h4",{css:J.title},r)),Object(b.e)("p",null,t)):null};Z.propTypes={note:c.a.string};var X,J={container:function(e){return t={background:e.recipeDetail.instructions.customizeStep.backgroundColor,borderRadius:e.borderRadius.sm,marginTop:e.spacing.sm,padding:"".concat(e.spacing.sm,"px 0"),"& p":{margin:"0 auto",width:"90%"},"& svg":{marginRight:e.spacing.xs}},n=l.MEDIA_BREAKPOINTS.md,r={marginTop:e.spacing.md},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r},header:function(e){return{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing.st}},title:{margin:0}};function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){var t=e.step,n=e.className;return t.instructionsHTML?Object(b.e)("div",{className:n,dangerouslySetInnerHTML:{__html:t.instructionsHTML}}):Object(b.e)("div",{className:n},t.instructions)};ee.propTypes={step:a.object.isRequired,className:a.oneOfType([a.object,a.string])};var te=function(e){var t=e.step,n=e.index,r=e.className,i=e.breakpoint,o=p()(t,["images",0]),a=o?Object(A.generateRecipeImageUrl)({path:o.path,config:{width:1.5*function(){switch(i){case"sm":return 768;case"md":return 285;case"lg":default:return 360}}()}}):null;return Object(b.e)("li",{css:ne.container,className:r},o&&Object(b.e)("div",{css:ne.imageContainer},Object(b.e)(x.Image,{imageUrl:a,alt:o.caption,css:ne.image,lazyLoad:!1})),Object(b.e)("span",{css:ne.stepNumber},n+1),Object(b.e)(ee,{css:ne.description,step:t}))};te.propTypes={step:a.shape({index:a.number,instructionsHTML:a.string,instructions:a.string,images:a.arrayOf(a.shape({link:a.string,path:a.string,caption:a.string})),videos:a.array}),index:a.number.isRequired,className:a.oneOfType([a.object,a.string]),breakpoint:a.string.isRequired};var ne={container:function(e){return Q({display:"flex",flexDirection:"row",flexWrap:"wrap",padding:"".concat(e.spacing.md,"px 0")},l.MEDIA_BREAKPOINTS.md,{alignItems:"flex-start"})},imageContainer:function(e){return Q({width:"100%",borderRadius:e.borderRadius.sm,overflow:"hidden",marginBottom:e.spacing.md},l.MEDIA_BREAKPOINTS.md,{width:"270px",margin:"0 0 0 ".concat(e.spacing.sm,"px"),order:3})},image:{display:"block",width:"100%"},stepNumber:function(e){return Q({display:"inline-block",width:"32px",height:"32px",marginBottom:e.spacing.sm,marginRight:e.spacing.sm,marginTop:0,borderRadius:"100%",fontWeight:l.FONT_WEIGHT.bold,lineHeight:"32px",textAlign:"center",color:l.COLORS.white,backgroundColor:e.palettes.secondary.regular},l.MEDIA_BREAKPOINTS.md,{order:1})},description:(X={flex:1},Q(X,l.MEDIA_BREAKPOINTS.md,{order:2}),Q(X,"& p",{margin:0,whiteSpace:"pre-wrap"}),X)},re=Object(I.withCurrentBreakpoint)(te);function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=function(e){var t=e.recipe,n=e.className,r=e.week,i=Object(E.b)(),a=Object(S.useRef)(),c=Object(V.useToggle)(a),l=c.isDisplayed,s=c.toggleDisplay,p=c.contentHeight,f=ie(Object(u.useContentful)([u.COOKING_STEPS_TITLE,u.COOKING_STEPS_TOGGLE]),2),d=f[0],g=f[1],O=Object(G.useTracking)({trackCookingRecipeToggle:G.trackCookingRecipeToggle}),y=t.id,m=t.steps,j=t.comment,v=l?T.ArrowUpIcon:T.ArrowDownIcon,h=function(){s(!l),O.trackCookingRecipeToggle({isDisplayed:l,week:r,recipeId:y})},k=Object(V.useEnterPress)(h);return Object(b.e)(o.i,{css:n},Object(b.e)("div",{css:ce.toggle},Object(b.e)("a",{role:"button","data-test-id":"toggle-cooking-steps","aria-pressed":l,"aria-expanded":l,tabIndex:"0",onKeyPress:k,onClick:h},Object(b.e)(V.Interpolation,{input:g,replacement:{displayState:l?"Hide":"Show"}}),Object(b.e)(v,{color:i.buttons.link.textColor}))),Object(b.e)("div",{css:ce.collapsible({isCollapsed:!l,height:p})},Object(b.e)("div",{ref:a},Object(b.e)("h3",{css:ce.title},Object(b.e)(V.Interpolation,{input:d,replacement:{stepCount:m.length}})),t.isCustomized&&Object(b.e)(Z,{note:j}),Object(b.e)("ol",{css:ce.steps},m.map((function(e,t){return Object(b.e)(re,{step:e,index:t,key:t,css:ce.step})}))))))};ae.propTypes={recipe:c.a.shape({id:c.a.string,comment:c.a.string,isCustomized:c.a.bool,steps:c.a.arrayOf(c.a.shape({index:c.a.number,instructionsHTML:c.a.string,instructions:c.a.string,images:c.a.arrayOf(c.a.shape({link:c.a.string,path:c.a.string,caption:c.a.string})),videos:c.a.array}))}),week:c.a.string,className:c.a.string,isCustomized:c.a.bool};var ce={toggle:function(e){return{textAlign:"center","& a":{fontWeight:l.FONT_WEIGHT.bold,padding:e.spacing.xxs},"& svg":{marginLeft:e.spacing.xs,cursor:"pointer"}}},container:{overflow:"hidden"},collapsible:function(e){var t=e.isCollapsed,n=e.height;return{overflow:"hidden",height:t?0:n,transition:"all 0.5s ease-in-out"}},title:function(e){return t={margin:"".concat(e.spacing.sm,"px 0 0"),textAlign:"center"},n=l.MEDIA_BREAKPOINTS.md,r={textAlign:"left"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r},steps:{listStyle:"none",paddingLeft:0,margin:0},step:function(e){return{borderBottom:"1px solid ".concat(e.divider.color),":last-child":{borderBottom:0}}}},ue=n("wiAR"),le=n.n(ue),se=n("xxqw");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe=function(e){var t=e.recipe,n=e.week,r=e.className,i=t.id,a=function(e){var t=e.slug,n=e.recipeId,r=e.week;return"recipes/".concat(t,"-").concat(n,"?week=").concat(r)}({slug:t.slug,recipeId:i,week:n}),c=Object(_.E)(),l=Object(se.a)().isRecipeModal,s=Object(o.y)(),p=s.tooltipRef,f=s.buttonRef,d=s.openTooltip,g=s.isTooltipOpen,O=Object(G.useTracking)({trackRecipeLinkCopy:G.trackRecipeLinkCopy}),y=be(Object(u.useContentful)([u.WORDING_COPY_CLIPBOARD_TEXT]),1)[0],m="sm"===Object(I.useCurrentBreakpoint)()?"bottom":"top";return t?Object(b.e)("a",{"aria-label":"copy",css:ye.iconWrapper,"data-test-copy-recipe-link":!0,className:r,ref:f,onClick:function(){le()("".concat(c,"/").concat(a)),d(),O.trackRecipeLinkCopy({isRecipeModal:l,week:n,recipeId:i})},role:"button",tabIndex:0},Object(b.e)(T.CopyIcon,null),Object(b.e)(o.n,{align:"right",position:m,isOpen:g,tooltipRef:p,width:200},y)):null};Oe.propTypes={recipe:c.a.shape({slug:c.a.string,id:c.a.string}),week:c.a.string,className:c.a.string};var ye={iconWrapper:function(e){var t;return de(t={border:"1px solid ".concat(e.buttons.primary.backgroundColor),borderRadius:"50%",display:"inline-block",position:"relative",width:24,height:24},l.MEDIA_BREAKPOINTS.lg,{height:32,width:32}),de(t,"& svg",fe(fe({},l.ALIGN_CONTENT.both),{},de({height:14,width:14,cursor:"pointer"},l.MEDIA_BREAKPOINTS.lg,{height:18,width:18}))),de(t,"& path",{fill:e.buttons.primary.backgroundColor}),de(t,"&:hover, &:focus",{background:e.buttons.primary.backgroundColor}),de(t,"&:hover path, &:focus path",{fill:"white"}),t}},me=n("O31o"),je=n("mgBY"),ve=n.n(je),he=function(e){var t=Object(_.E)(),n=Object(_.C)(),r=n.legacyCardLink,i=n.parseLegacyLink;return Object(S.useMemo)((function(){if(!e)return null;if(r.length>0&&e.includes(r))return i(e);try{var n=ve()(e).pathname;return"".concat(t).concat(n)}catch(t){return e}}),[e,t,r,i])};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){var t=e.recipe,n=e.week,r=e.className,i=t.cardLink,o=t.id,a=Object(me.a)().isRecipeModal,c=Object(E.b)(),u=Object(G.useTracking)({trackPrintRecipe:G.trackPrintRecipe}),l=he(i);return l?Object(b.e)("a",{"aria-label":"download",target:"_blank",css:Ie.link,"data-test-recipe-card-link":!0,className:r,title:"Download Recipe Card",href:l,onClick:function(){return u.trackPrintRecipe({isRecipeModal:a,week:n,recipeId:o})}},Object(b.e)(T.PrintIcon,{color:c.buttons.primary.backgroundColor})):null};Ee.propTypes={recipe:c.a.shape({tags:c.a.array,prepTime:c.a.string,cardLink:c.a.string,id:c.a.string}).isRequired,week:c.a.string,className:c.a.string};var Ie={link:function(e){return we({border:"1px solid ".concat(e.buttons.primary.backgroundColor),borderRadius:"50%",width:24,height:24,display:"inline-block",position:"relative","& svg":ke(ke({cursor:"pointer"},l.ALIGN_CONTENT.both),{},we({width:16,height:16},l.MEDIA_BREAKPOINTS.lg,{width:20,height:20})),"&:hover, &:focus":{background:e.buttons.primary.backgroundColor},"&:hover path, &:focus path":{fill:"white"}},l.MEDIA_BREAKPOINTS.lg,{width:32,height:32})}},Ae=n("hDs/");function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=function(e){var t=e.recipe,n=e.week,r=Object(me.a)().isRecipeModal,i=xe(Object(u.useContentful)([u.COOKING_STEPS_LINK_TEXT]),1)[0],a=Object(G.useTracking)({trackPrintRecipe:G.trackPrintRecipe}),c=Object(E.b)(),l=he(t.cardLink);return Object(b.e)(o.c,{"data-test-recipe-card-link":!0,css:Pe.link,href:l,element:"a",onClick:function(){return a.trackPrintRecipe({isRecipeModal:r,week:n,recipeId:t.id})},target:"_blank"},Object(b.e)(Ae.a,{css:Pe.text},i),Object(b.e)(T.ExternalLinkIcon,{color:c.buttons.primary.backgroundColor}))};Re.propTypes={recipe:c.a.object,week:c.a.string};var Pe={link:function(e){var t;return Te(t={display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent",borderColor:e.buttons.primary.backgroundColor,color:"".concat(e.buttons.primary.backgroundColor," !important"),padding:"".concat(e.spacing.st,"px ").concat(e.spacing.md,"px")},l.MEDIA_BREAKPOINTS.md,{justifyContent:"flex-start"}),Te(t,"&:hover, &:focus",{background:e.buttons.primary.backgroundColor,color:"white !important"}),Te(t,"&:hover path, &:focus path",{fill:"white"}),t},text:function(e){return{marginRight:e.spacing.st,"@media only screen and (max-width: 320px)":{fontSize:e.typography.h5.fontSize.sm}}}},De=n("1zAm"),_e=n("mJRi"),Ne=n("ak05"),Me=n("6puf"),Be=/^\d{4}-W(\d{2})$/,Le=function(e){return e&&e.match(Be)[1]};function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=function(e){var t=e.menuKey,n=e.distributionCenter,r=e.recipeId,i=Object(E.b)(),o=Object(se.a)().isRecipeModal,a=Object(G.useTracking)({trackNutritionalCardLinkClick:G.trackNutritionalCardLinkClick}),c=Ue(Object(u.useContentful)([u.NUTRIENTS_CARD_LINK_TITLE]),1)[0],l=function(e){var t=e.menuKey,n=e.distributionCenter,r=e.recipeId,i=Object(Me.j)().systemCountry,o=Object(Ne.q)().nutritionCDN,a=Le(t);return"".concat(o).concat(i,"_").concat(a,"_").concat(n,"_").concat(r,".pdf")}({menuKey:t,distributionCenter:n,recipeId:r});return Object(b.e)("a",{href:l,target:"_blank",css:We.link,onClick:function(){a.trackNutritionalCardLinkClick({isRecipeModal:o,week:Le(t),recipeId:r})}},Object(b.e)(T.NutritionalCardIcon,{color:i.buttons.link.textColor}),Object(b.e)("span",null,c))},We={link:function(e){return{display:"flex",justifyContent:"center",textDecoration:"underline",fontSize:e.recipeDetail.nutritionCardInfo.text.fontSize,"& svg":{marginRight:e.spacing.xs}}}};function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ke.propTypes={menuKey:c.a.string,distributionCenter:c.a.string,recipeId:c.a.string};var ze=function(e){var t=e.recipeId,n=Object(E.b)(),r=Object(o.y)(),i=r.tooltipRef,a=r.buttonRef,c=r.isTooltipOpen,l=r.openTooltip,s=Object(_e.a)(),p=s.fetchDeliveries,f=s.fetchDeliveryDistributionCenter,d=Object(Ne.q)(),g=d.showNutritionCardLink,O=d.showNutritionInfoTooltip,y=d.showNutritionMissingInfo,m=Object(De.b)(t),j=m.delivery,v=m.distributionCenter,h=m.isVisibleTimeRange,k=m.menuKey,w=qe(Object(u.useContentful)([u.NUTRIENTS_CARD_MISSING_INFO,u.NUTRIENTS_CARD_MISSING_TOOLTIP]),2),I=w[0],A=w[1],x=g&&k&&v&&h;return Object(S.useEffect)((function(){j?f({delivery:j}).catch((function(){})):p()}),[j]),Object(b.e)("div",{css:Ve.linkContainer},x?Object(b.e)(Ke,{menuKey:k,distributionCenter:v,recipeId:t}):Object(b.e)("div",{css:Ve.missingCardInfo},O&&Object(b.e)("a",{ref:a,css:Ve.infoLink,onClick:l,onFocus:l,role:"button",tabIndex:"0","data-test-id":"missing-card-tooltip"},Object(b.e)(T.InfoTipIcon,{color:n.recipeDetail.nutritionCardInfo.icon.color}),Object(b.e)(o.n,{isOpen:c,width:300,align:o.j.left,tooltipRef:i},A)),y&&Object(b.e)("small",{css:Ve.missingInfo,"data-test-id":"missing-card-info"},I)))},Ve={linkContainer:function(e){return{marginTop:e.spacing.md,color:e.recipeDetail.nutritionCardInfo.text.color}},missingCardInfo:function(e){return{display:"flex",justifyContent:"center","& svg":{marginRight:e.spacing.xs,cursor:"pointer"}}},infoLink:{position:"relative",height:"24px"},missingInfo:{width:"85%"}};function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ze.propTypes={recipeId:c.a.string};var $e=function(e){var t=e.recipe,n=e.className,r=Object(De.b)(t.id).nutrition,i=Ge(Object(u.useContentful)([u.NUTRIENTS_TITLE]),1)[0],a=t.servingSize>0;return Object(b.e)(o.i,{css:Ze.container,className:n},Object(b.e)("h3",{css:Ze.title},i),Object(b.e)("div",null,Object(b.e)("div",{css:Ze.row},Object(b.e)("div",{css:Ze.firstCell}),Object(b.e)("strong",null,"Per serving"),a&&Object(b.e)("strong",{"data-test-id":"nutrition-per-100g-header",css:Ze.lastCell},"Per 100g")),r.map((function(e,t){var n=e.name,r=e.amount,i=e.amountPer100g,o=e.unit;return Object(b.e)("div",{css:Ze.row,key:t},Object(b.e)("small",{css:Ze.firstCell},Object(b.e)("strong",null,n)),Object(b.e)("span",null,r,o),i&&Object(b.e)("div",{css:Ze.lastCell,"data-test-id":"nutrition-per-100g"},i,o))}))),Object(b.e)(ze,{recipeId:t.id}))};$e.propTypes={recipe:c.a.object.isRequired,className:c.a.string};var Ze={container:{position:"relative"},firstCell:{flex:"1 1 0"},lastCell:{flexBasis:"33%",textAlign:"right"},title:function(e){return t={margin:"0 0 ".concat(e.spacing.sm,"px"),textTransform:"capitalize",textAlign:"center"},n=l.MEDIA_BREAKPOINTS.md,r={margin:"0 0 ".concat(e.spacing.sm,"px"),textAlign:"left"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r},row:function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"".concat(e.spacing.xxs,"px 0"),borderBottom:"1px solid ".concat(e.recipeDetail.nutritionDivider.color)}}},Xe=function(e){var t=e.description,n=e.week,r=e.recipeId,i=Object(S.useRef)(),o=Object(E.b)(),a=Object(me.a)().isRecipeModal,c=Object(G.useTracking)({trackRecipeDescriptionToggle:G.trackRecipeDescriptionToggle}),u="sm"===Object(I.useCurrentBreakpoint)()?70:85,l=Object(V.useToggle)(i),s=l.isDisplayed,p=l.toggleDisplay,f=l.contentHeight,d=function(){p(!s),c.trackRecipeDescriptionToggle({isRecipeModal:a,isDisplayed:s,week:n,recipeId:r})},g=Object(V.useEnterPress)(d),O=s?T.ArrowUpIcon:T.ArrowDownIcon,y=s?"Read Less":"Read More",m=f>u,j=!s&&m,v=s?f:u;return Object(b.e)(S.Fragment,null,Object(b.e)("div",{css:Je.description({calculatedHeight:v,isTextCollapsible:m})},Object(b.e)("div",{ref:i},Object(b.e)(Ae.a,null,t)),j&&Object(b.e)("div",{css:Je.shadyOverlay,"data-test-id":"collapsible-overlay"})),m&&Object(b.e)("a",{role:"button","data-test-id":"toggle-recipe-description","aria-pressed":s,"aria-expanded":s,tabIndex:"0",onKeyPress:g,onClick:d,css:Je.toggle},y,Object(b.e)(O,{color:o.buttons.link.textColor})))};Xe.propTypes={description:c.a.string,week:c.a.string,recipeId:c.a.string};var Je={description:function(e){var t=e.calculatedHeight;return{height:e.isTextCollapsible?t:"auto",position:"relative",overflow:"hidden",transition:"height 0.3s ease-in-out"}},shadyOverlay:{width:"100%",position:"absolute",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #fff)",height:"100%",top:0},toggle:function(e){return{margin:"".concat(e.spacing.xs,"px auto 0"),fontWeight:l.FONT_WEIGHT.bold,"& svg":{marginLeft:e.spacing.xs,cursor:"pointer"}}}},Qe=function(e){var t=e.recipe,n=e.week,r=e.isRecipeDescriptionTextEnabled,i=e.className,a=t.descriptionHTML,c=void 0===a?"":a,u=t.description,l=t.id;return r?Object(b.e)(o.i,{css:et.card,className:i},Object(b.e)(Xe,{description:c||u,recipeId:l,week:n})):null};Qe.propTypes={recipe:c.a.object.isRequired,week:c.a.string,className:c.a.string,isRecipeDescriptionTextEnabled:c.a.bool};var et={card:function(e){return{position:"relative",padding:"".concat(e.spacing.md,"px ").concat(e.spacing.sm,"px")}},premiumLabel:function(e){return{margin:"0 auto ".concat(e.spacing.xs,"px 0")}},title:function(e){return{margin:"0 0 ".concat(e.spacing.xs,"px")}},headline:function(e){return{margin:"0 0 ".concat(e.spacing.st,"px"),color:e.recipeDetail.headline.color}}},tt=n("g0xT"),nt=n("e8zD"),rt=n("wXvH"),it=n("CyHH"),ot=n("7Sg1"),at=n("qkWD"),ct=function(e){var t=e.recipe,n=e.surcharge,r=Object(at.u)(t);return Object(b.e)("div",{css:ut.wrapper},r&&Object(b.e)(ot.PremiumLabel,{"data-test-premium-label":!0,label:t.label,tooltipAlign:o.j.left}),n&&Object(b.e)("strong",{"data-test-id":"recipe-surcharge",css:ut.surcharge},n))};ct.propTypes={recipe:c.a.object.isRequired,surcharge:c.a.string};var ut={wrapper:function(e){return{position:"absolute",display:"flex",background:e.pageLayout.main.backgroundColor,bottom:-20,padding:e.spacing.xs,borderRadius:e.borderRadius.sm,left:e.spacing.sm}},surcharge:function(e){return{fontSize:e.typography.h5.fontSize.sm,marginLeft:e.spacing.xs}}},lt=n("LS0c"),st=function(e){var t=e.recipe,n=e.week,r=Object(E.b)(),i=Object(lt.a)(),a=Object(tt.d)(Object(rt.a)({recipeId:t.id,week:n})),c=Object(S.useMemo)((function(){return function(e){return{handle:at.o.addOn,text:"Add-on",backgroundColor:e.labels.addOn.backgroundColor,foregroundColor:e.labels.addOn.color}}(r)}),[r]);if(!a)return null;var u=a.quantityOptions.find((function(e){return 1===e.quantity}));return Object(b.e)("div",{css:pt.wrapper},Object(b.e)(ot.PremiumLabel,{"data-test-premium-label":!0,label:c,tooltipAlign:o.j.left}),u&&Object(b.e)("strong",{"data-test-id":"addon-surcharge",css:pt.surcharge},i({value:u.totalAmount/100})))};st.propTypes={recipe:c.a.object.isRequired,week:c.a.string.isRequired};var pt={wrapper:function(e){return{position:"absolute",display:"flex",background:e.pageLayout.main.backgroundColor,bottom:-20,padding:e.spacing.xs,borderRadius:e.borderRadius.sm,left:e.spacing.sm}},surcharge:function(e){return{fontSize:e.typography.h5.fontSize.sm,marginLeft:e.spacing.xs}}},ft=n("5DVH");function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mt,jt=function(){var e=Ot(Object(u.useContentful)([u.WORDING_CUSTOMIZED]),1)[0];return Object(b.e)("h4",{css:ht},e)},vt=function(e){return{content:'""',position:"absolute",right:"-25px",borderLeft:"25px solid ".concat(e.DEPRECATED.primaryColor.light)}},ht=function(e){return{margin:0,position:"absolute",bottom:"10%",padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.lg,"px"),textTransform:"uppercase",display:"inline-flex",background:e.DEPRECATED.primaryColor.light,"&::before":bt(bt({},vt(e)),{},{top:0,borderBottom:"25px solid transparent"}),"&::after":bt(bt({},vt(e)),{},{bottom:0,borderTop:"25px solid transparent"})}};function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var i=Ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?xt(e):t}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(o,e);var t,n,r,i=At(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Rt(xt(t=i.call(this,e)),"onResize",(function(e){var n=e.innerWidth,r=t.getCurrentBreakpoint(n);r!==t.state.breakpoint&&t.setState({breakpoint:r})})),t.state={breakpoint:t.getCurrentBreakpoint(ft.ResizeSpy.getInnerWidth())},t}return t=o,(n=[{key:"componentDidMount",value:function(){ft.ResizeSpy.addCallback(this.onResize)}},{key:"componentWillUnmount",value:function(){ft.ResizeSpy.removeCallback(this.onResize)}},{key:"getCurrentBreakpoint",value:function(e){var t=null;return Object.keys(Dt).forEach((function(n){var r=Dt[n];e>=r&&(t=n)})),t}},{key:"getImageSize",value:function(){var e,t=this.state.breakpoint;switch(t){case"xs":case"sm":e=1.5;break;case"md":case"lg":e=1.25;break;case"xl":case"xxl":default:e=1}return{width:_t[t].width*e,height:_t[t].height*e}}},{key:"render",value:function(){var e=this.props.recipe,t=Object(A.generateRecipeImageUrl)({path:e.imagePath,config:wt({crop:"fill"},this.getImageSize())});return Object(b.e)("div",{css:Nt.container},Object(b.e)("div",{css:Nt.imageWrapper},Object(b.e)(x.Image,{css:Nt.image,imageUrl:t,alt:e.name}),e.isCustomized&&Object(b.e)(jt,null)))}}])&&Et(t.prototype,n),r&&Et(t,r),o}(S.Component);Pt.propTypes={recipe:c.a.object.isRequired};var Dt={xs:0,sm:480,md:768,lg:984,xl:1200,xxl:1500},_t={xs:{width:400,height:265},sm:{width:768,height:265},md:{width:984,height:500},lg:{width:1200,height:600},xl:{width:1400,height:700},xxl:{width:1600,height:800}},Nt={container:{position:"relative",overflow:"hidden"},imageWrapper:Rt({position:"relative",height:"100%",margin:"0 auto"},l.MEDIA_BREAKPOINTS.lg,{height:400}),image:(mt={display:"block",width:"100%",height:265,objectFit:"cover"},Rt(mt,l.MEDIA_BREAKPOINTS.md,{height:400}),Rt(mt,"background","rgba(0, 0, 0, 0.1)"),mt)},Mt=Pt,Bt=n("vo1p"),Lt=n("+4Li"),Ut=function(e){var t=e.recipe,n=t.tags,r=t.prepTime,i=Object(Lt.a)(t.id).nutrition,o=Object(Bt.formatPreparationTime)(r),a=i[0];return Object(b.e)("div",{css:Ft.container},Object(b.e)("div",{css:Ft.info},Object(b.e)("div",{css:Ft.item},Object(b.e)(T.ClockIcon,{css:Ft.specIcon}),o,"."),a&&Object(b.e)("div",{"data-recipe-energy":!0,css:Ft.item},Object(b.e)(T.DocumentIcon,{css:Ft.specIcon}),a.amount,a.unit),Object(b.e)("div",{css:Ft.item},Object(b.e)(it.b,{tags:n,dataAttr:"recipe-detail"}))))};Ut.propTypes={recipe:c.a.shape({tags:c.a.array,prepTime:c.a.string,cardLink:c.a.string,id:c.a.string}).isRequired};var Ft={container:{display:"flex",justifyContent:"space-between",alignItems:"center"},info:function(e){return{display:"flex",flexWrap:"wrap",fontWeight:700,alignItems:"center",marginTop:-e.spacing.sm}},item:function(e){return{margin:"".concat(e.spacing.md,"px ").concat(e.spacing.md,"px 0 0"),display:"flex",alignItems:"center"}},specIcon:function(e){return{marginRight:"".concat(e.spacing.xxs,"px")}}};function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wt=function(e){var t=e.recipe,n=e.week,r=Object(it.c)({week:n,recipeId:t.id}).surcharge,i=Object(tt.d)(Object(rt.g)({recipeId:t.id,week:n}));return Object(b.e)("div",{css:qt.card},Object(b.e)("div",{css:qt.imageWrapper},Object(b.e)(Mt,{recipe:t}),!i&&Object(b.e)(ct,{recipe:t,surcharge:r}),i&&Object(b.e)(st,{recipe:t,week:n})),Object(b.e)(Ut,{recipe:t}))};Wt.propTypes={recipe:c.a.object,week:c.a.string};var qt={card:function(e){var t;return Kt(t={position:"relative",margin:"0 0 ".concat(e.spacing.st,"px")},nt.d.md,{margin:"0 0 ".concat(e.spacing.sm,"px")}),Kt(t,nt.d.lg,{margin:"0 0 ".concat(e.spacing.md,"px")}),t},imageWrapper:function(e){return{position:"relative",margin:"0 0 ".concat(e.spacing.sm,"px")}}};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=function(e){var t=e.recipe,n=e.week,r=t.headline,i=t.name,o=Object(Ne.q)().showRecipeSteps;return Object(b.e)(S.Fragment,null,Object(b.e)("h1",{css:Gt.title},i),Object(b.e)("div",{css:Gt.subtitle},Object(b.e)("h3",{css:Gt.headline},r,Object(b.e)("div",{css:Gt.linkContainer},Object(b.e)(Oe,{recipe:t,week:n,css:Gt.copyLink}),Object(b.e)(Ee,{recipe:t,week:n,css:Gt.cardLink}))),!o&&Object(b.e)(Re,{recipe:t,week:n})))};Vt.propTypes={recipe:c.a.object,week:c.a.string};var Gt={title:function(e){return{margin:0,color:e.typography.body.color}},subtitle:zt({display:"flex",flexDirection:"column"},l.MEDIA_BREAKPOINTS.md,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),headline:function(e){return zt({display:"flex",justifyContent:"space-between",marginBottom:e.spacing.xs},l.MEDIA_BREAKPOINTS.md,{margin:0})},linkContainer:{display:"flex",alignItems:"flex-end"},text:function(e){return{marginRight:e.spacing.st}},copyLink:function(e){return{marginLeft:e.spacing.xs,verticalAlign:"middle"}},cardLink:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({marginLeft:e.spacing.xs,verticalAlign:"middle"},l.MEDIA_BREAKPOINTS.hiddenDown("md"))}}},kzxZ:function(e,t,n){"use strict";n.r(t);var r=n("+kwD");n.d(t,"Lottie",(function(){return r.a}));var i=n("10gN");n.d(t,"fetchAnimation",(function(){return i.a}))},llcG:function(e,t,n){"use strict";n("BqyK");var r=n("3xgL"),i=n("uNgz"),o=n("CqoS"),a=n("xH0s");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={spinner:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i.ALIGN_CONTENT.both)};t.a=function(){var e=Object(r.b)();return Object(a.e)(o.a,{color:e.primaryColor,css:l.spinner})}},ntR3:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return E}));var r=n("TKCn"),i=n.n(r),o=(n("0foa"),n("B42D")),a=n.n(o),c=(n("Bl4V"),n("xzHw")),u=n.n(c),l=(n("fG1K"),n("Q33P"),n("tlF4")),s=n("XrqZ"),p=(n("99Vi"),"PUBLIC");var f=function(e){return e&&e.menus&&e.menus.publicMenus||{}},d=function(e){return f(e).items||{}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.week,r=t.usePublic,i=void 0!==r&&r,o=i?p:Object(s.P)(e);return o&&n?d(e)[Object(l.getMenuKey)({subscriptionId:o,week:n})]:null},g=function(e,t){var n=t.week;return b(e,{week:n,usePublic:!0})},O=function(e,t){var n=t.week,r=t.usePublic,i=void 0!==r&&r?p:Object(s.P)(e);return a()(f(e),["async",Object(l.getMenuKey)({subscriptionId:i,week:n}),"isFetching"])},y=function(e){return e&&e.courses||{}},m=function(e){return u()(y(e),(t=function(e){return a()(e,"variationsCoursesIndexes",[])}(e),function(e){var n=e.index;return!t.includes(n)}));var t},j=function(e,t){var n=t.recipeId;return function(e){return f(e).recipes}(e)[n]},v=function(e,t){return t.courses.map((function(t){return j(e,{recipeId:t.recipe})}))},h=function(e,t){var n=t.week,r=g(e,{week:n}),o=m(r),a=i()(o,"index");return{menuSize:a.length,recipes:v(e,{courses:a}),isLoading:O(e,{week:n,usePublic:!0})}},S=(n("g0xT"),n("Mh0k")),k=n("Dk7i"),w=n("GABF"),E=function(e,t){var n=e.week,r=e.exclude,i=e.product;return function(e,o){if(!n)return null;var a=o(),c=g(a,{week:n}),u=O(a,{week:n,usePublic:!0}),l=i||Object(k.o)(a);return!(c&&c.product===l)&&!u||t?e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.week,n=e.exclude,r=e.product;return function(e,i,o){var a=o.gwClient;return e({type:w.a,payload:Object(S.requestPublicMenus)(a,{week:t,exclude:n,product:r}).then((function(e){return e.data.items||Promise.reject()})),meta:{subscriptionId:p,week:t,shouldShowNetworkError:!0}}).catch((function(){return{}}))}}({week:n,exclude:r,product:l})):Promise.resolve()}};n("rc+m")},qZey:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("g0xT"),i=n("sdz3"),o=n("Oua5"),a=n("YUWj"),c=n("6puf"),u=n("XrqZ"),l=n("q5m1"),s=function(){var e=Object(a.a)(),t=Object(r.d)(u.P),n=Object(r.d)(c.i),s=Object(r.d)(l.c);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.week;return Object(o.b)(e,{week:a,subscriptionId:t,country:n,interval:s}).catch((function(){return i.Sentry.captureMessage("[endlesspause_error] Cannot subscribe user",{subscriptionId:t})}))}}},sDA3:function(e,t,n){"use strict";n.r(t),n.d(t,"RouteResolver",(function(){return T})),n.d(t,"CustomerMenu",(function(){return df})),n.d(t,"PublicMenu",(function(){return fd})),n.d(t,"FailedSubscription",(function(){return jd})),n.d(t,"LoadingSubscription",(function(){return nd}));var r=n("r0ML"),i=n.n(r),o=n("cNRa"),a=n.n(o),c=n("26c1"),u=n("EOzB"),l=n("qX1Z"),s=n("p5oe"),p=n("XrqZ"),f=n("99Vi"),d=n("JyK1"),b=n("gxt7"),g=n("vo1p"),O=function(e){var t=e.week,n=e.firstWeek,r=e.lastWeek,i=e.nextDeliveryWeek,o=e.nextModifiableWeek;if(i!==Object(g.getCurrentHFWeek)())return o;var a=t||Object(g.getCurrentHFWeek)();return n&&Object(g.isFutureHFWeek)(n,a)?n:r&&Object(g.isFutureHFWeek)(a,r)?r:a};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,i,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this.handleRoutes()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.hasSubscriptions,r=t.week,i=t.failedSubscription,o=t.fetchCustomer,a=t.nextModifiableWeek;n&&!e.hasSubscriptions&&o(!0),r&&n===e.hasSubscriptions&&i===e.failedSubscription||this.handleRoutes(),e.nextModifiableWeek!==a&&this.redirectToNextModifiableWeek()}},{key:"redirectToNextModifiableWeek",value:function(){var e=this.props,t=e.redirectTo,n=e.locationQuery;t({type:u.ROUTE_MENU_VIEW,payload:{week:O(this.props)},query:n})}},{key:"handleRoutes",value:function(){var e=this.props,t=e.failedSubscription,n=e.hasPendingSubscription,r=e.hasSubscriptions,i=e.week,o=e.locationQuery,a=e.firstPublicWeek;return r&&!i?this.redirectToNextModifiableWeek():t?this.props.redirectTo({type:u.ROUTE_FAILED_SUB}):n?this.props.redirectTo({type:u.ROUTE_PUBLIC_MENU,query:o}):r?null:this.props.redirectTo({type:u.ROUTE_PUBLIC_MENU,payload:{week:i||a},query:o})}},{key:"render",value:function(){return Object(r.createElement)(this.props.WrappedComponent,this.props)}}])&&j(t.prototype,n),i&&j(t,i),a}(r.Component);w.propTypes={WrappedComponent:a.a.any.isRequired,week:a.a.string,hasSubscriptions:a.a.bool,hasPendingSubscription:a.a.bool,failedSubscription:a.a.bool,nextModifiableWeek:a.a.string,firstWeek:a.a.string,lastWeek:a.a.string,firstPublicWeek:a.a.string,nextDeliveryWeek:a.a.string,locationQuery:a.a.object,redirectTo:a.a.func.isRequired,fetchCustomer:a.a.func.isRequired};var E=function(e){var t=Object(p.L)(e),n=Object(b.formatHFWeek)(Object(p.n)(t)),r=Object(f.w)(e);return{hasSubscriptions:Object(p.J)(e),hasPendingSubscription:Object(p.G)(e),failedSubscription:Object(p.N)(e),week:Object(f.u)(e,"week"),firstWeek:Object(d.b)(e),lastWeek:Object(d.c)(e),firstPublicWeek:Object(d.e)(e),nextModifiableWeek:Object(p.H)(e),nextDeliveryWeek:n,locationQuery:r}},I={fetchCustomer:s.i,redirectTo:function(e){return e}};function A(e){return Object(c.a)(Object(c.f)({WrappedComponent:e}),Object(l.a)(E,I))(w)}var T=A((function(){return null})),x=(n("BqyK"),n("UPhn")),C=n("EBaM"),R=n("xxqw"),P=n("E2ph"),D=n("uNgz"),_=n("3xgL"),N=n("abLG"),M=n("xH0s");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.children,n=Object(_.b)(),i=Object(r.useRef)(),o=L(Object(r.useState)(!1),2),a=o[0],c=o[1];return Object(N.useStickyObserver)({ref:i,setSticky:c}),Object(M.e)("div",{css:K.container({isSticky:a})(n),ref:i},Object(M.e)(P.f,{tag:"section"},Object(M.e)(P.h,{css:K.gutter},t)))};F.propTypes={children:a.a.node};var K={container:function(e){var t=e.isSticky;return function(e){return B({position:["relative","sticky"],zIndex:t?10:2,backgroundColor:t?e.menuHeader.isSticky.backgroundColor:e.menuHeader.backgroundColor,boxShadow:t?e.menuHeader.isSticky.boxShadow:null,transition:t?"background-color .2s, box-shadow .2s":null,top:-1,paddingTop:1,marginTop:19},D.MEDIA_BREAKPOINTS.md,{marginTop:22})}},gutter:function(e){return B({paddingTop:e.spacing.sm,paddingBottom:e.spacing.sm},D.MEDIA_BREAKPOINTS.md,{display:"flex"})}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(){return Object(M.e)(F,null,Object(M.e)("div",{css:V.menuInfo},Object(M.e)("div",{css:V.deliveryInfo},Object(M.e)("span",{css:V.status},"▇▇▇▇▇▇"),Object(M.e)("span",{css:V.note},"▇▇▇▇▇▇▇▇▇▇")),Object(M.e)("div",{css:V.selectionInfo},"▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇")))},V={menuInfo:{opacity:.1},deliveryInfo:function(e){return{flex:"0 0 auto",display:"flex",alignItems:"baseline",marginBottom:e.spacing.xxs}},status:function(e){return q(q({},Object(P.s)(e)),{},{marginRight:e.spacing.xs})},note:function(e){return H({flex:"0 0 auto",fontSize:"".concat(e.typography.small.fontSize.sm,"px"),lineHeight:"".concat(e.typography.small.lineHeight.sm,"px")},D.MEDIA_BREAKPOINTS.lg,{fontSize:"".concat(e.typography.h5.fontSize.sm,"px"),lineHeight:"".concat(e.typography.h5.lineHeight.sm,"px")})},selectionInfo:{}},G=n("j5yP"),Y=n.n(G),$=n("+9af");function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){var t=e.index;return Object(M.e)($.Cell,{key:t,sm:{size:1},md:{size:.5},lg:{size:1/3}},Object(M.e)(N.Card,{css:J.container},Object(M.e)("div",{css:J.imagePlaceholder}),Object(M.e)("div",{css:J.descriptionPlaceholder})))};X.propTypes={index:a.a.number.isRequired};var J={container:function(e){return Z({marginBottom:e.spacing.sm},D.MEDIA_BREAKPOINTS.md,{marginBottom:e.spacing.lg})},imagePlaceholder:Z({flex:"0 0 140px",height:"140px",background:D.COLORS.smoke},D.MEDIA_BREAKPOINTS.md,{flex:"0 0 auto",height:"190px",marginRight:0}),descriptionPlaceholder:Z({},D.MEDIA_BREAKPOINTS.md,{height:"130px"})},Q=X,ee=function(e){var t=e.isMenuExpanded;return Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)($.Grid,null,Y()(t?6:3).map((function(e){return Object(M.e)(Q,{key:e,index:e})})))))};ee.propTypes={isMenuExpanded:a.a.bool};var te=ee,ne=function(){return Object(M.e)(r.Fragment,null,Object(M.e)(z,null),Object(M.e)(te,{isMenuExpanded:!0}))},re=n("g0xT"),ie=n("MhJ/"),oe=n("Lca4"),ae=n("O31o"),ce=n("k1t3"),ue=n("KHKb"),le=function(e,t){var n=Object.keys(e);if(!t)return n;var r=n.sort((function(e,n){return t.indexOf(e)-t.indexOf(n)}));return r.push(n.shift()),r},se=n("X2+A"),pe=n("GXZ+"),fe=n("ak05"),de=n("9/Ay"),be=n("K207"),ge=n("PcYz"),Oe=n("ZUbM"),ye=n("ShZl");function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=function(){var e=Object(ye.s)(),t=e.saveEditingMenu,n=e.isSavePending,r=e.isMinCapacityReached,i=me(Object(Oe.useContentful)([Oe.EDIT_MENU_HEADER_CTA_SAVE]),1)[0];return Object(M.e)(P.c,{"data-meal-select-submit":!0,isLoading:n,disabled:!r,onClick:t,size:ge.d.small,fullWidth:!0},i)};function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=function(){var e=Object(_.b)(),t=Object(r.useRef)(null),n=he(Object(r.useState)(!1),2),i=n[0],o=n[1];return Object(be.a)({ref:t,setSticky:o}),Object(M.e)("div",{css:we.container({isSticky:i}),ref:t},Object(M.e)(P.f,null,Object(M.e)(P.h,{style:we.gutter(e)},Object(M.e)(ve,null))))},we={container:function(e){var t=e.isSticky;return function(e){return{position:["relative","sticky"],zIndex:t?9:0,backgroundColor:t?e.menuHeader.isSticky.backgroundColor:e.menuHeader.backgroundColor,boxShadow:t?e.menuHeader.isSticky.boxShadow:null,marginTop:e.spacing.sm,bottom:-1,paddingBottom:1}}},gutter:function(e){return{paddingTop:e.spacing.sm,paddingBottom:e.spacing.sm}}},Ee=n("EmMp"),Ie=n("0foa"),Ae=n.n(Ie);function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=function(){var e=Object(R.b)().week,t=Object(x.J)({week:e}),n=function(e){var t=e.delivery,n=e.status,r=Te(Object(Oe.useContentful)([Oe.MENU_HEADER_DELIVERY_STATUS_RUNNING,Oe.MENU_HEADER_DELIVERY_STATUS_RUNNING_PAST_CUTOFF,Oe.MENU_HEADER_DELIVERY_STATUS_PAUSED,Oe.MENU_HEADER_DELIVERY_STATUS_DELIVERED,Oe.MENU_HEADER_DELIVERY_STATUS_FAILED,Oe.MENU_HEADER_DELIVERY_STATUS_PREPARING,Oe.MENU_HEADER_DELIVERY_STATUS_SHIPPED,Oe.MENU_HEADER_DELIVERY_STATUS_MISSED]),8),i=r[0],o=r[1],a=r[2],c=r[3],l=r[4],s=r[5],p=r[6],f=r[7],d=Object(g.clearTimeZone)(Object(x.e)(t)),b=Ae()(d);switch(n){case u.DELIVERY_STATUS_RUNNING:return b?o:i;case u.DELIVERY_STATUS_PAUSED:return a;case u.DELIVERY_STATUS_DELIVERED:case u.DELIVERY_STATUS_RECEIVED:return c;case u.DELIVERY_STATUS_FAILED:case u.DELIVERY_STATUS_RETURNED:return l;case u.DELIVERY_STATUS_PREPARING:return s;case u.DELIVERY_STATUS_SHIPPED:return p;case u.DELIVERY_STATUS_MISSED:default:return f}}({delivery:t,status:Object(x.M)({week:e})}),r=!t||Object(Ee.q)(t);return Object(M.e)("h3",{css:Re.status({isMissed:r}),"data-has-delivery":!!t,"data-delivery-status":!0},n)},Re={status:function(e){var t=e.isMissed;return function(e){return{flex:"0 0 auto",marginTop:0,marginBottom:0,marginRight:e.spacing.xs,color:t?e.dangerColor:e.primaryColor,fontWeight:D.FONT_WEIGHT.bold,textTransform:"none"}}}},Pe=n("tlF4");function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=function(){var e=Object(R.b)().week,t=function(e){var t=e.delivery,n=e.week,r=Object(x.M)({week:n}),i=De(Object(Oe.useContentful)([Oe.MENU_HEADER_DELIVERY_NOTE_RUNNING,Oe.MENU_HEADER_DELIVERY_NOTE_RUNNING_PAST_CUTOFF,Oe.MENU_HEADER_DELIVERY_NOTE_PAUSED,Oe.MENU_HEADER_DELIVERY_NOTE_PAUSED_PAST_CUTOFF,Oe.MENU_HEADER_DELIVERY_NOTE_DELIVERED]),5),o=i[0],a=i[1],c=i[2],l=i[3],s=i[4],p=Object(x.L)({week:n}).deliveryDate,f=Object(g.clearTimeZone)(p),d=Object(g.clearTimeZone)(Object(x.e)(t)),b=Ae()(d);switch(r){case u.DELIVERY_STATUS_RUNNING:return b?Object(Pe.interpolateString)(a,{deliveryDate:Object(g.formatDate)(f,u.FORMAT_DELIVERY)}):Object(Pe.interpolateString)(o,{cutOffDate:Object(g.formatDate)(d,u.FORMAT_DELIVERY)});case u.DELIVERY_STATUS_PAUSED:return b?l:Object(Pe.interpolateString)(c,{cutOffDate:Object(g.formatDate)(d,u.FORMAT_DELIVERY)});case u.DELIVERY_STATUS_DELIVERED:case u.DELIVERY_STATUS_RECEIVED:return s;default:return null}}({delivery:Object(x.J)({week:e}),week:e});return Object(M.e)("span",{css:Me.text,"data-delivery-note":!0},t)},Me={text:function(e){return t={flex:"0 0 auto",fontSize:"".concat(e.typography.small.fontSize.sm,"px"),lineHeight:"".concat(e.typography.small.lineHeight.sm,"px")},n=D.MEDIA_BREAKPOINTS.lg,r={fontSize:"".concat(e.typography.h5.fontSize.sm,"px"),lineHeight:"".concat(e.typography.h5.lineHeight.sm,"px")},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}},Be=function(){return Object(M.e)("div",{css:Le.info},Object(M.e)(Ce,null),Object(M.e)(Ne,null))},Le={info:function(e){return{display:"flex",alignItems:"baseline",marginBottom:e.spacing.xxs}}},Ue=n("mJRi"),Fe=n("q5m1"),Ke=n("OIL8"),We=n.n(Ke),qe=n("noAk"),He=n("P5qc"),ze={UPS:"https://www.ups.com/track?loc=en_us&tracknum={{trackingId}}&requester=MB/trackdetails",FEDEX:"https://www.fedex.com/apps/fedextrack/?action=track&trackingnumber={{trackingId}}&cntry_code=us&locale=en_US",LSR:"https://www.lasership.com/track.php?track_number_input={{trackingId}}",UDS:"https://www.uniteddeliveryservice.com/track/barcode/{{trackingId}}"},Ve=function(e){return e.substring(e.indexOf("_")+1,e.indexOf("-"))},Ge=function(e){var t=e.delivery,n=e.trackingMessage,i=e.trackingLinkText,o=Object(qe.a)().dispatch,a=Object(He.useTracking)({trackDeliveryTrackingUrlClick:He.trackDeliveryTrackingUrlClick}),c=t.id,u=t.subscriptionId;Object(r.useEffect)((function(){o(Object(x.E)({subscriptionId:u,week:c}))}),[c,u,o]);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.carrier,n=e.trackingId;if(!t)return null;var r=Ve(t);return Object(Pe.interpolateString)(ze[r],{trackingId:n})||null}({carrier:Object(x.k)(t),trackingId:Object(x.m)(t)});return l?Object(M.e)("p",{css:Ye.paragraph},Object(M.e)(N.Interpolation,{input:n,replacement:{trackingLink:Object(M.e)("a",{"data-test-tracking-link":!0,href:l,onClick:function(){return a.trackDeliveryTrackingUrlClick({subscriptionId:t.subscriptionId,week:t.id,url:l})},target:"_blank",role:"button","aria-label":"".concat(i," page details"),rel:"noopener noreferrer"},i)}})):null},Ye={paragraph:{marginBottom:"15px","& a":{textDecoration:"underline"}}};Ge.defaultProps={delivery:{}},Ge.propTypes={delivery:a.a.object,trackingMessage:a.a.string,trackingLinkText:a.a.string};var $e=We()(Object(Oe.connectAndTransform)((function(){return u.CONTENT_MENU_CUSTOMER}),{transform:function(e){var t=e.entry;return{trackingMessage:t.getField("trackingMessage"),trackingLinkText:t.getField("trackingLinkText")}}}))(Ge),Ze=n("8nAZ");function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe=function(e){var t=e.delivery,n=Xe(Object(Oe.useContentful)(Oe.MENU_HEADER_SELECTION_INFO_TRACKING_TEXT),1)[0],r=Object(x.N)({delivery:t}).canBeTracked,i=Object(x.o)(t);return r?Object(M.e)("p",{css:et.paragraph},Object(M.e)(Ze.Link,{css:et.link,"data-test-delivery-tracking-link":!0,action:{type:u.ROUTE_DELIVERY_TRACKING,payload:{week:i}}},n)):null},et={paragraph:function(e){return{marginBottom:e.spacing.sm}},link:{textDecoration:"underline"}};Qe.propTypes={delivery:a.a.object.isRequired};var tt=function(){var e=Object(R.b)().week,t=Object(Ue.c)({week:e});return Object(Fe.v)().enableDeliveryTrackingPage?Object(M.e)(Qe,{delivery:t}):Object(M.e)($e,{delivery:t})},nt=n("B42D"),rt=n.n(nt),it=n("cccp"),ot=n("Dk7i"),at=function(){var e=Object(R.b)().week,t=Object(re.d)((function(t){return Object(it.a)(t,{week:e})})),n=Object(x.J)({week:e}),r=rt()(n,"productHandle",null),i=Object(re.d)((function(e){return Object(ot.l)(e,{handle:r})})),o=Object(ot.e)(i);return{totalAmount:Object(re.d)((function(t){return Object(it.i)(t,{week:e})})),typesAmount:t.length,servingsAmount:o}};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e){var t=e.children;return Object(M.e)("div",{css:pt.container},t)};st.propTypes={children:a.a.node};var pt={container:function(e){return ut(ut({},Object(P.w)(e)),{},lt({marginTop:e.spacing.xxs,marginBottom:0,display:"flex",alignItems:"center"},D.MEDIA_BREAKPOINTS.lg,{fontSize:"".concat(e.typography.body.fontSize.sm,"px"),lineHeight:"".concat(e.typography.body.lineHeight.sm,"px")}))}},ft=n("8mJ1"),dt=n("hDs/");function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ot=function(e){var t=e.isOpen,n=e.tooltipRef,r=bt(Object(Oe.useContentful)(Oe.MENU_HEADER_SELECTION_INFO_PRESELECTED_TOOLTIP),1)[0];return Object(M.e)(P.n,{position:"top",align:"right",width:200,isOpen:t,tooltipRef:n},Object(M.e)(dt.a,{css:yt.tooltipText},r))};Ot.propTypes={isOpen:a.a.bool,tooltipRef:a.a.object};var yt={tooltipText:{"& a":{color:"inherit",textDecoration:"underline"}}},mt=function(){var e=Object(_.b)(),t=Object(P.y)(),n=t.tooltipRef,r=t.buttonRef,i=t.openTooltip,o=t.isTooltipOpen,a=Object(He.useTracking)({trackDeliveryPreferencesTooltip:He.trackDeliveryPreferencesTooltip}),c=Object(R.b)().week,u=function(){o||(a.trackDeliveryPreferencesTooltip(c),i())};return Object(M.e)("span",{role:"button","aria-label":"Open preselection info",ref:r,tabIndex:0,css:jt.button,onFocus:u,onClick:u},Object(M.e)(ft.InfoTipIcon,{color:e.successColor,css:jt.icon}),Object(M.e)(Ot,{isOpen:o,tooltipRef:n}))},jt={button:{display:"inline-block",position:"relative",zIndex:200},icon:{display:"block"}};function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=function(){var e=at().typesAmount,t=Object(N.useRecipeWording)(),n=vt(Object(Oe.useContentful)(Oe.MENU_HEADER_SELECTION_INFO_PRESELECTED),1)[0],r=Object(fe.n)().isEnabled,i="".concat(e," ").concat(Object(Pe.getWordingForm)(t,e)),o=Object(Pe.interpolateString)(n,{recipes:i});return Object(M.e)(st,null,Object(M.e)("span",{css:kt.text},o),r&&Object(M.e)(mt,null))},kt={text:function(e){return{marginRight:e.spacing.xxs,fontWeight:"bold"}}},wt=n("rZOW"),Et=function(e,t){var n=t.week;return function(e){return rt()(e,"features.menuSelectionAnimation",[])}(e).includes(n)},It=function(){var e=Object(_.b)(),t=function(e){var t=e.week,n=Object(qe.a)(),r=n.state,i=n.dispatch;return{shouldShowMenuSelectionAnimation:Et(r,{week:t}),setMenuSelectionAnimation:function(){return i(Object(wt.b)({week:t}))},removeMenuSelectionAnimation:function(){return i(Object(wt.a)({week:t}))}}}({week:Object(R.b)().week}),n=t.shouldShowMenuSelectionAnimation,r=t.removeMenuSelectionAnimation;return Object(M.e)(N.ChosenIcon,{style:At.icon(e)(n),onAnimationEnd:r})},At={icon:function(e){return function(t){return{marginRight:e.spacing.xs,animation:t?P.o:null}}}};function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct=function(){var e=at(),t=e.typesAmount,n=e.servingsAmount,r=Object(N.useRecipeWording)(),i=Object(N.useServingWording)(),o=Tt(Object(Oe.useContentful)(Oe.MENU_HEADER_SELECTION_INFO_SELECTED),1)[0],a="".concat(t," ").concat(Object(Pe.getWordingForm)(r,t)),c="".concat(n," ").concat(Object(Pe.getWordingForm)(i,n)),u=Object(Pe.interpolateString)(o,{recipes:a,servings:c});return Object(M.e)(st,null,Object(M.e)(It,null),Object(M.e)("span",{css:Rt.text},u))},Rt={text:{fontWeight:"bold"}};function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=function(e){var t=e.contentfulId,n=Pt(Object(Oe.useContentful)(t),1)[0];return Object(M.e)(st,null,Object(M.e)("span",{css:Nt.text},n))};_t.propTypes={contentfulId:a.a.string.isRequired};var Nt={text:{fontWeight:"bold"}},Mt=function(){var e=Object(R.b)().week,t=Object(ce.a)({week:e}).menu,n=Object(x.J)({week:e}),r=Object(g.clearTimeZone)(Object(x.e)(n)),i=Ae()(r),o=Object(x.t)(n);return t?o?i?Object(M.e)(_t,{contentfulId:Oe.MENU_HEADER_SELECTION_INFO_PAST_CUTOFF}):t.mealsPreselected?Object(M.e)(St,null):Object(M.e)(Ct,null):Object(M.e)(_t,{contentfulId:Oe.MENU_HEADER_SELECTION_INFO_SKIPPED}):null},Bt=function(){var e=Object(R.b)().week,t=Object(x.J)({week:e}),n=Object(x.s)(t);return Object(M.e)("div",{css:Lt.container},Object(M.e)(Be,null),n?Object(M.e)(tt,null):Object(M.e)(Mt,null))},Lt={container:function(e){return{flex:"1 1 auto",alignSelf:"flex-start",marginRight:e.spacing.xs}}},Ut=(n("1TPC"),n("R8My")),Ft=n("fwrQ"),Kt=function(e){return e.pauseSurvey||{}},Wt=function(e){var t=function(e){return Kt(e).isAllocated}(e),n=function(e){return Kt(e).isImpressionDone}(e);return t&&!n},qt=n("ppjN"),Ht=n("Uhsj"),zt=n("mlrN"),Vt=function(){return{type:zt.b}},Gt=function(e){return rt()(function(e){return e.features||{}}(e),["onboardingTooltip","shouldDisplay"])},Yt=function(){var e=Object(re.c)();return{setShowOnboardingTooltip:function(){return e({type:zt.a})},setHideOnboardingTooltip:function(){return e(Vt())},shouldShowOnboardingTooltip:Object(re.d)(Gt)}},$t=n("Kbx7"),Zt=n("3HD6"),Xt=n("bQkv"),Jt=n.n(Xt),Qt=n("6nGc"),en=n("viVp");function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nn=function(e){var t=e.id,n=e.icon,r=e.title,i=e.isSelected,o=e.onClick;return Object(M.e)("div",{css:rn.cell},Object(M.e)("div",{"data-survey-option-container":t,css:rn.container(i),tabIndex:0,role:"button",onClick:o},n&&Object(M.e)("div",{"data-survey-option-icon":!0,css:rn.icon({icon:n,isSelected:i})}),Object(M.e)("h4",{"data-survey-option-title":!0,css:rn.title(i)},r)))};nn.propTypes={id:a.a.string,icon:a.a.string,title:a.a.string.isRequired,isSelected:a.a.bool,onClick:a.a.func.isRequired},nn.defaultProps={onClick:function(){}};var rn={cell:tn({flex:"0 0 100%",paddingBottom:"15px"},D.MEDIA_BREAKPOINTS.md,{flex:"0 0 33.33%",padding:"5px"}),container:function(e){return function(t){var n;return tn(n={height:"100%",padding:"15px",border:"1px solid",borderColor:e?t.skipSurvey.optionSelected.borderColor:t.skipSurvey.option.borderColor,borderRadius:"3px",backgroundColor:e?t.skipSurvey.optionSelected.backgroundColor:t.skipSurvey.option.backgroundColor,display:"flex",transitionDuration:".3s",transitionProperty:"color, border-color, background-color"},D.MEDIA_BREAKPOINTS.md,{flexDirection:"column",padding:"20px 13px"}),tn(n,D.MEDIA_BREAKPOINTS.lg,{padding:"20px 15px",cursor:e?"default":"pointer","&:hover":{borderColor:t.skipSurvey.optionHover.borderColor}}),n}},icon:function(e){var t=e.icon,n=e.isSelected;return function(e){return tn({mask:"url(".concat(t,")"),flex:"0 0 auto",alignSelf:"center",width:"24px",height:"24px",backgroundColor:n?e.skipSurvey.optionIconSelected.backgroundColor:e.skipSurvey.optionIcon.backgroundColor,transitionDuration:".3s",transitionProperty:"background-color"},D.MEDIA_BREAKPOINTS.md,{alignSelf:"center",marginRight:0,marginBottom:"5px"})}},title:function(e){return function(t){return tn({flex:"1 1 auto",alignSelf:"center",userSelect:"none",color:e?t.skipSurvey.optionTitleSelected.color:t.skipSurvey.optionTitle.color},D.MEDIA_BREAKPOINTS.md,{textAlign:"center"})}}},on=nn;function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var i=dn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?fn(e):t}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(o,e);var t,n,r,i=sn(o);function o(){var e;cn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bn(fn(e=i.call.apply(i,[this].concat(n))),"state",{selectedOption:null}),bn(fn(e),"handleOptionSelect",(function(t){t!==e.state.selectedOption&&(e.setState({selectedOption:t}),e.props.onChange(t))})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.onSubmit;return Object(M.e)("div",{css:yn.container},n.map((function(t){var n=t.id===e.state.selectedOption;return Object(M.e)(on,{key:t.id,id:t.id,icon:t.icon,title:t.title,onClick:function(){return!n&&e.handleOptionSelect(t.id)},isSelected:n})})),Object(M.e)("div",{css:yn.submitContainer},Object(M.e)(P.c,{"data-survey-submit":!0,size:D.BUTTON_SIZE.small,kind:D.BUTTON_TYPE.primary,css:yn.submitButton,disabled:null===this.state.selectedOption,onClick:function(){return e.state.selectedOption&&r(e.state.selectedOption)}},"Submit")))}}])&&un(t.prototype,n),r&&un(t,r),o}(r.Component);gn.propTypes={options:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,icon:a.a.string,title:a.a.string.isRequired})),onChange:a.a.func.isRequired,onSubmit:a.a.func.isRequired},gn.defaultProps={options:[],onChange:function(){},onSubmit:function(){}};var On,yn={container:bn({marginBottom:"-15px",display:"flex",flexWrap:"wrap"},D.MEDIA_BREAKPOINTS.md,{margin:"-5px"}),submitContainer:bn({margin:"auto",marginTop:"30px"},D.MEDIA_BREAKPOINTS.only("sm"),{position:"sticky",bottom:"-20px",marginTop:0,padding:"15px",background:D.COLORS.white,zIndex:10,height:"70px",width:"120%",marginLeft:"-14px",marginRight:"-15px",borderTop:"solid 1px ".concat(D.COLORS.lighterGrey)}),submitButton:{width:"240px"}},mn=gn;function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sn=function(e){var t=e.onSubmit,n=e.onBack,i=vn(Object(r.useState)(""),2),o=i[0],a=i[1];return Object(M.e)("div",null,Object(M.e)(N.Textarea,{"data-survey-details":!0,css:kn.textarea,placeholder:"",onChange:function(e){return a(e)},rows:"3",fullWidth:!0}),Object(M.e)("div",{css:kn.buttonsContainer},Object(M.e)(P.c,{"data-survey-details-back":!0,size:D.BUTTON_SIZE.small,kind:D.BUTTON_TYPE.ghost,css:kn.goBackButton,onClick:n},"Go back"),Object(M.e)(P.c,{"data-survey-details-submit":!0,size:D.BUTTON_SIZE.small,kind:D.BUTTON_TYPE.primary,css:kn.submitButton,disabled:!o.length,onClick:function(){return t(o)}},"Submit")))};Sn.propTypes={onSubmit:a.a.func.isRequired,onBack:a.a.func.isRequired};var kn={buttonsContainer:{marginTop:"30px",display:"flex"},goBackButton:{flex:"1",marginRight:"20px"},submitButton:{flex:"1"},textarea:(On={},jn(On,D.MEDIA_BREAKPOINTS.only("sm"),{minHeight:"84px"}),jn(On,D.MEDIA_BREAKPOINTS.only("md"),{minHeight:"104px"}),jn(On,D.MEDIA_BREAKPOINTS.only("lg"),{minHeight:"144px"}),On)},wn=Sn;function En(e){return function(e){if(Array.isArray(e))return xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||Tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){if(e){if("string"==typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cn=function(e){var t=e.title,n=e.strapline,i=e.detailsStrapline,o=e.options,a=e.handleCloseModal,c=e.week,u=e.trackPauseSurveyDismiss,l=e.trackPauseSurveyFeedbackDismiss,s=e.trackPauseSurveyAnswer,p=e.trackPauseSurveyFeedbackSubmit,f=e.trackPauseSurveyFeedbackGoBack,d=An(Object(r.useState)(!1),2),b=d[0],g=d[1],O=b?l:u;return Object(M.e)(en.Modal,{css:Pn.container,titleClassName:Pn.title,contentClassName:Pn.modalContent,onRequestClose:function(){O({week:c}),a()},title:t,uniqueIdentifier:"pause-survey-modal-close",isOpen:!0},Object(M.e)("p",{css:Pn.message},b?i:n),b?Object(M.e)(wn,{onBack:function(){f({week:c}),g(!1)},onSubmit:function(e){p({week:c,feedback:e}),a()}}):Object(M.e)(mn,{options:o,onChange:function(e){"other"===e&&g(!0)},onSubmit:function(e){s({week:c,answer:e}),a()}}))},Rn=a.a.shape({id:a.a.string.isRequired,icon:a.a.string,title:a.a.string.isRequired});Cn.propTypes={handleCloseModal:a.a.func.isRequired,week:a.a.string,title:a.a.string.isRequired,strapline:a.a.string.isRequired,detailsStrapline:a.a.string.isRequired,options:a.a.arrayOf(Rn),trackPauseSurveyDismiss:a.a.func,trackPauseSurveyFeedbackDismiss:a.a.func,trackPauseSurveyAnswer:a.a.func,trackPauseSurveyFeedbackSubmit:a.a.func,trackPauseSurveyFeedbackGoBack:a.a.func};var Pn={container:In({textAlign:"center",width:"465px !important"},D.MEDIA_BREAKPOINTS.lg,{width:"555px !important"}),title:{marginTop:"0",marginBottom:"10px"},modalContent:{overflowX:"hidden !important"},message:In({margin:"0 0 15px"},D.MEDIA_BREAKPOINTS.lg,{marginBottom:"25px"})},Dn=function(e,t){var n={id:t.getField("title"),title:t.getField("text"),icon:Object(Qt.generateContentfulImageUrl)({url:t.getFieldFileUrl("image"),config:{height:24,width:24}})};return[].concat(En(e),[n])},_n=Object(c.a)(Object(Oe.connectAndTransform)((function(){return u.CONTENT_SKIP_WEEK_SURVEY}),{transform:function(e){var t,n,r,i,o=e.entry;return{title:o.getField("listTitle"),strapline:o.getField("listStrapline"),detailsStrapline:o.getField("listSecondStrapline"),options:(t=o.getLinkedEntries("listItemsGroup"),n=t.reduce(Dn,[]),r=n.find((function(e){return"other"===e.id})),i=Jt()(n.filter((function(e){return"other"!==e.id}))),r?[].concat(En(i),[r]):i)}}}),Object(He.connect)({trackPauseSurveyDismiss:He.trackPauseSurveyDismiss,trackPauseSurveyFeedbackDismiss:He.trackPauseSurveyFeedbackDismiss,trackPauseSurveyAnswer:He.trackPauseSurveyAnswer,trackPauseSurveyFeedbackSubmit:He.trackPauseSurveyFeedbackSubmit,trackPauseSurveyFeedbackGoBack:He.trackPauseSurveyFeedbackGoBack}))(Cn),Nn=n("+Xr5"),Mn=function(e){return rt()(function(e){return e.features||{}}(e),["helpSkip","helpSkipWasDisplay"])},Bn=function(){var e=Object(qe.a)(),t=e.state,n=e.dispatch;return{setHelpSkipDisplayed:function(){return n({type:Nn.a})},shouldShowHelpSkip:!Mn(t)&&!!Object(f.w)(t,"highlightSkipWeek")}},Ln=function(){var e=Object(Oe.useContentfulLegacy)((function(){return{title:u.CONTENT_CANCEL_DEFLECTION_HELP_SKIP_TEXT,cta:u.CONTENT_CANCEL_DEFLECTION_HELP_SKIP_CTA}})).entries,t=e.title,n=e.cta,r=Bn().setHelpSkipDisplayed,o=Object(P.y)({initialState:!0,onClose:r}),a=o.tooltipRef,c=o.closeTooltip,l=o.isTooltipOpen,s="sm"===Object(se.useCurrentBreakpoint)();return i.a.useEffect((function(){return r}),[]),Object(M.e)(P.n,{position:"bottom",align:s?"center":"left",width:250,isOpen:l,tooltipRef:a},Object(M.e)("div",{css:Un.wrapper},Object(M.e)("span",null,t.getField("value")),Object(M.e)("div",{"data-test-close-help-skip":!0,onClick:c,css:Un.confirmation,role:"button",tabIndex:0},Object(M.e)("span",null,n.getField("value")))))},Un={wrapper:{display:"flex",flexDirection:"column"},confirmation:function(e){return{textAlign:"right",marginTop:"".concat(e.spacing.xxs,"px")}}};function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=function(e){var t=e.title,n=e.content,r=e.abandonCta,i=e.continueCta,o=e.handleCloseModal,a=e.handleEditMenu,c=e.handleSkipWeek;return Object(M.e)(en.Modal,{css:zn.container,onRequestClose:o,title:t,isOpen:!0},Object(M.e)("p",{css:zn.message},n),Object(M.e)(P.c,{"data-skip-week-cancel":!0,kind:D.BUTTON_TYPE.ghost,size:D.BUTTON_SIZE.small,css:zn.button,onClick:a},r),Object(M.e)(P.c,{"data-skip-week-submit":!0,size:D.BUTTON_SIZE.small,css:zn.button,onClick:c},i))};Hn.propTypes={handleCloseModal:a.a.func.isRequired,handleEditMenu:a.a.func.isRequired,handleSkipWeek:a.a.func.isRequired,title:a.a.string.isRequired,content:a.a.string.isRequired,abandonCta:a.a.string.isRequired,continueCta:a.a.string.isRequired};var zn={container:qn({textAlign:"center",width:"465px !important"},D.MEDIA_BREAKPOINTS.lg,{width:"555px !important"}),message:function(e){return qn({margin:"0 0 ".concat(e.spacing.sm,"px")},D.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.md})},button:function(e){return qn({margin:"".concat(e.spacing.xxs,"px ").concat(e.spacing.xs,"px")},D.MEDIA_BREAKPOINTS.only("sm"),{minWidth:"75% !important"})}},Vn=Object(c.a)(Object(Oe.connectAndTransform)((function(e){return{skipModalCopy:e.isUnskipBlocked?u.CONTENT_BLOCKED_UNSKIP_SKIP_WEEK_MODAL:u.CONTENT_SKIP_WEEK_MODAL,skipModalCTACopy:u.CONTENT_SKIP_WEEK_MODAL_CTA}}),{transform:function(e){var t=e.entries,n=t.skipModalCTACopy,r=t.skipModalCopy;return Kn(Kn({},Wn(e,["entries"])),{},{title:r.getField("title"),content:r.getField("content"),abandonCta:n.getField("cancelActionText"),continueCta:n.getField("successActionText")})}}))(Hn),Gn=n("8OvK");function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zn,Xn=function(){var e=Yn(Object(Oe.useContentful)([Oe.MENU_ONBOARDING_TOOLTIP_TEXT,Oe.MENU_ONBOARDING_TOOLTIP_CTA]),2),t=e[0],n=e[1],i=Object(Gn.a)().firstName,o=Yt().setHideOnboardingTooltip,a=Object(He.useTracking)({trackOnboardingTooltipImpression:He.trackOnboardingTooltipImpression,trackOnboardingTooltipClose:He.trackOnboardingTooltipClose}),c=Object(P.y)({onClose:function(){a.trackOnboardingTooltipClose(),o()}}),u=c.tooltipRef,l=c.closeTooltip,s=Object(Pe.interpolateString)(t,{firstName:i});return Object(r.useEffect)((function(){a.trackOnboardingTooltipImpression()}),[]),Object(M.e)(P.n,{position:P.k.bottom,type:P.l.highlight,align:P.j.center,isOpen:!0,tooltipRef:u,width:300,css:Jn.tooltip},Object(M.e)("div",{css:Jn.wrapper},Object(M.e)("div",{css:Jn.flexRow},Object(M.e)("span",{css:Jn.title},s)),Object(M.e)("a",{"data-test-close-onboarding-tooltip":!0,onClick:l,css:Jn.confirmation,role:"button",tabIndex:0},Object(M.e)("small",null,Object(M.e)("strong",null,n)))))},Jn={wrapper:{display:"flex",flexDirection:"column"},tooltip:{background:"white",width:"300px"},flexRow:{display:"flex",alignItems:"center"},icon:function(e){return{height:"44px",marginRight:e.spacing.st}},title:function(e){return{fontSize:e.typography.h5.fontSize.sm}},confirmation:function(e){return{color:e.tooltips[P.l.highlight].color,textAlign:"right",marginTop:e.spacing.xxs,cursor:"pointer",alignSelf:"flex-end","&: hover":{color:e.tooltips[P.l.highlight].hoverColor}}}};function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nr=function(e){var t=e.isEditAllowed,n=e.isSkipAllowed,r=e.isUnskipBlocked,i=e.isSkipped,o=e.isDeliveryUpdating,a=e.isSkipModalOpen,c=e.handleEditMenu,l=e.handleToggleWeek,s=e.handleOpenSkipModal,p=e.handleCloseSkipModal,f=e.handleCloseSurveyModal,d=e.isSkipSurveyOpen,b=e.week,g=e.className,O=Object(Oe.useContentfulLegacy)((function(){return{unskipCopy:u.CONTENT_UNSKIP_WEEK_CTA,skipCopy:u.CONTENT_SKIP_WEEK_MODAL_CTA}})).entries,y=O.unskipCopy,m=O.skipCopy,j=er(Object(Oe.useContentful)([Oe.MENU_HEADER_EDIT_MEALS]),1)[0],v=Object(Zt.useOptimizelyFeatureEnabled)(u.EXPERIMENT_SMS_EDIT_CTA),h=t&&!v,S=Bn().shouldShowHelpSkip,k=Yt().shouldShowOnboardingTooltip,w=Object(_.b)();return Object(M.e)($.Container,{className:g,css:rr.container},Object(M.e)(P.c,{"data-skip-week-toggle":!0,size:D.BUTTON_SIZE.small,css:Object($t.a)([rr.actionButton(w),rr.skipButton({theme:w,shouldShowHelpSkip:S})],""),kind:i?D.BUTTON_TYPE.primary:D.BUTTON_TYPE.ghost,onClick:i?l:S?function(){}:s,disabled:!n,isLoading:o},Object(M.e)(ft.TruckIcon,{color:w.buttons[i?D.BUTTON_TYPE.primary:D.BUTTON_TYPE.ghost].textColor,css:rr.buttonIcon,width:20,height:20}),i?y.getField("successActionText"):m.getField("successActionText"),S&&Object(M.e)(Ln,null)),h&&Object(M.e)(P.c,{"data-meal-select-link":!0,kind:D.BUTTON_TYPE.primary,size:D.BUTTON_SIZE.small,onClick:c,css:rr.actionButton},Object(M.e)(ft.MyMenuIcon,{color:w.buttons[D.BUTTON_TYPE.primary].textColor,css:rr.buttonIcon,width:20,height:20}),j,k&&Object(M.e)(Xn,null)),a&&Object(M.e)(Vn,{handleCloseModal:p,handleEditMenu:c,handleSkipWeek:l,isUnskipBlocked:r}),d&&Object(M.e)(_n,{handleCloseModal:f,week:b}))},rr={container:(Zn={textAlign:"center",paddingTop:"15px",paddingBottom:"15px"},Qn(Zn,D.MEDIA_BREAKPOINTS.md,{paddingTop:"0",paddingBottom:"25px",textAlign:"right"}),Qn(Zn,D.MEDIA_BREAKPOINTS.lg,{paddingBottom:"0"}),Zn),skipButton:function(e){var t=e.theme;return e.shouldShowHelpSkip?{":hover, :focus":{backgroundColor:"".concat(t.buttons.ghost.backgroundColor," !important"),color:"".concat(t.buttons.ghost.textColor," !important"),borderColor:"".concat(t.buttons.ghost.borderColor," !important")}}:Qn({},D.MEDIA_BREAKPOINTS.md,{":hover path, :focus path":{fill:"".concat(t.buttons.ghostHover.textColor," !important")}})},actionButton:function(e){var t;return Qn(t={},D.MEDIA_BREAKPOINTS.md,{marginLeft:e.spacing.sm}),Qn(t,D.MEDIA_BREAKPOINTS.only("sm"),{width:"100%",marginBottom:e.spacing.sm}),t},buttonIcon:function(e){return{marginRight:e.spacing.xs,pointerEvents:"none"}}};nr.propTypes={isEditAllowed:a.a.bool,isSkipAllowed:a.a.bool,isSkipped:a.a.bool,isUnskipBlocked:a.a.bool,isSkipModalOpen:a.a.bool,isSkipSurveyOpen:a.a.bool,isDeliveryUpdating:a.a.bool,handleEditMenu:a.a.func,handleToggleWeek:a.a.func,handleOpenSkipModal:a.a.func,handleCloseSkipModal:a.a.func,handleCloseSurveyModal:a.a.func,week:a.a.string,className:a.a.string};var ir=nr;function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lr(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function sr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){lr(o,r,i,a,c,"next",e)}function c(e){lr(o,r,i,a,c,"throw",e)}a(void 0)}))}}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yr(e);if(t){var i=yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gr(this,n)}}function gr(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?Or(e):t}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(a,e);var t,n,i,o=br(a);function a(){var e;pr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mr(Or(e=o.call.apply(o,[this].concat(n))),"state",{isSkipModalOpen:!1,isSkipSurveyOpen:!1}),mr(Or(e),"componentDidMount",(function(){e.props.isSkipped&&!e.props.isUnskipBlocked?e.props.addSkippedNotification():(e.props.allocateUserForPauseSurvey(),e.props.removeSkippedNotification())})),mr(Or(e),"componentDidUpdate",(function(t){!e.props.isSkipped&&t.isSkipped&&(e.props.removeSkippedNotification(),e.props.week===t.week&&e.props.addUnskippedNotification()),!e.props.isSkipped||t.isSkipped||e.props.isUnskipBlocked||e.props.addSkippedNotification()})),mr(Or(e),"componentWillUnmount",(function(){return e.props.removeSkippedNotification()})),mr(Or(e),"handleEditMenu",(function(){var t=e.props,n=t.week,r=t.subscriptionId,i=t.trackStartMealChoice,o=t.setInEditMode,a=t.clearMenuSelection,c=t.isMealSwapDone,u=t.shouldDisplayOnboardingTooltip,l=t.setHideOnboardingTooltip;c||a({week:n}),u&&l(),i({week:n,subscriptionId:r,action:"editButton"}),o(!0)})),mr(Or(e),"handleToggleWeek",sr(regeneratorRuntime.mark((function t(){var n,r,i,o,a,c,u,l,s,p,f,d,b,g,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.isSkipAllowed,i=n.isSkipped,o=n.delivery,a=n.week,c=n.subscriptionId,u=n.shouldShowPauseSurvey,l=e.props,s=l.unSkipDelivery,p=l.skipDelivery,f=l.setPauseSurveyImpressionDone,d=e.props,b=d.trackUnskipWeek,g=d.trackSkipWeek,O=d.trackPauseSurveyPopUp,r){t.next=5;break}return t.abrupt("return");case 5:if(e.toggleSkipWeekModal(!1),!i){t.next=11;break}return t.next=9,s({delivery:o});case 9:return b({week:a,subscriptionId:c}),t.abrupt("return");case 11:return t.next=13,p({delivery:o});case 13:u&&(e.setState({isSkipSurveyOpen:!0}),f(!0),O({week:a})),g({week:a,subscriptionId:c});case 15:case"end":return t.stop()}}),t)})))),mr(Or(e),"toggleSkipWeekModal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.state.isSkipModalOpen;if(e.setState({isSkipModalOpen:t}),t){var n=e.props,r=n.trackSkipWeek,i=n.week,o=n.subscriptionId;r({week:i,subscriptionId:o,action:"click"})}})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.isSkipAllowed,i=t.isEditAllowed,o=t.isUnskipBlocked,a=t.isSkipped,c=t.isDeliveryUpdating,u=t.className,l=t.renderAfter,s=t.week,p=this.state,f=p.isSkipModalOpen,d=p.isSkipSurveyOpen;return n||i?Object(M.e)(r.Fragment,null,Object(M.e)(ir,{isEditAllowed:i,isSkipAllowed:n,isSkipped:a,isDeliveryUpdating:c,isUnskipBlocked:o,isSkipModalOpen:f,isSkipSurveyOpen:d,handleEditMenu:this.handleEditMenu,handleToggleWeek:this.handleToggleWeek,handleOpenSkipModal:function(){return e.toggleSkipWeekModal(!0)},handleCloseSkipModal:function(){return e.toggleSkipWeekModal(!1)},handleCloseSurveyModal:function(){return e.setState({isSkipSurveyOpen:!1})},className:u,week:s}),l&&l()):null}}])&&fr(t.prototype,n),i&&fr(t,i),a}(r.Component);jr.propTypes={className:a.a.oneOfType([a.a.object,a.a.string]),delivery:a.a.object,renderAfter:a.a.func,week:a.a.string,subscriptionId:a.a.string,isSkipped:a.a.bool,isUnskipBlocked:a.a.bool,isSkipAllowed:a.a.bool,isEditAllowed:a.a.bool,isDeliveryUpdating:a.a.bool,isMealSwapDone:a.a.bool,shouldShowPauseSurvey:a.a.bool,skipDelivery:a.a.func.isRequired,unSkipDelivery:a.a.func.isRequired,addSkippedNotification:a.a.func.isRequired,removeSkippedNotification:a.a.func.isRequired,addUnskippedNotification:a.a.func.isRequired,allocateUserForPauseSurvey:a.a.func.isRequired,setPauseSurveyImpressionDone:a.a.func.isRequired,setInEditMode:a.a.func,clearMenuSelection:a.a.func,shouldDisplayOnboardingTooltip:a.a.bool,setHideOnboardingTooltip:a.a.func,trackUnskipWeek:a.a.func,trackSkipWeek:a.a.func,trackStartMealChoice:a.a.func,trackPauseSurveyPopUp:a.a.func};var vr={skipDelivery:x.F,unSkipDelivery:x.G,addNotification:Ht.b,removeNotification:Ht.c,allocateUserForPauseSurvey:function(){return function(e,t){var n,r=t();if(!function(e){return Kt(e).isAllocationDone}(r)){var i=Object(Ut.n)(r),o=Object(Ut.o)(r),a=Object(Ft.f)(r),c=100*Math.random()<=o;e((n=!a&&(i&&c),{type:qt.a,payload:n}))}}},setPauseSurveyImpressionDone:function(e){return{type:qt.b,payload:e}},setInEditMode:ye.l,clearMenuSelection:ye.c,setHideOnboardingTooltip:Vt},hr="skipweek-unskipped",Sr="skipweek-skipped",kr=Object(c.a)(Object(l.a)((function(e,t){var n=t.delivery;if(!n)return{};var r=Object(x.o)(n);return{week:r,subscriptionId:Object(p.P)(e),isSkipped:Object(x.u)(n),isUnskipBlocked:Object(Ut.k)(e,{week:r}),isSkipAllowed:Object(x.B)(e,{week:r}),isEditAllowed:Object(x.A)(e,{week:r}),isDeliveryUpdating:!!Object(x.z)(e,{week:r}),shouldShowPauseSurvey:Wt(e),isMealSwapDone:!Object(pe.d)(e,{week:r}),shouldDisplayOnboardingTooltip:Gt(e)}}),vr),Object(c.c)((function(e){var t=e.addNotification,n=e.removeNotification;return cr(cr({},ur(e,["addNotification","removeNotification"])),{},{addSkippedNotification:function(){n({id:hr}),t({id:Sr,type:"error",content:"Your menu has been skipped.",dismiss:{disabled:!0}})},removeSkippedNotification:function(){return n({id:Sr})},addUnskippedNotification:function(){return t({id:hr,type:"success",content:"Your menu has been unskipped."})}})})),Object(He.connect)({trackSkipWeek:He.trackSkipWeek,trackUnskipWeek:He.trackUnskipWeek,trackStartMealChoice:He.trackStartMealChoice,trackPauseSurveyPopUp:He.trackPauseSurveyPopUp}))(jr);function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=function(){var e=Object(R.b)().week,t=Object(x.J)({week:e});return Object(M.e)("div",{css:Ir.wrapper},Object(M.e)(kr,{delivery:t,css:Ir.container}))},Ir={wrapper:wr({margin:"0 -2px"},D.MEDIA_BREAKPOINTS.md,{margin:0}),container:wr({paddingTop:0,paddingBottom:0,paddingLeft:"0 !important",paddingRight:"0 !important"},D.MEDIA_BREAKPOINTS.md,{paddingBottom:0})};var Ar=function(){return Object(M.e)("div",{css:Tr.container},Object(M.e)(Er,null))},Tr={container:function(e){return t={paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs},n=D.MEDIA_BREAKPOINTS.md,r={paddingTop:0,paddingBottom:0,flex:"1 1 auto",alignSelf:"center"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}},xr=function(){return Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)(Ar,null)))},Cr=function(){var e=Object(R.b)().week,t=Object(x.I)({week:e}).isManageWeekAllowed,n=Object(p.gb)().isActive,r="sm"===Object(se.useCurrentBreakpoint)();return Object(M.e)(i.a.Fragment,null,Object(M.e)(F,null,Object(M.e)(Bt,null),n&&!r&&t&&Object(M.e)(Ar,null)),n&&r&&t&&Object(M.e)(xr,null))},Rr=n("Nb3Z"),Pr=n("sdlk");function Dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mr=function(){var e=_r(Object(Rr.b)([Pr.Bc]),1)[0];return Object(M.e)(P.f,{css:Br.header},Object(M.e)(P.h,null,Object(M.e)("h3",{css:Br.titleText,"data-test-title":!0},e)))},Br={titleText:{margin:0},header:function(e){var t;return Dr(t={flex:"0 0 auto",textAlign:"center",paddingTop:"".concat(e.spacing.xl,"px"),marginBottom:"".concat(e.spacing.md,"px")},D.MEDIA_BREAKPOINTS.lg,{textAlign:"left",marginBottom:"0"}),Dr(t,D.MEDIA_BREAKPOINTS.only("sm"),{paddingTop:"".concat(e.spacing.xxl,"px")}),t}};function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr=function(e){var t=e.isLoading,n=Object(_.b)(),r=Object(ae.b)().week,i=Object(Ue.e)({week:r}).hasCutOffPassed,o=Ur(Object(Oe.useContentful)([Oe.EDIT_MENU_PRE_CUTOFF_DIVIDER,Oe.EDIT_MENU_POST_CUTOFF_DIVIDER]),2),a=o[0],c=o[1],u=i?c:a;return Object(M.e)(P.f,{style:qr.container(n)},Object(M.e)(P.h,null,Object(M.e)("div",{css:qr.content(t)},Object(M.e)("h3",{css:qr.title},t?"Loading...":u))))};Kr.propTypes={isLoading:a.a.bool};var Wr={content:'""',flex:"1 1 auto",height:"2px",background:"#979797"},qr={container:function(e){return Lr({marginTop:e.spacing.md,marginBottom:e.spacing.md},D.MEDIA_BREAKPOINTS.lg,{marginTop:e.spacing.md,marginBottom:e.spacing.md})},content:function(e){return{display:"flex",alignItems:"center",justifyContent:"center","::after":Wr,"::before":Wr,opacity:e?.7:1}},title:function(e){var t;return Lr(t={margin:"0 ".concat(e.spacing.xs,"px")},D.MEDIA_BREAKPOINTS.md,{margin:"0 ".concat(e.spacing.st,"px")}),Lr(t,D.MEDIA_BREAKPOINTS.lg,{margin:"0 ".concat(e.spacing.lg,"px")}),t}},Hr=n("K/cI");function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gr=function(){var e,t,n,i=zr(Object(r.useState)(!1),2),o=i[0],a=i[1],c=(e=Object(R.b)().week,t=Object(p.gb)().subscriptionId,n=Object(He.useTracking)({trackPriceBreakdownInteraction:He.trackPriceBreakdownInteraction}),{trackOpen:Object(r.useCallback)((function(){n.trackPriceBreakdownInteraction({isOpen:!0,week:e,subscriptionId:t})}),[e,t]),trackClose:Object(r.useCallback)((function(){n.trackPriceBreakdownInteraction({isOpen:!1,week:e,subscriptionId:t})}),[e,t])}),u=c.trackOpen,l=c.trackClose;return{isOpen:o,openBreakdown:function(){o||(a(!0),u())},closeBreakdown:function(){o&&(a(!1),l())}}},Yr=n("YF/g");function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr=function(){var e,t,n,r,i,o,a,c=(e=Object(Pe.useFormattedCurrency)(),t=Object(ye.o)(),n=$r(Object(Oe.useContentful)([Oe.PRICE_BREAKDOWN_CREDIT,Oe.PRICE_BREAKDOWN_VOUCHER]),2),r=n[0],i=n[1],o=Object(ye.q)().totalDiscountWithoutShipping,a=rt()(t,"voucherCode","").toLowerCase(),o?{id:"discount",label:"credit"===a?r:i,value:"-".concat(e({value:o}))}:null);if(!c)return null;var u=c.id,l=c.label,s=c.value;return Object(M.e)("div",{"data-breakdown-row":u,css:Jr.breakdownRow},Object(M.e)("span",{css:Jr.label},l),Object(M.e)("span",{"data-price-value":"-",css:Jr.value},s))},Jr={breakdownRow:function(e){return{display:"flex",fontSize:e.typography.h5.sm,lineHeight:"".concat(e.typography.h5.sm,"px")}},label:function(e){return{flexGrow:1,color:e.priceBreakdownDrawer.label.color}},value:function(e){return{color:e.priceBreakdownDrawer.discountedPrice.color,textAlign:"right",marginLeft:e.spacing.sm}}},Qr=function(e){var t=e.id,n=e.label,r=e.value,i=Boolean(r);return Object(M.e)("div",{"data-breakdown-row":t,css:ei.breakdownRow},Object(M.e)("span",{css:ei.label},n),i&&Object(M.e)("span",{"data-price-value":"+",css:ei.value},r))};Qr.propTypes={id:a.a.string,label:a.a.string,value:a.a.string};var ei={breakdownRow:function(e){return{display:"flex",fontSize:e.typography.h5.sm,lineHeight:"".concat(e.typography.h5.sm,"px")}},label:function(e){return{flexGrow:1,color:e.priceBreakdownDrawer.label.color}},value:function(e){return{color:e.priceBreakdownDrawer.value.color,textAlign:"right",marginLeft:e.spacing.sm}}};function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ri=function(){var e=function(){var e=Object(Pe.useFormattedCurrency)(),t=Object(ye.o)(),n=ti(Object(Oe.useContentful)([Oe.PRICE_BREAKDOWN_SHIPPING,Oe.PRICE_BREAKDOWN_SHIPPING_FREE]),2),r=n[0],i=n[1],o=rt()(t,"shipping.full");return{id:"shipping",isFree:!rt()(t,"shipping.paid"),label:r,value:o>0?e({value:o}):o,freeText:i}}(),t=e.id,n=e.isFree,i=e.label,o=e.value,a=e.freeText,c=Boolean(o);return Object(M.e)("div",{"data-breakdown-row":t,css:ii.breakdownRow},Object(M.e)("span",{css:ii.label},i),n?Object(M.e)(r.Fragment,null,c&&Object(M.e)("span",{css:ii.value({isFree:n}),"data-price-old-value":!0},o),Object(M.e)("strong",{css:ii.freeText,"data-price-value":"+","data-free-label":!0},a)):Object(M.e)("span",{"data-price-value":"+",css:ii.value({isFree:n})},o))},ii={breakdownRow:function(e){return{display:"flex",fontSize:e.typography.h5.sm,lineHeight:"".concat(e.typography.h5.sm,"px")}},label:function(e){return{flexGrow:1,color:e.priceBreakdownDrawer.label.color}},value:function(e){var t=e.isFree;return function(e){return{color:e.priceBreakdownDrawer.value.color,textAlign:"right",marginLeft:e.spacing.sm,textDecoration:t?"line-through":null,opacity:t?.5:null}}},freeText:function(e){return{marginLeft:e.spacing.xxs,color:e.priceBreakdownDrawer.freeLabel.color,textTransform:"uppercase"}}},oi=n("Q33P"),ai=n.n(oi);function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var li=function(){var e=function(){var e=Object(Pe.useFormattedCurrency)(),t=Object(ye.o)(),n=ci(Object(Oe.useContentful)(Oe.PRICE_BREAKDOWN_PREMIUM_SHIPPING),1)[0];if(ai()(rt()(t,"premiumShipping")))return{id:"premiumShipping",hasPremiumShipping:!1};var r=rt()(t,"premiumShipping.full");return{id:"premiumShipping",hasPremiumShipping:!0,label:n,value:r>0?e({value:r}):r}}(),t=e.id,n=e.hasPremiumShipping,r=e.label,i=e.value;return n?Object(M.e)("div",{"data-breakdown-row":t,css:si.breakdownRow},Object(M.e)("span",{css:si.label},r),Object(M.e)("span",{"data-price-value":"+",css:si.value},i)):null},si={breakdownRow:function(e){return{display:"flex",fontSize:e.typography.h5.sm,lineHeight:"".concat(e.typography.h5.sm,"px")}},label:function(e){return{flexGrow:1,color:e.priceBreakdownDrawer.label.color}},value:function(e){return{color:e.priceBreakdownDrawer.value.color,textAlign:"right",marginLeft:e.spacing.sm}}};function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=function(){var e=Object(ye.q)(),t=e.totalPaidPrice,n=e.totalFullPrice,r=e.isDiscounted,i=Object(Pe.useFormattedCurrency)();return Object(M.e)("div",{"data-breakdown-totals-row":!0,css:gi.row},Object(M.e)("span",{css:gi.label},"Total"),!!r&&Object(M.e)("span",{"data-week-total-original":!0,css:gi.fullPrice},i({value:n})),Object(M.e)("span",{"data-week-total-actual":!0,css:gi.paidPrice},i({value:t})))},gi={row:function(e){return fi(fi({borderTop:e.priceBreakdownDrawer.totalRow.borderTop,display:"flex"},Object(P.u)(e)),{},{fontWeight:600,marginTop:e.spacing.xs,paddingTop:e.spacing.xxs})},label:function(e){return{flexGrow:1,color:e.priceBreakdownDrawer.totalLabel.color}},fullPrice:function(e){return{textDecoration:"line-through",fontWeight:600,color:e.prices.discounted.oldPriceColor,marginRight:e.spacing.xs}},paidPrice:function(e){return{fontWeight:600,color:e.primaryColor}}},Oi=n("autF"),yi=n("U1SZ"),mi=n("LS0c"),ji=n("0HBO"),vi=n("zOg4");function hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ki=n("XNL2"),wi=n("wXvH"),Ei=function(e,t){var n=e.name;return 1===t?n:"".concat(n," x ").concat(t)},Ii=function(e,t){return t({value:Object(ji.a)(e,{isCents:!0})})},Ai=function(e){var t=e.sku,n=e.recipeId;return e.groups.find((function(e){return e.sku===t})).addOns.find((function(e){return e.recipe.id===n}))},Ti=function(e,t){return t.quantityPerCourse.find((function(t){return t.index===e})).quantity};function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){Di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(){return(_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ni=function(){var e,t,n,r,i,o,a,c,u,l=(e=Object(Pe.useFormattedCurrency)(),t=Object(ye.o)(),n=xi(Object(Oe.useContentful)([Oe.PRICE_BREAKDOWN_PLAN]),1)[0],r=Object(N.useMealWording)(),i=Object(N.useServingWording)(),o=Object(ye.s)().menuProduct,a=rt()(t,"product.price.full"),c=rt()(o,"meals"),u=rt()(o,"servings"),{id:"product",label:Object(Pe.interpolateString)(n,{mealsSelected:c,mealWording:Object(Pe.getWordingForm)(r,c),servingsSelected:u,servingWording:Object(Pe.getWordingForm)(i,u)}),value:e({value:a})}),s=function(){var e=Object(mi.a)(),t=Object(oe.e)(),n=Object(yi.a)(),r=hi(Object(Rr.b)([Oi.e,Oi.c,Oi.b]),3),i=r[0],o=r[1],a=r[2],c=rt()(t,"additionalCharges",[]),u=function(e){var t=e.quantity,r=e.type,c={recipesAmount:t,recipeWording:Object(Pe.getWordingForm)(n,t)};switch(r){case vi.o.premium:case vi.o.premiumPlus:return Object(Pe.interpolateString)(i,c);case vi.o.modularityVariation:return Object(Pe.interpolateString)(o,c);default:return Object(Pe.interpolateString)(a,c)}};return c.map((function(t){var r=t.type,i=t.paidCents,o=t.quantity;return{id:r,label:u({quantity:o,type:r,recipeWording:n}),value:e({value:Object(ji.a)(i,{isCents:!0})})}}))}(),p=function(){var e=Object(mi.a)(),t=Object(oe.e)(),n=Object(re.d)(ki.e),r=Object(re.d)((function(e){return Object(wi.c)(e,{week:n})})),i=[];return t.addonCharges.forEach((function(t){t.charges.forEach((function(n){var o=n.entityId,a=n.amount,c=Ai({sku:t.handle,recipeId:o,groups:r}),u=Ii(a,e),l=Ti(c.index,t),s=Ei(c.recipe,l);i.push({label:s,value:u,id:o})}))})),i}(),f=s.concat(p);return Object(M.e)("div",null,Object(M.e)("h3",{css:Mi.title},"Detailed price"),Object(M.e)(Qr,l),f.map((function(e){return Object(M.e)(Qr,_i({key:e.id},e))})),Object(M.e)(Xr,null),Object(M.e)(ri,null),Object(M.e)(li,null),Object(M.e)(bi,null))},Mi={title:function(e){return Pi(Pi({},Object(Yr.d)(e)),{},Di({marginTop:0,marginBottom:e.spacing.st,color:e.priceBreakdownDrawer.title.color},D.MEDIA_BREAKPOINTS.md,{marginBottom:e.spacing.sm}))}},Bi=110,Li=n("CqoS"),Ui=function(e){return"sm"===e?24:16},Fi=function(e){var t=e.isLoading,n=e.breakpoint,r=Object(_.b)(),i=Ui(n);return t?Object(M.e)(Li.a,{color:r.priceBreakdownToggle.color,css:Wi.spinner({breakpoint:n})}):Object(M.e)(ft.InfoTipIcon,{color:"transparent",strokeColor:r.priceBreakdownToggle.color,size:i-4})};Fi.propTypes={isLoading:a.a.bool,breakpoint:a.a.string};var Ki=function(e){var t=e.onClick,n=e.isLoading,r=e.isRejected,i=e.breakpoint;return Object(M.e)("a",{role:"button","aria-label":"Open price breakdown","data-price-breakdown-toggle":!0,tabIndex:0,onClick:t,css:Wi.toggle({breakpoint:i,isLoading:n,isRejected:r})},Object(M.e)(Fi,{isLoading:n,isRejected:r,breakpoint:i,styles:Wi}))};Ki.propTypes={onClick:a.a.func.isRequired,isLoading:a.a.bool,isRejected:a.a.bool,breakpoint:a.a.string};var Wi={toggle:function(e){var t=e.breakpoint,n=e.isLoading,r=e.isRejected;return function(e){return{backgroundColor:r?e.dangerColor:e.priceBreakdownToggle.backgroundColor,borderRadius:"50%",height:"".concat(Ui(t),"px"),width:"".concat(Ui(t),"px"),display:"flex",justifyContent:"center",alignItems:"center",transition:"all 300ms ease",pointerEvents:n||r?"none":"auto",opacity:n?.7:1}}},spinner:function(e){var t=e.breakpoint;return{height:"".concat(Ui(t)-6,"px !important"),width:"".concat(Ui(t)-6,"px !important"),margin:"auto"}}},qi=Object(se.withCurrentBreakpoint)(Ki),Hi=n("pcBf"),zi=function(e){(function(e){return(e.path||e.composedPath&&e.composedPath()||[e.target]||[]).some((function(e){return!!e.hasAttribute&&e.hasAttribute("data-price-breakdown-toggle")}))})(e)&&(e.preventDefault(),e.stopPropagation())};function Vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xi=function(e){var t=e.isOpen,n=e.handleClose,i=$i(Object(r.useState)(!1),2),o=i[0],a=i[1];if(Object(r.useEffect)((function(){a(t)}),[t]),!t)return null;return Object(M.e)(N.ClickOutside,{handleClickOutside:function(e){zi(e),n()},css:Ji.container({isOpen:t}),eventTypes:["click","tap"]},Object(M.e)("div",{css:Ji.wrapper({isMounted:o})},Object(M.e)(Ni,null),Object(M.e)("button",{css:Ji.button,onClick:n,"aria-label":"close"},Object(M.e)(ft.CrossIcon,{height:16,css:Ji.buttonIcon}))))};Xi.propTypes={isOpen:a.a.bool,handleClose:a.a.func.isRequired};var Ji={container:function(e){return{position:"absolute",zIndex:120,top:"100%",left:"50%",transform:"translateX(-50%)",pointerEvents:e.isOpen?"auto":"none"}},wrapper:function(e){var t=e.isMounted;return function(e){return{position:"relative",top:10,width:360,padding:"".concat(e.spacing.sm,"px ").concat(e.spacing.md,"px ").concat(e.spacing.md,"px"),backgroundColor:"white",border:"1px solid ".concat(D.COLORS.lighterGrey),borderRadius:"3px",opacity:t?1:0,transform:t?"translateY(0px)":"translateY(40px)",transition:t?"opacity .3s, transform .5s":"opacity .3s, transform 0s .3s",":after":Gi(Gi({},D.ALIGN_CONTENT.horizontal),{},{content:'""',bottom:"calc(100% - 1px)"},Object(Hi.b)({pointingDirection:"top",width:"16px",height:"7px",foregroundColor:D.COLORS.white})),":before":Gi(Gi({},D.ALIGN_CONTENT.horizontal),{},{content:'""',bottom:"100%"},Object(Hi.b)({pointingDirection:"top",width:"16px",height:"7px",foregroundColor:D.COLORS.lighterGrey}))}}},button:function(e){return{position:"absolute",top:e.spacing.sm,right:e.spacing.md,backgroundColor:"transparent",border:"none",boxShadow:"none",outline:"none",padding:e.spacing.xs,borderRadius:"50%",transform:"translate(".concat(e.spacing.xs,"px, -2px)"),transition:"background-color .25s",cursor:"pointer",":focus":{backgroundColor:"rgba(0, 0, 0, 0.1)"},":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}},buttonIcon:{display:"block",cursor:"pointer"}},Qi=function(e){var t=e.onToggleClick,n=Object(ye.p)(),r=n.isPriceBreakdownRejected,i=n.isPriceBreakdownInitialised;return Object(M.e)(qi,{onClick:t,isLoading:!i,isRejected:r})};Qi.propTypes={onToggleClick:a.a.func.isRequired};var eo=function(e){var t=e.isOpen,n=e.handleClose,r=Object(_.b)();if(!t)return null;return Object(M.e)(N.ClickOutside,{css:to.container,handleClickOutside:function(e){zi(e),n()},eventTypes:["click","tap"]},Object(M.e)(P.f,null,Object(M.e)(P.h,{style:to.gutter(r)},Object(M.e)(Ni,null))))};eo.propTypes={isOpen:a.a.bool,handleClose:a.a.func.isRequired};var to={container:function(e){return{boxShadow:e.priceBreakdownDrawer.container.boxShadow}},gutter:function(e){return{paddingTop:e.spacing.st,paddingBottom:e.spacing.st}}},no=n("h7kv"),ro=n.n(no),io=n("rL5K"),oo=function(e){var t=e.navBarRef,n=e.navItemRef,i=e.isSelected;Object(r.useEffect)((function(){if(i&&t){var e=n.current.getBoundingClientRect(),r=e.x,o=e.width,a=t.current.getBoundingClientRect().width,c=t.current.scrollLeft;if("function"!=typeof t.current.scrollTo)return;r>a/2?t.current.scrollTo({left:r-2*o+c,behavior:"smooth"}):t.current.scrollTo({left:0,behavior:"smooth"})}}),[i,t,n])};function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=function(e){var t=e.selected,n=e.category,i=e.onClick,o=e.sliderRef,a=Object(r.useRef)();return oo({navBarRef:o,navItemRef:a,isSelected:t}),Object(M.e)("li",{css:so.listItem({selected:t}),ref:a},Object(M.e)("a",{css:so.link({selected:t}),role:"button",tabIndex:0,onClick:function(){return i(n)},onKeyPress:function(){return i(n)}},n))};lo.propTypes={selected:a.a.bool,category:a.a.string,onClick:a.a.func};var so={listItem:function(e){var t=e.selected;return function(e){return co(co({display:"inline-block",textTransform:"capitalize",textAlign:"center",whiteSpace:"nowrap",scrollSnapAlign:"start",flexGrow:1},t&&{boxShadow:"0 4px 0 0 ".concat(e.primaryColor)}),{},uo({},D.MEDIA_BREAKPOINTS.lg,co({whiteSpace:"pre-wrap",justifyContent:"flex-start",textAlign:"left",marginBottom:e.spacing.sm},t&&{boxShadow:"-3px 0 0 0 ".concat(e.primaryColor)})))}},link:function(e){var t=e.selected;return function(e){return co(co({color:e.typography.body.color,display:"inline-block",padding:"".concat(e.spacing.st,"px ").concat(e.spacing.md,"px")},t&&{color:e.typography.link.color,fontWeight:D.FONT_WEIGHT.bold,padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.md,"px")}),{},uo({},D.MEDIA_BREAKPOINTS.lg,{padding:"0 ".concat(e.spacing.xs,"px")}))}}};function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var go="data-course-category",Oo=function(e){var t=e.value,n=e.categories,i=Object(r.useRef)(),o=fo(Object(r.useState)(t||n[0]),2),a=o[0],c=o[1],u=function(e){if(e!==a){var t=document.querySelector("[".concat(go,"='").concat(e,"']"));t&&Object(io.a)(t.offsetTop-150)}};return Object(r.useEffect)((function(){var e,t=ro()((function(){(e=n.find((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!e)return!1;var n=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(n.bottom-t<0||n.top-r>=0)}(document.querySelector("[".concat(go,"='").concat(e,"']")),300)})))&&c(e)}),500);return document.addEventListener("scroll",t,!0),function(){return document.removeEventListener("scroll",t)}}),[]),ai()(n)?null:Object(M.e)("div",{css:yo.categories},Object(M.e)("ul",{css:yo.list,"data-test-id":"course-categories",ref:i},n.map((function(e,t){var n=e===a;return Object(M.e)(lo,{key:t,sliderRef:i,category:e,selected:n,onClick:u})}))))};Oo.propTypes={value:a.a.bool,categories:a.a.arrayOf(a.a.string)};var yo={categories:function(e){return po({width:"100%",flex:1,boxShadow:e.menuHeader.isSticky.boxShadow},D.MEDIA_BREAKPOINTS.lg,{marginRight:e.spacing.lg,boxShadow:"none",minWidth:"20%"})},list:po({padding:0,margin:0,display:"flex",alignItems:"center",scrollSnapType:"x mandatory",overflow:"auto","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},D.MEDIA_BREAKPOINTS.lg,{alignItems:"initial",overflow:"initial",flexDirection:"column",position:"fixed",maxWidth:200})};function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){So(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ko=function(){var e=function(){var e=Object(ye.s)(),t=e.chosenCoursesCount,n=e.menuProduct,r=Object(N.useServingWording)(),i=Object(N.useMealWording)(),o=mo(Object(Oe.useContentful)([Oe.EDIT_MENU_HEADER_COUNTER_MEALS_ALLOWED,Oe.EDIT_MENU_HEADER_COUNTER_MEALS_SELECTED,Oe.EDIT_MENU_HEADER_COUNTER_SERVINGS_SELECTED]),3),a=o[0],c=o[1],u=o[2];if(ai()(n))return null;if(!t){var l=rt()(n,"meals");return Object(Pe.interpolateString)(a,{mealsAllowedAmount:l,mealWording:Object(Pe.getWordingForm)(i,l)})}var s=t*rt()(n,"size"),p=Object(Pe.interpolateString)(c,{mealsSelectedAmount:t,mealWording:Object(Pe.getWordingForm)(i,t)}),f=Object(Pe.interpolateString)(u,{servingsSelectedAmount:s,servingWording:Object(Pe.getWordingForm)(r,s)});return"".concat(p," ").concat(f)}();return e?Object(M.e)("div",{"data-meal-unselected-count":!0,css:wo.counter},e):null},wo={counter:function(e){return So({whiteSpace:"nowrap",fontSize:e.typography.small.fontSize.sm,"@media only screen and (min-width: 375px)":{fontSize:e.typography.h5.fontSize.sm}},D.MEDIA_BREAKPOINTS.md,ho(ho({},Object(P.v)(e)),{},{fontWeight:"bold",marginBottom:e.spacing.xxs}))}},Eo=function(){var e=Object(R.b)().week,t=Object(x.J)({week:e}),n=Object(g.clearTimeZone)(Object(x.f)(t));return Object(g.formatDate)(n,u.FORMAT_DELIVERY)};function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){To(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xo=function(){var e=Eo();return Object(M.e)("div",{css:Co.deliveryDate},e)},Co={deliveryDate:function(e){return Ao(Ao({},Object(P.t)(e)),{},To({flex:"1 0 0",textAlign:"center",fontWeight:"bold",whiteSpace:"nowrap"},D.MEDIA_BREAKPOINTS.md,Ao(Ao({},Object(P.x)(e)),{},{flexGrow:0,textAlign:"left",textTransform:"none"})))}},Ro=n("sdz3");function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Do(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _o=function(){var e=Object(_.b)(),t=Po(Object(Oe.useContentful)([Oe.EDIT_MENU_NOTIFICATION_SAVE_ERROR]),1)[0],n=Object(ye.s)(),i=n.isSaveRejected,o=n.menuSaveError,a=Object(R.b)().week,c=Object(p.gb)().subscriptionId,u=Object(He.useTracking)({trackErrorNotification:He.trackErrorNotification}),l=Po(Object(r.useState)(i),2),s=l[0],f=l[1];return Object(r.useEffect)((function(){if(f(i),i){var e={subscriptionId:c,week:a,data:rt()(o,["config","data"]),response:rt()(o,["response","data"])};Ro.Sentry.captureMessage("Save meal swap fail",e),u.trackErrorNotification({subscriptionId:c,hf_week:a})}}),[i]),s&&t?Object(M.e)("div",{css:No.container},Object(M.e)(P.f,null,Object(M.e)(P.h,{style:No.gutter(e)},Object(M.e)("strong",null,t),Object(M.e)(ft.CrossIcon,{width:14,height:14,onClick:function(){return f(!1)},color:"currentColor"})))):null},No={container:function(e){return{backgroundColor:e.notification.types.error.backgroundColor,color:e.typography.body.color}},gutter:function(e){return{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center","& strong":{flexGrow:1}}}},Mo=n("1W3t");function Bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ko=function(){var e=Object(_.b)(),t=function(){var e=Bo(Object(Oe.useContentful)([Oe.EDIT_MENU_NOTIFICATION_MIN_REACHED,Oe.EDIT_MENU_NOTIFICATION_MAX_REACHED]),2),t=e[0],n=e[1],r=Object(ye.s)(),i=r.chosenCoursesCount,o=r.isMinCapacityReached,a=r.isMaxCapacityReached;if(i){if(a)return n;if(o)return t}return null}(),n=Uo(Object(r.useState)(Boolean(t)),2),i=n[0],o=n[1];return Object(r.useEffect)((function(){o(Boolean(t))}),[t]),Object(r.useEffect)((function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=Mo.ClientSniffer.OS===Mo.OS_TYPE.iOS;(0===e||t)&&(document.documentElement.scrollTop=e+(i?40:-40))}),[i]),i&&t?Object(M.e)("div",{css:Wo.container},Object(M.e)(P.f,null,Object(M.e)(P.h,{style:Wo.gutter(e)},Object(M.e)("div",{css:Wo.wrapper},Object(M.e)("strong",null,t),Object(M.e)(ft.CrossIcon,{width:14,height:14,onClick:function(){return o(!1)}}))))):null},Wo={container:function(e){return e.notification.types.warning},gutter:function(e){return{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs,minHeight:40}},wrapper:function(e){return{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",position:"relative",fontSize:e.typography.h5.fontSize.sm,"@media only screen and (min-width: 375px)":{fontSize:e.typography.body.fontSize.sm},"& strong":{flexGrow:1}}}},qo=function(e){var t=e.className,n=e.inBreakDown,r=Object(ye.q)(),i=r.totalPaidPrice,o=r.totalFullPrice,a=r.isDiscounted,c=Object(Pe.useFormattedCurrency)();return Object(M.e)("div",{className:t},!!a&&Object(M.e)("span",{"data-week-total-original":!0,css:Ho.fullPrice},c({value:o})),Object(M.e)("span",{"data-week-total-actual":!0,css:Ho.paidPrice({inBreakDown:n})},isFinite(i)&&c({value:i})))};qo.propTypes={className:a.a.string,inBreakDown:a.a.bool};var Ho={fullPrice:function(e){return{textDecoration:"line-through",fontWeight:600,color:e.prices.discounted.oldPriceColor,marginRight:e.spacing.xs}},paidPrice:function(e){var t=e.inBreakDown;return function(e){return{fontWeight:600,color:t?e.primaryColor:"inherit"}}}},zo=function(){var e=Object(R.b)().week,t=Object(ce.a)({week:e}).menu,n=Object(ye.s)(),i=n.startEditingMenu,o=n.setInEditMode,a=Object(p.gb)().subscriptionId,c=Object(He.useTracking)({trackCancelMealChoice:He.trackCancelMealChoice}),u=rt()(t,"id");return{onCancel:Object(r.useCallback)((function(){c.trackCancelMealChoice({hfWeek:e,subscriptionId:a}),i({week:e,menuId:u}),o(!1)}),[e,a,u])}};function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){Yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xo=function(){var e=$o(Object(Oe.useContentful)([Oe.EDIT_MENU_HEADER_CTA_CANCEL]),1)[0],t=Object(fe.j)(),n=t.categories,r=t.isEnabled,o=Object(oe.d)(n),a=le(o,n),c=Gr(),u=c.isOpen,l=c.openBreakdown,s=c.closeBreakdown,p=zo().onCancel;return Object(M.e)(i.a.Fragment,null,Object(M.e)("header",{css:Jo.header},Object(M.e)(P.f,{style:Jo.container},Object(M.e)(P.h,null,Object(M.e)("div",{css:Jo.top},Object(M.e)(Hr.Link,{css:Jo.link,onClick:p,"data-meal-select-cancel":!0},Object(M.e)("strong",null,e)),Object(M.e)(xo,null),Object(M.e)("div",{css:Jo.toggle},Object(M.e)(Qi,{onToggleClick:l}))),!u&&Object(M.e)("div",{css:Jo.bottom},Object(M.e)(ko,null),Object(M.e)(qo,{css:Jo.priceTotal({isBreakdownOpen:u})})))),Object(M.e)(eo,{isOpen:u,handleClose:s}),!u&&r&&Object(M.e)(Oo,{categories:a}),Object(M.e)(_o,null),Object(M.e)(Ko,null)),u&&Object(M.e)("div",{css:Jo.breakdownOverlay}))},Jo={header:function(e){return{position:["relative","sticky"],zIndex:Bi,top:0,backgroundColor:e.menuHeader.isSticky.backgroundColor,boxShadow:e.menuHeader.isSticky.boxShadow}},container:{zIndex:Bi},top:function(e){return{display:"flex",alignItems:"center",paddingTop:e.spacing.sm,paddingBottom:e.spacing.sm}},link:function(e){return Go(Go({},Object(P.u)(e)),{},{flex:"1 0 0"})},toggle:{flex:"1 0 0",display:"flex",justifyContent:"flex-end"},bottom:function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:e.spacing.xxs}},priceTotal:function(e){var t=e.isBreakdownOpen;return function(e){return{fontSize:e.typography.h5.fontSize.sm,opacity:t?0:1,transition:"all 250ms ease",transform:t?"translateY(10px)":"translateY(0)"}}},breakdownOverlay:function(e){return{position:"fixed",zIndex:104,top:50,bottom:72,left:0,right:0,background:e.overlay.backgroundColor}}};function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var na,ra=function(){var e=Object(_.b)(),t=Gr(),n=t.isOpen,r=t.openBreakdown,i=t.closeBreakdown,o=ea(Object(Oe.useContentful)([Oe.EDIT_MENU_HEADER_CTA_CANCEL,Oe.EDIT_MENU_HEADER_CTA_SAVE]),2),a=o[0],c=o[1],u=Object(ye.s)(),l=u.isSavePending,s=u.isValidToSave,p=u.saveEditingMenu,f=zo().onCancel,d=Object(fe.j)(),b=d.categories,g=d.isEnabled,O=Object(ye.n)(b),y=le(O,b),m="md"===Object(se.useCurrentBreakpoint)();return Object(M.e)("header",{css:ia.container},Object(M.e)(P.f,null,Object(M.e)(P.h,{style:ia.wrapper(e)},Object(M.e)("div",{css:ia.deliveryInfo},Object(M.e)(ft.DeliveryScheduledTruckIcon,{css:ia.deliveryInfoIcon}),Object(M.e)(xo,null)),Object(M.e)("div",{css:ia.menuInfo},Object(M.e)("div",{css:ia.counter},Object(M.e)(ko,null)),Object(M.e)("div",{css:ia.priceContainer},Object(M.e)(qo,null),Object(M.e)("div",{css:ia.toggleContainer},Object(M.e)(Qi,{onToggleClick:r}),Object(M.e)(Xi,{isOpen:n,handleClose:i})))),Object(M.e)("div",{css:ia.actions},Object(M.e)(P.c,{"data-meal-select-cancel":!0,kind:D.BUTTON_TYPE.ghost,size:m?P.a.small:P.a.large,css:ia.cancel,onClick:f},a),Object(M.e)(P.c,{"data-meal-select-submit":!0,size:m?P.a.small:P.a.large,css:ia.save,disabled:!s,onClick:p,isLoading:l},c)))),m&&g&&Object(M.e)(Oo,{categories:y}),Object(M.e)(_o,null),Object(M.e)(Ko,null))},ia={container:function(e){return{position:["relative","sticky"],zIndex:Bi,top:0,backgroundColor:e.menuHeader.isSticky.backgroundColor,boxShadow:e.menuHeader.isSticky.boxShadow}},wrapper:function(e){return Qo({display:"flex",alignItems:"center",paddingTop:e.spacing.st,paddingBottom:e.spacing.st},D.MEDIA_BREAKPOINTS.lg,{paddingTop:e.spacing.sm,paddingBottom:e.spacing.sm})},deliveryInfo:{flex:"1 0 0",display:"flex",alignItems:"center"},deliveryInfoIcon:function(e){return{marginRight:e.spacing.xs}},menuInfo:{flex:"1 0 0"},counter:{display:"flex",justifyContent:"center"},priceContainer:{display:"flex",alignItems:"center",justifyContent:"center"},toggleContainer:function(e){return{position:"relative",marginLeft:e.spacing.xs}},actions:{flex:"1 0 0",whiteSpace:"nowrap",display:"flex",justifyContent:"flex-end"},cancel:function(e){return Qo({marginRight:e.spacing.xs,textTransform:"none"},D.MEDIA_BREAKPOINTS.lg,{marginRight:e.spacing.md})},save:{textTransform:"none"}},oa=function(){return"sm"===Object(se.useCurrentBreakpoint)()?Object(M.e)(Xo,null):Object(M.e)(ra,null)},aa=function(e){var t=e.isInEditMode,n=e.week,r=e.isActive,i=e.hasDelivery;return r||i?t?Object(M.e)(oa,null):Object(M.e)(Cr,null):Object(M.e)(Mr,{week:n})};function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aa.propTypes={isInEditMode:a.a.bool,week:a.a.string,isActive:a.a.bool,hasDelivery:a.a.bool};var ua=function(e){var t=e.children,n=e.className;return Object(M.e)(P.f,{css:sa.container,className:n},Object(M.e)(P.h,null,Object(M.e)(P.g,null,t.map((function(e,t){return Object(M.e)(P.d,{key:t,style:sa.cardCell},e)})))))};ua.propTypes={className:a.a.string,children:a.a.oneOfType([a.a.arrayOf(a.a.node),a.a.node]),renderBreak:a.a.func},ua.defaultProps={renderBreak:function(){return null}};var la,sa={container:{padding:"0 !important"},cardCell:(na={width:"100%",flex:"0 0 100%"},ca(na,D.MEDIA_BREAKPOINTS.md,{width:"50%",flex:"0 0 50%",alignItems:"stretch"}),ca(na,D.MEDIA_BREAKPOINTS.lg,{width:"33.33%",flex:"0 0 33.33%"}),na)},pa=ua,fa=n("qOoS"),da=function(){var e=Object(Ut.F)(),t=e.isEnabled,n=e.surveyId,r=e.containerId;return t?Object(M.e)(fa.UsabillaSurvey,{surveyId:n,containerId:r}):null},ba=function(e){var t=e.image;return Object(M.e)("img",{src:t.url,alt:t.title||""})};function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ba.propTypes={image:a.a.shape({url:a.a.string.isRequired,title:a.a.string}).isRequired};var ma=function(e){var t=e.content,n=t.title,r=t.text,i=t.imageSm,o=t.imageMdLeft,a=t.imageMdRight,c=t.imageLgLeft,u=t.imageLgRight,l=e.onClose,s=Object(_.b)(),p=Object(se.useCurrentBreakpoint)(),f="sm"===p,d="md"===p,b="lg"===p;return Object(M.e)(P.f,{style:va.container(s)},Object(M.e)(P.h,null,Object(M.e)("div",{css:va.wrapper},Object(M.e)("div",{css:Object($t.a)([va.image,va.imageLeft],"")},f&&Object(M.e)(ba,{image:i}),d&&Object(M.e)(ba,{image:o}),b&&Object(M.e)(ba,{image:c})),Object(M.e)("div",{css:va.content},Object(M.e)("h5",{css:va.contentTitle},n),Object(M.e)("p",{css:va.contentText},r)),Object(M.e)("div",{css:Object($t.a)([va.image,va.imageRight],"")},d&&Object(M.e)(ba,{image:a}),b&&Object(M.e)(ba,{image:u})),Object(M.e)("button",{onClick:l,css:va.closeButton},Object(M.e)(ft.CrossIconFat,{height:24,width:24})))))},ja=a.a.shape({url:a.a.string.isRequired,title:a.a.string});ma.propTypes={content:a.a.shape({title:a.a.string.isRequired,text:a.a.string.isRequired,imageSm:ja.isRequired,imageMdLeft:ja.isRequired,imageMdRight:ja.isRequired,imageLgLeft:ja.isRequired,imageLgRight:ja.isRequired}).isRequired,onClose:a.a.func};var va={container:function(e){return{marginTop:e.spacing.sm}},wrapper:function(e){return{position:"relative",display:"flex",borderRadius:e.promoBanner.borderRadius,backgroundColor:e.promoBanner.backgroundColor,overflow:"hidden"}},image:(la={flex:"0 0 80px",img:{display:"block",width:"100%",height:"auto"}},ya(la,D.MEDIA_BREAKPOINTS.md,{flex:"0 0 176px"}),ya(la,D.MEDIA_BREAKPOINTS.lg,{flex:"0 0 392px"}),la),imageLeft:{},imageRight:ya({display:"none"},D.MEDIA_BREAKPOINTS.md,{display:"block"}),content:function(e){return ya({flex:"1 1 auto",padding:e.spacing.xs,display:"flex",flexDirection:"column",justifyContent:"center"},D.MEDIA_BREAKPOINTS.md,{paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,textAlign:"center"})},contentTitle:function(e){return ya({marginTop:0,marginBottom:e.spacing.xxs},D.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.xs})},contentText:function(e){return Oa(Oa({},Object(P.w)(e)),{},{marginBottom:0})},closeButton:function(e){return ya({border:"none",boxShadow:"none",background:"none",lineHeight:"24px",padding:0,position:"absolute",right:e.spacing.xs,top:e.spacing.xs,svg:{display:"block",cursor:"inherit"}},D.MEDIA_BREAKPOINTS.lg,{right:e.spacing.st,top:e.spacing.st,cursor:"pointer",transition:"opacity .15s",":hover":{opacity:.5}})}};function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ka=function(e){var t=ha(Object(N.useLocalStorageExpire)(function(e){return"".concat(u.LOCAL_STORAGE_PROMO_BANNER_PROTEIN,".").concat(e)}(e),864e5),2),n=t[0],r=t[1];return{isClosed:!0===n,onClose:function(){return r(!0)}}};function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ea(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ia=function(e,t){var n=Object(R.b)().week,r=function(e){var t=wa(Object(Oe.useContentful)(e),7);return{title:t[0],text:t[1],imageSm:t[2],imageMdLeft:t[3],imageMdRight:t[4],imageLgLeft:t[5],imageLgRight:t[6]}}(t),i=ka(e),o=i.isClosed,a=i.onClose,c=Object(Fe.B)(e).weeks,u=Boolean(rt()(r,"title"))&&Boolean(rt()(r,"imageSm.url"))&&Boolean(rt()(r,"imageMdLeft.url"))&&Boolean(rt()(r,"imageMdRight.url"))&&Boolean(rt()(r,"imageLgLeft.url"))&&Boolean(rt()(r,"imageLgRight.url")),l=!ai()(c)&&c.includes(n);return{shouldShow:u&&l&&!o,content:r,onClose:a}},Aa=function(){var e=Ia("protein",Oe.PROMO_BANNER_PROTEIN),t=e.shouldShow,n=e.content,r=e.onClose;return t?Object(M.e)(ma,{content:n,onClose:r}):null},Ta=n("06tH"),xa=n.n(Ta),Ca=n("7F61");function Ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Da;function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na=function(e){var t=e.closeBanner,n=Object(Oe.useContentfulLegacy)((function(){return{title:u.CONTENT_SIDE_SWAP_BANNER_TITLE,subTitle:u.CONTENT_SIDE_SWAP_BANNER_SUBTITLE}})).entries,r=n.title,o=n.subTitle,a=Object(He.useTracking)({trackSideSwapOnboardingImpression:He.trackSideSwapOnboardingImpression});return i.a.useEffect((function(){a.trackSideSwapOnboardingImpression()}),[]),Object(M.e)($.Container,{css:Ua.container},Object(M.e)(P.i,{css:Ua.panel},Object(M.e)("div",{css:Ua.textBox},Object(M.e)("h2",{css:Ua.title},r.getField("value")),Object(M.e)("p",null,o.getField("value"))),Object(M.e)("button",{css:Ua.closeButton,onClick:t,"data-test-close-banner":!0},Object(M.e)(ft.CrossIconFat,{css:Ua.icon}))))};Na.propTypes={closeBanner:a.a.func.isRequired};var Ma={url:"https://cdn.everyplate.com/er/side-swap/app-banner.svg",height:120},Ba={url:"https://cdn.everyplate.com/er/side-swap/tablet-banner.svg",height:130},La={url:"https://cdn.everyplate.com/er/side-swap/desktop.svg",height:130},Ua={container:function(e){return{marginTop:e.spacing.sm,marginBottom:e.spacing.sm}},panel:function(e){var t;return _a(t={flexDirection:"row",justifyContent:"space-between",position:"relative",backgroundRepeat:"no-repeat",backgroundPosition:"right bottom",backgroundColor:e.sideSwap.onboarding.backgroung},D.MEDIA_BREAKPOINTS.only("sm"),{minHeight:Ba.height,backgroundImage:"url(".concat(Ma.url,")"),backgroundSize:"auto ".concat(Ma.height,"px")}),_a(t,D.MEDIA_BREAKPOINTS.only("md"),{height:Ba.height,backgroundImage:"url(".concat(Ba.url,")"),backgroundSize:"auto ".concat(Ba.height,"px")}),_a(t,D.MEDIA_BREAKPOINTS.only("lg"),{height:Ba.height,backgroundImage:"url(".concat(La.url,")"),backgroundSize:"auto ".concat(La.height,"px")}),t},textBox:(Da={marginRight:"75px"},_a(Da,D.MEDIA_BREAKPOINTS.only("md"),{marginRight:"400px"}),_a(Da,D.MEDIA_BREAKPOINTS.only("lg"),{marginRight:"600px"}),Da),title:{margin:0,textTransform:"none"},closeButton:function(e){return{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,width:"24px",height:"24px",padding:0,background:"transparent",border:"none",":focus":{outline:"none"}}},icon:{cursor:"pointer"}},Fa=function(e){var t=e.delivery,n=e.showSideSwapBanner,i=e.closeBanner;return Object(M.e)(r.Fragment,null,t&&Object(M.e)(Kr,null),n&&Object(M.e)(Na,{closeBanner:i}))};Fa.propTypes={delivery:a.a.object,showSideSwapBanner:a.a.bool,closeBanner:a.a.func};var Ka=function(e){var t=e.children,n=e.categories,r=e.showCategoriesBar;return Object(M.e)(P.f,{css:Wa.container},Object(M.e)(P.h,null,Object(M.e)("div",{css:Wa.wrapper},r&&Object(M.e)(Oo,{categories:n}),Object(M.e)("section",null,n.map((function(e,n){return Object(M.e)("section",{"data-course-category":e,key:n},Object(M.e)("h3",null,e),Object(M.e)(P.g,null,t({category:e})))}))))))};Ka.propTypes={categories:a.a.arrayOf(a.a.string),showCategoriesBar:a.a.bool,children:a.a.func.isRequired};var Wa={container:{padding:"0 !important","& h3":{textTransform:"capitalize"}},wrapper:{display:"flex"}};function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Va(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ya=function(){var e,t,n,i=Object(R.b)().week,o=Object(x.J)({week:i}),a=Object(p.gb)().isActive,c=function(e){var t=Object(Ca.useEPStore)().state,n=Ra(Object(r.useState)(!1),2),i=n[0],o=n[1],a=Object(He.useTracking)({trackSideSwapOnboardingClose:He.trackSideSwapOnboardingClose});return Object(r.useEffect)((function(){o(!xa.a.get(u.COOKIE_SIDE_SWAP_ONBOARDING_SHOWED)&&!(Object(p.S)(t)||!Object(Ut.j)(t))&&Object(Ut.E)(t).includes(e))}),[e]),{shouldDisplay:i,closeBanner:function(){xa.a.set(u.COOKIE_SIDE_SWAP_ONBOARDING_SHOWED,"true",{expires:.5}),o(!1),a.trackSideSwapOnboardingClose()}}}(i),l=c.shouldDisplay,s=c.closeBanner,f=Object(se.useCurrentBreakpoint)(),d=Object(oe.c)(),b=d.chosenCourses,g=void 0===b?[]:b,O=d.unChosenCourses,y=void 0===O?[]:O,m=Object(fe.j)(),j=m.categories,v=m.isEnabled,h=Object(oe.d)(j),S=le(h,j),k=Object(oe.i)(),w=k.isInEditMode,E=k.week,I=function(e){var t=e.week;return Object(re.d)((function(e){return!Object(pe.c)(e,{week:t})}))}({week:i}),A="sm"===f,T="lg"===f;e=qa(Object(Oe.useContentful)([Oe.EDIT_MENU_NOTIFICATION_SAVE_SUCCESS]),1)[0],t=Object(Ht.e)().addNotification,n=Object(ye.s)().isSaveFulfilled,Object(r.useEffect)((function(){n&&t({type:"success",id:"mealswap.complete",render:e})}),[n]);var C=Object(x.t)(o)&&!Object(x.p)(o)&&a,D=C?de.EditRecipeCard:de.ViewRecipeCard,_=C?de.EditAddOnCard:de.ViewAddOnCard,N=function(){var e=Object(R.b)().week,t=Object(ye.t)(),n=Object(re.d)(Object(wi.e)(e)),r=!ai()(n),i=Object(re.d)(Fe.j);return r&&!t&&i?n:[]}();if(I||i!==E)return Object(M.e)(r.Fragment,null,Object(M.e)(z,null),Object(M.e)(te,{isMenuExpanded:!0}));var B=g.map((function(e){return Object(M.e)(D,{key:e,courseIndex:e,week:i,delivery:o})})),L=N.reduce((function(e,t){var n=t.addOns.map((function(e){return Object(M.e)(_,{key:e.recipe.id,"aria-label":"selected add-on",addOn:e,addOnGroup:t.groupType,week:i})}));return e.push.apply(e,Va(n)),e}),[]);return Object(M.e)("div",null,Object(M.e)(aa,{hasDelivery:!!o,isInEditMode:w,week:i,isActive:a}),!w&&Object(M.e)(Aa,null),Object(M.e)("div",{css:$a.menuWrapper},w&&v?Object(M.e)(Ka,{categories:S,showCategoriesBar:T},(function(e){var t=e.category;return h[t].map((function(e,t){return Object(M.e)(P.d,{style:$a.cardCell,key:t},Object(M.e)(D,{key:t,courseIndex:e,week:i,delivery:o}))}))})):Object(M.e)(r.Fragment,null,Object(M.e)(pa,null,[].concat(Va(B),Va(L))),Object(M.e)(Fa,{delivery:o,closeBanner:s,hasCutoffPassed:!1,showSideSwapBanner:l}),Object(M.e)(pa,null,y.map((function(e){return Object(M.e)(D,{key:e,courseIndex:e,week:i,delivery:o})}))))),Object(x.t)(o)&&Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)("div",{css:$a.survey},Object(M.e)(da,null)))),w&&A&&Object(M.e)(ke,null))},$a={menuWrapper:function(e){var t;return za(t={overflow:"hidden",paddingTop:e.spacing.sm,paddingBottom:e.spacing.sm},D.MEDIA_BREAKPOINTS.md,{flexWrap:"nowrap",paddingTop:e.spacing.md,paddingBottom:e.spacing.md}),za(t,D.MEDIA_BREAKPOINTS.lg,{paddingTop:e.spacing.lg,paddingBottom:e.spacing.lg}),t},survey:function(e){var t;return za(t={backgroundColor:"white",boxShadow:e.card.light.boxShadow,borderRadius:e.borderRadius.sm,padding:e.spacing.sm},D.MEDIA_BREAKPOINTS.md,{marginBottom:e.spacing.xs}),za(t,D.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.lg}),t},cardCell:za({width:"100%",flex:"0 0 100%"},D.MEDIA_BREAKPOINTS.md,{width:"33.33%",flex:"0 0 33.33%",display:"flex",alignItems:"stretch"})};var Za=function(e){var t=e.breakpoint,n=e.linkIOS,i=e.linkAndroid,o=e.isIOS,a=e.isAndroid,c=e.onClickAndroid,u=e.onClickIOS;if("sm"!==t)return null;var l=o||a,s=o?n:i,p=o?u:c;return Object(M.e)("div",{css:ec.buttons},l?Object(M.e)(P.c,{element:"a",key:"button-single","data-button-install-single":!0,fullWidth:!0,kind:D.BUTTON_TYPE.secondary,size:D.BUTTON_SIZE.large_extended,onClick:p,href:s},"Install"):Object(M.e)(r.Fragment,null,Object(M.e)(P.c,{element:"a",key:"button-ios","data-button-install-ios":!0,fullWidth:!0,kind:D.BUTTON_TYPE.secondary,size:D.BUTTON_SIZE.large_extended,css:ec.buttonFirst,onClick:u,href:n},"iOS App"),Object(M.e)(P.c,{element:"a",key:"button-android","data-button-install-android":!0,fullWidth:!0,kind:D.BUTTON_TYPE.secondary,size:D.BUTTON_SIZE.large_extended,onClick:c,href:i},"Android App")))};Za.propTypes={breakpoint:a.a.string,linkIOS:a.a.string,linkAndroid:a.a.string,isIOS:a.a.bool,isAndroid:a.a.bool,onClickAndroid:a.a.func,onClickIOS:a.a.func};var Xa,Ja,Qa,ec={buttons:(Xa={textAlign:"center",display:"flex",flexDirection:"column",alignItems:"stretch"},Ja=D.MEDIA_BREAKPOINTS.md,Qa={display:"none"},Ja in Xa?Object.defineProperty(Xa,Ja,{value:Qa,enumerable:!0,configurable:!0,writable:!0}):Xa[Ja]=Qa,Xa),buttonFirst:{marginBottom:"10px !important"}},tc=Za,nc=n("10gN"),rc=n("+kwD");function ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ac,cc={animation:{flex:"0 0 auto",height:"120px",width:"120px"}},uc=function(){var e=ic(Object(r.useState)(null),2),t=e[0],n=e[1],i=ic(Object(r.useState)(null),2),o=i[0],a=i[1],c=ic(Object(r.useState)(null),2),u=c[0],l=c[1],s=ic(Object(r.useState)(!0),2),p=s[0],f=s[1],d=function(e){var t=ic(Object(r.useState)(null),2),n=t[0],i=t[1],o=Object(r.useCallback)((function(){return Object(nc.a)({fileName:e}).then(i)}),[e,i]);return Object(r.useEffect)((function(){o().catch((function(){return o()}))}),[o]),{animationData:n}}(Object(Ut.J)("appCommunication.animationFileName")).animationData,b=function(e){var t=e.element,n=e.listen,i=ic(Object(r.useState)(null),2),o=i[0],a=i[1],c=ic(Object(r.useState)(!1),2),u=c[0],l=c[1],s=function(e){l(e.some((function(e){return e.intersectionRatio>0})))};return Object(r.useEffect)((function(){if(!o&&n&&t){var e=new IntersectionObserver(s);e.observe(t),a(e)}return o&&!n&&(o.disconnect(),a(null)),function(){o&&o.disconnect()}}),[t,n,o]),u}({element:t,listen:!0});return Object(r.useEffect)((function(){b&&!o&&a(Date.now()),b||(f(!1),l(Date.now())),b&&f(!0)}),[b,o]),Object(M.e)(rc.a,{animationData:d,autoload:!1,autoplay:!1,loop:!1,isPlaying:p,loadAnimation:o,resetAnimation:u,onContainerElementSet:n,css:cc.animation})};function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sc=function(e){var t=e.breakpoint,n=e.textDesktop,r=e.textMobile,i=e.linkIOS,o=e.linkAndroid,a=e.onClickAndroid,c=e.onClickIOS,u="sm"!==t,l="sm"===t?r:n;return Object(M.e)("div",{css:fc.text},l,u&&Object(M.e)("span",{"data-testid":"app-com-banner-text-links"}," for ",Object(M.e)("a",{"data-link-install-android":!0,href:o,onClick:a},"Android")," and ",Object(M.e)("a",{"data-link-install-ios":!0,href:i,onClick:c},"iOS")))};sc.propTypes={breakpoint:a.a.string,textDesktop:a.a.string,textMobile:a.a.string,linkIOS:a.a.string,linkAndroid:a.a.string,onClickAndroid:a.a.func,onClickIOS:a.a.func};var pc,fc={text:(ac={marginBottom:"20px",textAlign:"center"},lc(ac,D.MEDIA_BREAKPOINTS.md,{marginBottom:0,textAlign:"left"}),lc(ac,D.MEDIA_BREAKPOINTS.lg,{flex:"1 1 auto",marginBottom:0}),ac)},dc=sc;function bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gc=function(e){var t=e.breakpoint,n=e.titleDesktop,r=e.titleMobile,i="sm"===t?r:n;return Object(M.e)("h1",{css:mc.title},i)};gc.propTypes={breakpoint:a.a.string,titleDesktop:a.a.string,titleMobile:a.a.string};var Oc,yc,mc={title:(pc={marginTop:0,marginBottom:"10px",textAlign:"center"},bc(pc,D.MEDIA_BREAKPOINTS.md,{marginBottom:0,textAlign:"left"}),bc(pc,D.MEDIA_BREAKPOINTS.lg,{flex:"0 0 410px",marginBottom:0,marginRight:"30px"}),pc)},jc=gc;function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hc=function(e){var t=e.breakpoint,n=e.titleDesktop,r=e.titleMobile,i=e.textDesktop,o=e.textMobile,a=e.linkIOS,c=e.linkAndroid,u=e.isIOS,l=e.isAndroid,s=e.onClickAndroid,p=e.onClickIOS;return Object(M.e)(P.f,{style:Sc.container},Object(M.e)(P.h,null,Object(M.e)(P.i,{css:Sc.card},Object(M.e)("div",{css:Sc.box},Object(M.e)(uc,null),Object(M.e)("div",{css:Sc.textContainer},Object(M.e)(jc,{breakpoint:t,titleDesktop:n,titleMobile:r}),Object(M.e)(dc,{breakpoint:t,textDesktop:i,textMobile:o,linkIOS:a,linkAndroid:c,onClickAndroid:s,onClickIOS:p}),Object(M.e)(tc,{breakpoint:t,linkIOS:a,linkAndroid:c,isIOS:u,isAndroid:l,onClickAndroid:s,onClickIOS:p}))))))};hc.propTypes={breakpoint:a.a.string,titleDesktop:a.a.string.isRequired,titleMobile:a.a.string.isRequired,textDesktop:a.a.string.isRequired,textMobile:a.a.string.isRequired,linkIOS:a.a.string.isRequired,linkAndroid:a.a.string.isRequired,isIOS:a.a.bool,isAndroid:a.a.bool,onClickAndroid:a.a.func,onClickIOS:a.a.func};var Sc={container:{marginTop:"15px"},card:(Oc={padding:"0 15px"},vc(Oc,D.MEDIA_BREAKPOINTS.sm,{padding:"20px 15px 20px"}),vc(Oc,D.MEDIA_BREAKPOINTS.md,{padding:"0 50px 0 35px"}),Oc),box:vc({display:"flex",flexDirection:"column",maxWidth:"260px",margin:"0 auto",alignItems:"center"},D.MEDIA_BREAKPOINTS.md,{maxWidth:"none",flexDirection:"row"}),textContainer:(yc={display:"flex",flexDirection:"column",alignSelf:"center"},vc(yc,D.MEDIA_BREAKPOINTS.md,{padding:"20px 0 20px"}),vc(yc,D.MEDIA_BREAKPOINTS.lg,{padding:"30px 0 30px",flexDirection:"row",alignItems:"center"}),yc)},kc=Object(se.withCurrentBreakpoint)(hc);function wc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ic=function(){var e=wc(Object(Oe.useContentful)([Oe.APP_COMMUNICATION_BANNER_TITLE_DESKTOP,Oe.APP_COMMUNICATION_BANNER_TITLE_MOBILE,Oe.APP_COMMUNICATION_BANNER_TEXT_DESKTOP,Oe.APP_COMMUNICATION_BANNER_TEXT_MOBILE]),4),t=e[0],n=e[1],r=e[2],i=e[3],o=Object(Fe.x)(),a=o.appStoreMobileLink,c=o.appStoreWebLink,u=o.playMarketMobileLink,l=o.playMarketWebLink,s=Object(He.useTracking)({trackAppComBannerAndroid:He.trackAppComBannerAndroid,trackAppComBannerIOS:He.trackAppComBannerIOS}),p=Mo.ClientSniffer.isIOS(),f=Mo.ClientSniffer.isAndroid(),d=p?a:c,b=f?u:l,g=s.trackAppComBannerAndroid,O=s.trackAppComBannerIOS;return Object(M.e)(kc,{titleDesktop:t,titleMobile:n,textDesktop:r,textMobile:i,linkIOS:d,linkAndroid:b,isIOS:p,isAndroid:f,onClickAndroid:g,onClickIOS:O})};Ic.propTypes={isIOS:a.a.bool,isAndroid:a.a.bool};var Ac,Tc=n("UqhU"),xc=function(e){return rt()(function(e){return e.features||{}}(e),["editMenu","displayEditDiscardModal"])},Cc=function(){var e=Object(qe.a)(),t=e.state,n=e.dispatch;return{shouldShowDiscardModal:xc(t),showEditDiscardModal:function(){return n({type:Tc.b})},hideEditDiscardModal:function(){return n({type:Tc.a})}}},Rc=n("qkWD");function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nc=function(){var e=Object(R.b)().week,t=Object(Rc.v)({week:e}).menu.id,n=Object(ye.s)(),r=n.setInEditMode,i=n.startEditingMenu,o=Cc(),a=o.hideEditDiscardModal,c=o.shouldShowDiscardModal,u=Dc(Object(Oe.useContentful)([Oe.EDIT_DISCARD_MODAL_TITLE,Oe.EDIT_DISCARD_MODAL_CONTENT,Oe.EDIT_DISCARD_MODAL_DISCARD_CTA,Oe.EDIT_DISCARD_MODAL_CONTINUE_CTA]),4),l=u[0],s=u[1],p=u[2],f=u[3];return Object(M.e)(en.Modal,{css:Mc.container,onRequestClose:a,title:l,isOpen:c},Object(M.e)("p",{css:Mc.message},s),Object(M.e)($.Grid,null,Object(M.e)($.Cell,{sm:{size:1},lg:{size:.5},css:Mc.spaceX},Object(M.e)(P.c,{"data-discard-editing":!0,kind:D.BUTTON_TYPE.primary,size:D.BUTTON_SIZE.small,css:Mc.button,fullWidth:!0,onClick:function(){a(),i({week:e,menuId:t}),r(!1)}},p)),Object(M.e)($.Cell,{sm:{size:1},lg:{size:.5}},Object(M.e)(P.c,{"data-keep-editing":!0,kind:D.BUTTON_TYPE.ghost,size:D.BUTTON_SIZE.small,css:Mc.button,fullWidth:!0,onClick:a},f))))},Mc={container:(Ac={textAlign:"center",width:"auto"},Pc(Ac,D.MEDIA_BREAKPOINTS.md,{width:350}),Pc(Ac,D.MEDIA_BREAKPOINTS.lg,{width:566}),Ac),message:function(e){return Pc({marginBottom:e.spacing.sm},D.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.lg})},spaceX:function(e){return Pc({marginBottom:e.spacing.st},D.MEDIA_BREAKPOINTS.lg,{marginBottom:0})}},Bc=n("cCUT"),Lc=function(){var e=Object(Bc.a)().headerHeight,t=Cc().showEditDiscardModal;return Object(M.e)("div",{"aria-label":"show edit menu",css:Uc.overlay(e),onClick:t,role:"button",tabIndex:0})},Uc={overlay:function(e){return function(t){return{background:D.COLORS.overlay,backgroundColor:t.overlay.backgroundColor,position:"absolute",zIndex:106,width:"100%",height:e,top:-e}}}},Fc=function(){return Object(M.e)(i.a.Fragment,null,Object(M.e)(Lc,null),Object(M.e)(Nc,null))};function Kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qc=function(e){var t=e.content,n=e.hasNotification,i=e.isBlocked,o=Kc(Object(r.useState)(!0),2),a=o[0],c=o[1];return a?Object(M.e)("div",{css:Hc.card({hasNotification:n,isBlocked:i})},Object(M.e)(ft.CrossIcon,{onClick:function(){c(!1)},css:Hc.closeIcon,height:14,width:14}),Object(M.e)("div",{css:Hc.content},Object(M.e)(dt.a,null,t))):null};qc.propTypes={content:a.a.string,isBlocked:a.a.bool,hasNotification:a.a.bool};var Hc={card:function(e){var t=e.hasNotification,n=e.isBlocked;return function(e){return{background:"#ffffff",borderLeft:"6px solid ".concat(n?e.DEPRECATED.alertColor.dark:D.COLORS.greenLight),textAlign:"center",padding:"".concat(e.spacing.sm,"px 0"),position:"relative",boxShadow:"0 2px 0 0 rgba(77, 65, 51, 0.1)",marginTop:t?"35px":2,"& p":{margin:"".concat(e.spacing.xxs,"px 0 0")},"& h3":{margin:0},"& a":{textDecoration:"underline"}}}},closeIcon:function(e){return{position:"absolute",right:"20px",top:"15px",padding:e.spacing.xxs}},content:{maxWidth:"75%",margin:"0 auto"}},zc=function(){var e=Object(Ca.useEPStore)().state,t=Object(Oe.useContentfulLegacy)((function(){return{blockedContent:u.CONTENT_DELIVERY_BLOCKED_BANNER,runningContent:u.CONTENT_DELIVERY_RUNNING_BANNER}})).entries,n=t.blockedContent,r=t.runningContent,i=!ai()(Object(Ht.d)(e)),o=Object(Ee.B)(e),a=Object(Ee.z)(e),c=Object(Ut.c)(e)&&!o,l=Object(Ut.b)(e)&&o;return a?l?Object(M.e)(qc,{content:n.getField("text"),hasNotification:i,isBlocked:!0}):c?Object(M.e)(qc,{content:r.getField("text"),hasNotification:i}):null:null},Vc=function(e){var t=e.children;return Object(M.e)("section",{css:Gc.container},t)};Vc.propTypes={children:a.a.node};var Gc={container:function(e){return{position:"relative",display:"flex",flexDirection:"column",flexGrow:1,background:e.pageLayout.main.backgroundColor}}},Yc=n("/UsV"),$c=n("VNb7"),Zc=n("JNV/"),Xc=n("JQf+"),Jc=n("9uvm"),Qc=n.n(Jc),eu=n("giSV"),tu=n("d8Sk");function nu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){ou(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var au=function(e){var t=e.title,n=e.content,r=e.couponTitle,i=e.couponContent,o=e.couponContinueCta,a=e.handleCtaClick,c=e.enableEveryshare,u=Object(_.b)();return Object(M.e)("div",{css:uu.container},Object(M.e)("h4",{css:uu.title},t),Object(M.e)("p",{css:uu.content},n),c&&Object(M.e)("div",{"data-everyshare-banner":!0,css:uu.couponContainer},Object(M.e)("h3",{css:uu.couponTitle},r),Object(M.e)("p",null,i),Object(M.e)(P.c,{kind:D.BUTTON_TYPE.primary,onClick:a},o),Object(M.e)(ft.ScissorsIcon,{css:uu.couponIcon,color:u.coupon.borderColor})))};au.propTypes={title:a.a.string.isRequired,content:a.a.string.isRequired,couponTitle:a.a.string.isRequired,couponContent:a.a.string.isRequired,couponContinueCta:a.a.string.isRequired,handleCtaClick:a.a.func.isRequired,enableEveryshare:a.a.bool};var cu,uu={container:{textAlign:"center"},title:{margin:"0 0 10px !important"},content:{margin:0},couponContainer:function(e){return{position:"relative",marginTop:"20px",border:"dashed 2.5px ".concat(e.coupon.borderColor),padding:"15px 30px",textAlign:"center"}},couponTitle:function(e){return iu(iu({fontFamily:e.typography.h1.fontFamily},Object(eu.s)(e)),{},{margin:"0 0 10px"})},couponIcon:{position:"absolute",right:"-15px",bottom:"55px"}},lu=Object(c.a)(Object(Oe.connect)((function(){return{modal:u.CONTENT_RAF_REFERRAL_UNLOCKED_MODAL,coupon:u.CONTENT_RAF_REFERRAL_COUPON}})),Object(l.a)((function(e){return{enableEveryshare:Object(Ut.p)(e),credit_value:Object(tu.b)(e),discount_value:Object(tu.c)(e)}})),Object(c.c)((function(e){var t=e.entries,n=e.subscriptionFirstDeliveryDate,r=e.credit_value,i=e.discount_value;return iu(iu({},nu(e,["entries","subscriptionFirstDeliveryDate","credit_value","discount_value"])),{},{title:t.modal.getField("title"),content:Object(Pe.interpolateString)(t.modal.getField("content"),{deliveryDate:Qc()(Object(g.clearTimeZone)(n),"ddd D MMMM")}),couponTitle:r&&i?Object(Pe.interpolateString)(t.coupon.getField("title"),{credit_value:r,discount_value:i}):"",couponContent:r&&i?Object(Pe.interpolateString)(t.coupon.getField("content"),{credit_value:r,discount_value:i}):"",couponContinueCta:t.coupon.getField("continueCta")})})))(au),su={container:function(e){return{backgroundColor:e.pageLayout.main.backgroundColor,border:"1px solid ".concat(e.divider.color)}},desktopContainer:{width:"360px"},slidingContent:function(e){return{padding:"".concat(e.spacing.xxl,"px ").concat(e.spacing.sm,"px ").concat(e.spacing.lg,"px")}}},pu=function(){var e,t,n=Object(_.b)(),o=(e=Object(He.useTracking)({trackReferralPopupImpression:Xc.f,trackReferralPopupInteractionCTAClick:Xc.g,trackReferralPopupInteractionDismiss:Xc.h}),t=Object(re.c)(),{onModalOpen:function(){e.trackReferralPopupImpression()},onCloseClick:function(){e.trackReferralPopupInteractionDismiss(),t(Object($c.d)())},onCtaClick:function(){e.trackReferralPopupInteractionCTAClick(),t(Object($c.d)()),t({type:Zc.ROUTE_REFERRAL})}}),a=o.onModalOpen,c=o.onCloseClick,u=o.onCtaClick,l=Object(Yc.a)().firstDeliveryDate;i.a.useEffect((function(){a()}),[]);var s=Object(M.e)(lu,{subscriptionFirstDeliveryDate:l,handleCtaClick:u});return Object(M.e)(r.Fragment,null,Object(M.e)(se.RenderAtBreakpoint,{renderAtBreakpoints:[D.BREAKPOINT_KEYS.sm,D.BREAKPOINT_KEYS.md]},Object(M.e)(en.SlidingModal,{css:su.container(n),contentClassName:su.slidingContent(n),onRequestClose:c,isOpen:!0},s)),Object(M.e)(se.RenderAtBreakpoint,{renderAtBreakpoints:[D.BREAKPOINT_KEYS.lg]},Object(M.e)(en.Modal,{css:Object($t.a)([su.container(n),su.desktopContainer],""),onRequestClose:c,isOpen:!0},s)))};function fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(n),!0).forEach((function(t){bu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ou(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ou(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yu=function(e){var t=e.freebieCount,n=e.enableFreebie,i=e.enableEveryshare,o=e.title,a=e.subtitle,c=e.redirectToReferral,u=e.trackReferralBannerClick,l=t>0,s=Object(r.useCallback)((function(){u(l),c()}),[l]),p=gu(Object(Oe.useContentful)([Oe.FREEBIE_BOX_IMAGE_URL]),1)[0];if(t&&!n)return null;if(!t&&!i)return null;var f={icon:t?function(){return Object(M.e)(N.Image,{alt:"Freebie Box",imageUrl:p,height:"75"})}:ft.PromoBillIcon,title:o,subtitle:a};return Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)(P.i,{css:mu.referralBanner},Object(M.e)(f.icon,{css:mu.referralIcon}),Object(M.e)("div",{css:mu.referralContent},Object(M.e)("h1",{css:mu.title},f.title),Object(M.e)("p",{css:mu.subtitle},f.subtitle)),Object(M.e)(P.c,{"data-menu-referral-cta":!0,onClick:s,css:mu.referralButton,kind:D.BUTTON_TYPE.ghost},"Learn More"))))};yu.propTypes={freebieCount:a.a.number,title:a.a.string,subtitle:a.a.string,enableFreebie:a.a.bool,enableEveryshare:a.a.bool,redirectToReferral:a.a.func.isRequired,trackReferralBannerClick:a.a.func};var mu={referralBanner:bu({alignItems:"center",justifyContent:"space-between",padding:"15px 30px",marginTop:"15px"},D.MEDIA_BREAKPOINTS.md,{flexDirection:"row"}),referralIcon:bu({},D.MEDIA_BREAKPOINTS.md,{marginRight:"30px"}),referralContent:(cu={display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:"30px",marginRight:"10px"},bu(cu,D.MEDIA_BREAKPOINTS.md,{textAlign:"left",marginBottom:0}),bu(cu,D.MEDIA_BREAKPOINTS.lg,{flexDirection:"row"}),bu(cu,D.MEDIA_BREAKPOINTS.only("md"),{alignItems:"flex-start"}),cu),referralButton:bu({},D.MEDIA_BREAKPOINTS.md,{width:"210px"}),title:bu({margin:"10px 0"},D.MEDIA_BREAKPOINTS.lg,{marginRight:"30px",whiteSpace:"nowrap"}),subtitle:function(e){return du(du({maxWidth:"555px",margin:"0 auto"},Object(P.u)(e)),{},bu({},D.MEDIA_BREAKPOINTS.lg,{marginRight:"30px"}))}},ju=Object(c.a)(Object(He.connect)({trackReferralBannerClick:He.trackReferralBannerClick}),Object(l.a)((function(e){return{freebieCount:Object(s.q)(e),enableFreebie:Object(Ut.q)(e),enableEveryshare:Object(Ut.p)(e),credit_value:Object(tu.b)(e),discount_value:Object(tu.c)(e),isConfigLoaded:Object(tu.a)(e)}}),{redirectToReferral:function(){return{type:u.ROUTE_REFERRAL}}}),Object(Oe.connectAndTransform)((function(){return{CONTENT_REFERRAL_PROMO_TITLE:u.CONTENT_REFERRAL_PROMO_TITLE,CONTENT_REFERRAL_PROMO_SUB_TITLE:u.CONTENT_REFERRAL_PROMO_SUB_TITLE,CONTENT_FREEBIES:u.CONTENT_FREEBIES}}),{transform:function(e,t){var n=e.entries,r=t.freebieCount,i=t.credit_value,o=t.discount_value,a=t.isConfigLoaded;return r?function(e,t){var n=t.freebieCount;return{title:Object(Pe.interpolateString)(e.CONTENT_FREEBIES.getField("freebiesBannerTitle"),{count:n,es:1===n?"":"es"}),subtitle:e.CONTENT_FREEBIES.getField("freebiesBannerDescription")}}(n,{freebieCount:r}):function(e,t){var n=t.credit_value,r=t.discount_value;return t.isConfigLoaded?{title:Object(Pe.interpolateString)(e.CONTENT_REFERRAL_PROMO_TITLE.getField("value"),{credit_value:n,discount_value:r}),subtitle:Object(Pe.interpolateString)(e.CONTENT_REFERRAL_PROMO_SUB_TITLE.getField("value"),{credit_value:n,discount_value:r})}:{}}(n,{credit_value:i,discount_value:o,isConfigLoaded:a})}}))(yu),vu=function(){var e=Object(ye.t)(),t=Object(Ut.J)("appCommunication.isEnabled");return e?null:Object(M.e)("div",{css:hu.container},t?Object(M.e)(Ic,null):Object(M.e)(ju,null))},hu={container:function(e){return{paddingBottom:"".concat(e.spacing.lg,"px")}}},Su=n("085G"),ku=function(){var e=Object(R.b)().week,t=Object(R.c)().redirectToMyDeliveries,n=Object(R.a)(),r=rt()(n,"query.recipeId");return r?Object(M.e)(Su.RecipeDetailsModal,{recipeId:r,week:e,onClose:function(){return t(e)}}):null},wu=n("kTT7");function Eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Iu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Au=function(){var e,t,n,r,i,o=(e=Eu(Object(Oe.useContentful)(Oe.MENU_PAGE_TITLE),1)[0],t=Object(R.b)().week,n=Object(g.getHFWeekBounds)(t),r=n.start,i=n.end,Object(Pe.interpolateString)(e,{start:Object(g.formatDate)(r,u.FORMAT_SHORT_DATE),end:Object(g.formatDate)(i,u.FORMAT_SHORT_DATE)}));return Object(M.e)(wu.a,{title:o})},Tu=n("n0PQ");function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Ru(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pu=function(e){var t=e.weekIdentifier,n=e.action,i=e.smallText,o=e.bigText,a=e.isSelected,c=e.isCurrentWeek,u=e.isAvailable,l=e.isDiscounted,s=e.isDeliveryPaused,p=e.isDeliveryBlocked,f=e.showRatingIcon,d=e.navBarRef,b=Object(_.b)(),g=Object(r.useRef)();return oo({navBarRef:d,navItemRef:g,isSelected:a}),Object(M.e)(Ze.Link,{"data-delivery-week":t,"data-week-available":u,action:n,linkRef:g,css:_u.container({isSelected:a,isCurrentWeek:c,isAvailable:u})},i&&Object(M.e)("small",{"data-week-small-text":!0,css:_u.smallText({isDeliveryPaused:s,isDeliveryBlocked:p})},i),o&&Object(M.e)("span",{"data-week-big-text":!0,css:_u.bigText({isDeliveryPaused:s,isDeliveryBlocked:p})},o),!s&&l&&Object(M.e)("span",{"data-week-discounted":!0,css:_u.discounted},"%"),f&&Object(M.e)(ft.StarIcon,{"data-week-ratable":!0,css:_u.topRightIcon,color:b.weekNavigation.iconRating.color}),p&&Object(M.e)("span",{"data-week-blocked":!0,css:_u.crossIcon},Object(M.e)(ft.CrossIconFat,{width:14,height:14,color:b.weekNavigation.iconPause.color})),!p&&s&&Object(M.e)(ft.PauseIcon,{"data-week-paused":!0,color:a?b.weekNavigation.iconPauseSelected.color:b.weekNavigation.iconPause.color,css:_u.pauseIcon({isSelected:a})}))};Pu.propTypes={weekIdentifier:a.a.number.isRequired,action:a.a.object.isRequired,bigText:a.a.string,smallText:a.a.string,isSelected:a.a.bool,isCurrentWeek:a.a.bool,isAvailable:a.a.bool,isDiscounted:a.a.bool,isDeliveryPaused:a.a.bool,isDeliveryBlocked:a.a.bool,showRatingIcon:a.a.bool,navBarRef:a.a.oneOfType([a.a.func,a.a.object])},Pu.defaultProps={isSelected:!1,isCurrentWeek:!1,isAvailable:!0,isDiscounted:!1,isDeliveryBlocked:!1,isDeliveryPaused:!1,showRatingIcon:!1};var Du=Ru({position:"absolute",top:"3px",right:"1px",width:"14px",height:"14px"},D.MEDIA_BREAKPOINTS.up("md"),{top:"5px",right:"5px"}),_u={container:function(e){var t=e.isSelected,n=e.isCurrentWeek,r=e.isAvailable;return function(e){return{"a&":Ru({position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minWidth:"18%",borderRight:"1px solid ".concat(e.divider.color),height:"60px",color:t?e.weekNavigation.itemSelected.color:r?e.weekNavigation.item.color:e.weekNavigation.itemNoDelivery.color,backgroundColor:t?e.weekNavigation.itemSelected.backgroundColor:"transparent",borderRadius:e.weekNavigation.item.borderRadius,cursor:t?"default":"pointer",":after":{content:t?'""':null,position:"absolute",bottom:0,left:"50%",width:"15px",height:"15px",pointerEvents:"none",backgroundColor:t?e.weekNavigation.itemSelected.backgroundColor:"transparent",boxShadow:"-2px 2px 0 rgba(77, 65, 51, 0.1)",transformOrigin:"0 100%",transform:"translateY(8px) rotate(-45deg)",zIndex:-1},":before":Cu(Cu({content:n?'""':null},D.ALIGN_CONTENT.horizontal),{},{bottom:"4px",width:"5px",height:"5px",borderRadius:"100%",backgroundColor:"currentColor"}),":hover":{backgroundColor:t?e.weekNavigation.itemSelected.backgroundColor:e.weekNavigation.itemHover.backgroundColor,color:t?e.weekNavigation.itemSelected.color:e.weekNavigation.itemHover.color}},D.MEDIA_BREAKPOINTS.up("sm"),{minWidth:"auto",width:"60px",borderRight:0})}}},smallText:function(e){var t=e.isDeliveryPaused,n=e.isDeliveryBlocked;return function(e){return{textDecoration:t||n?"line-through":"none",fontWeight:e.weekNavigation.month.fontWeight}}},bigText:function(e){var t=e.isDeliveryPaused,n=e.isDeliveryBlocked;return function(e){return Cu(Cu({},Object(P.w)(e)),{},{marginBottom:"5px",textDecoration:t||n?"line-through":"none",fontWeight:e.weekNavigation.day.fontWeight,textAlign:"center"})}},discounted:function(e){return Cu(Cu({},Du),{},{display:"block",color:e.weekNavigation.iconDiscount.color,textAlign:"center",backgroundColor:e.weekNavigation.iconDiscount.backgroundColor,borderRadius:"50%",lineHeight:"14px",zIndex:"1",fontSize:"10px",fontWeight:"bold",transformOrigin:"center",transform:"rotate(-5deg)"})},topRightIcon:Du,pauseIcon:function(e){var t=e.isSelected;return function(e){return Cu(Cu({},Du),{},{backgroundColor:t?e.weekNavigation.iconPauseSelected.backgroundColor:e.weekNavigation.iconPause.backgroundColor,borderRadius:"50%"})}},crossIcon:function(e){return Cu(Cu({},Du),{},{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.weekNavigation.iconBlocked.backgroundColor,borderRadius:"50%"})}},Nu=function(){var e,t=Object(R.b)().week,n=(e=Object(qe.a)().state,Object(Tu.selectPublicNavigationWeeks)(e)),r=Object(g.getCurrentHFWeek)(),i=n.findIndex((function(e){return e.week===r}))||0;return Object(M.e)("div",{css:Mu.container},Object(M.e)(P.f,{tag:"nav",style:Mu.nav,"data-week-nav":!0},n.map((function(e,n){var o={type:u.ROUTE_PUBLIC_MENU,payload:{week:e.week}},a=e.start,c=e.end,l=function(e){var t=e.dateStart,n=e.dateEnd,r=Object(g.formatDate)(t,"MMM"),i=Object(g.formatDate)(n,"MMM");return r===i?r:"".concat(r,"-").concat(i)}({dateStart:a,dateEnd:c}),s=function(e){var t=e.dateStart,n=e.dateEnd,r=Object(g.formatDate)(t,"DD"),i=Object(g.formatDate)(n,"DD");return"".concat(r,"-").concat(i)}({dateStart:a,dateEnd:c}),p=e.week===t,f=e.week===r;return Object(M.e)(Pu,{key:n,weekIdentifier:n-i,action:o,smallText:l,bigText:s,isSelected:p,isCurrentWeek:f,isAvailable:!0,isDiscounted:!1,isDeliveryPaused:!1,isDeliveryBlocked:!1,showRatingIcon:!1})}))))},Mu={container:function(e){return{position:["relative","sticky"],zIndex:100,top:0,backgroundColor:e.weekNavigation.container.backgroundColor,boxShadow:e.weekNavigation.container.boxShadow}},nav:{display:"flex",justifyContent:"center"}},Bu=n("/NDV"),Lu=n.n(Bu),Uu=n("HoXo"),Fu=n("+kPV"),Ku=n("sUbC"),Wu=n("6puf");function qu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zu=function(e){var t=e.week,n=function(e){var t=e.week,n=Object(Ca.useEPStore)().state,r=Object(Wu.h)(n),i=Object(Ku.w)(n),o=Object(Ku.z)(n,{week:t}),a=rt()(o,"discountValue",null);return{value:a?Object(Ku.e)({amount:a,isPercentage:i,locale:r}):null,isPercentage:a?i:void 0}}({week:t}).value,i=Object(Ue.f)({week:t}),o=Object(Ht.e)(),a=o.addNotification,c=o.removeNotification,l=qu(Object(Oe.useContentful)(Oe.WEEK_NAVIGATION_DISCOUNT_NOTIFICATION),1)[0],s="weekNavigation.discount.".concat(t);Object(r.useEffect)((function(){if(n){var e=Object(Pe.interpolateString)(l,{discount:n});a({id:s,type:"success",render:e,isAbleToDismiss:!0,autoDismissTimer:0})}return i===u.DELIVERY_STATUS_PAUSED&&c(s),function(){c(s)}}),[t,n,l,i])};var Vu=function(){var e,t=Object(R.b)().week,n=(e=Object(qe.a)().state,Object(Tu.selectNavigationWeeks)(e).filter((function(t){var n=t.week,r=void 0===n?"":n;return!Object(Uu.a)(Object(Ee.w)(e,{week:r}))}))),i=Object(p.gb)().isActive,o=Object(Fu.d)(),a=Object(g.getCurrentHFWeek)();zu({week:t});var c=o?Lu()(o):[],l=n.findIndex((function(e){return e.week===a}))||0,s=Object(r.useRef)();return i?Object(M.e)("div",{css:Gu.container},Object(M.e)(P.f,{tag:"nav",style:Gu.nav({alignLeft:n.length>5}),"data-week-nav":!0,containerRef:s},n.map((function(e,n){var r={type:u.ROUTE_MENU_VIEW,payload:{week:e.week}},o=Object(g.formatDate)(e.deliveryDate,"MMM"),p=Object(g.formatDate)(e.deliveryDate,"DD"),f=e.week===t,d=e.week===a,b=Boolean(e.hasDelivery||!i),O=c.includes(e.week),y=e.deliveryStatus===u.DELIVERY_STATUS_PAUSED,m=e.deliveryBlocked,j=e.shouldShowRatingStar;return Object(M.e)(Pu,{key:n,navBarRef:s,weekIdentifier:n-l,action:r,smallText:o,bigText:p,isSelected:f,isCurrentWeek:d,isAvailable:b,isDiscounted:O,isDeliveryPaused:y,isDeliveryBlocked:m,showRatingIcon:j})})))):null},Gu={container:function(e){return{position:"relative",backgroundColor:e.weekNavigation.container.backgroundColor,boxShadow:e.weekNavigation.container.boxShadow}},nav:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({display:"flex",overflowX:"auto",overflowY:"hidden","::-webkit-scrollbar":{display:"none"},justifyContent:e.alignLeft?"left":"center"},D.MEDIA_BREAKPOINTS.up("sm"),{justifyContent:"center"})}},Yu=n("RXsu"),$u=function(e){var t=e.indent,n=void 0===t?0:t,i=Object(Yu.h)(),o=i.setNotificationsStyle,a=i.unsetNotificationsStyle;return Object(r.useEffect)((function(){return o(Zu(n)),function(){a()}}),[n]),null};$u.propTypes={indent:a.a.number};var Zu=function(e){return{transform:"translateY(".concat(60+e,"px)")}},Xu=function(){return Object(M.e)(i.a.Fragment,null,Object(M.e)(Vu,null),Object(M.e)($u,null))},Ju=n("hqzR"),Qu=n.n(Ju),el=n("pTox"),tl=n("T9Fb"),nl=n("R7ZC"),rl=n("1J5N"),il=n("D5ML"),ol=n("+DuF"),al=n("cf5z"),cl=n("5BAi"),ul=n("vDqJ"),ll=n("uDZK"),sl=n("JuRi"),pl=n("LlCV"),fl=n("9BW3"),dl=n("PwGk"),bl=n("yDwo"),gl=n("XaZV"),Ol=n("Llas"),yl=n("VdK6"),ml=n("3aAS");function jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hl={type:yl.P,payload:{reactivation:!0}},Sl={alertIcon:function(e){return{marginRight:e.spacing.xs}},updatePayment:function(e){return{background:gl.a.palePink,padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.sm,"px"),marginTop:e.spacing.xs,display:"flex",textAlign:"left","& span":{marginRight:e.spacing.sm},"& svg":{flexShrink:0},"& a":{color:"".concat(e.dangerColor," !important"),marginLeft:"auto"},"& a:hover":{color:"".concat(e.dangerColor," !important")}}}},kl=function(){var e=Object(_.b)(),t=Object(ul.a)({trackReactivationUpdatePayment:ll.i}),n=jl(Object(Rr.b)([ml.b,ml.a]),2),r=n[0],i=n[1];return Object(M.e)("div",{"data-test-invalid-payment":!0,css:Sl.updatePayment},Object(M.e)(Ol.a,{css:Sl.alertIcon,color:e.dangerColor}),Object(M.e)("span",null,r),Object(M.e)(Ze.Link,{"data-test-link":!0,onClick:t.trackReactivationUpdatePayment,action:hl},Object(M.e)("strong",null,i)))},wl=function(e){var t=e.voucherCode,n=e.totalSavings,r=e.appliedVoucherMessage,o=e.subscriptionId,a=Object(ul.a)({trackReactivationBannerValidVoucher:ll.f});return i.a.useEffect((function(){a.trackReactivationBannerValidVoucher({voucherCode:t,subscriptionId:o})}),[]),Object(M.e)("div",{css:Il.voucherInfo,"data-reactivation-voucher-info":!0},Object(M.e)("small",null,r),n&&Object(M.e)("h4",null,"Total Savings: ",n,"!"))};wl.propTypes={voucherCode:a.a.string,totalSavings:a.a.string,appliedVoucherMessage:a.a.string,subscriptionId:a.a.string};var El,Il={voucherInfo:function(e){return{marginTop:e.spacing.xs}}},Al=wl;function Tl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function Rl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dl=function(e){var t=e.isPaymentMethodInValid,n=e.planDescriptionText,o=e.reactivationLabel,a=e.pricingInfo,c=e.subscription,u=e.sku,l=e.successNotification,s=e.validateCurrentPaymentMethod,p=e.reactivateAndRedirect,f=e.appliedVoucherMessage,d=e.fetchAndValidateVoucher,b=e.voucherCode,g=e.validVoucher,O=e.pageForTracking,y=e.getDeliveryMoments,m=e.earliestDeliveryDate,j=c.id,v=Rl(Object(r.useState)(!1),2),h=v[0],S=v[1],k=Object(_.b)(),w=Object(ul.a)({trackReactivationBannerClick:ll.d,trackReactivationPaymentMethodStatus:ll.g,trackReactivationBannerImpression:ll.e}),E=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),w.trackReactivationBannerClick({subscriptionId:j,page:O}),e.prev=2,e.next=5,s();case 5:w.trackReactivationPaymentMethodStatus({valid:!0}),I(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),S(!1),w.trackReactivationPaymentMethodStatus({valid:!1});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Cl(o,r,i,a,c,"next",e)}function c(e){Cl(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),I=function(){p({coupon:g,successNotification:l,deliveryOption:m}).catch((function(){}))};return i.a.useEffect((function(){w.trackReactivationBannerImpression({subscriptionId:j,voucherCode:b}),b&&d({voucherCode:b,subscriptionId:j,products:[u]})}),[]),i.a.useEffect((function(){y({zip:c.shippingAddress.postcode})}),[y,c.shippingAddress.postcode]),Object(M.e)("section",{css:_l.wrapper},Object(M.e)("div",{css:_l.container},Object(M.e)(bl.a,{css:Object($t.a)([_l.boxIcon(k),_l.mb_md(k)],"")}),Object(M.e)("div",{css:Object($t.a)([_l.planContent,_l.mb_md(k)],"")},Object(M.e)("h2",null,o),Object(M.e)("p",{css:_l.planDescription},n,Object(M.e)("span",{css:_l.separator},"  |  "),Object(M.e)("span",null,"Weekly total",a.totalPrice&&Object(M.e)("span",{css:_l.totalPrice},a.totalPrice),Object(M.e)("span",{css:_l.actualPrice(a.totalPrice)},a.actualPrice))),g&&Object(M.e)(Al,{voucherCode:b,totalSavings:a.totalSavings,appliedVoucherMessage:f,subscriptionId:j}),t&&Object(M.e)(kl,null)),Object(M.e)(dl.a,{css:Object($t.a)([_l.CTA,_l.mb_md(k)],""),"data-test-reactivate-from-menu":!0,size:D.BUTTON_SIZE.small,disabled:t,isLoading:h,onClick:E},"Reactivate & Pick Meals")))};Dl.propTypes={isPaymentMethodInValid:a.a.bool,reactivationLabel:a.a.string,planDescriptionText:a.a.string,appliedVoucherMessage:a.a.oneOfType([a.a.string,a.a.bool]),pricingInfo:a.a.object,successNotification:a.a.string,subscription:a.a.shape({id:a.a.string,shippingAddress:a.a.object}),sku:a.a.string,voucherCode:a.a.string,validVoucher:a.a.string,earliestDeliveryDate:a.a.object,validateCurrentPaymentMethod:a.a.func,fetchAndValidateVoucher:a.a.func,reactivateAndRedirect:a.a.func,pageForTracking:a.a.string,getDeliveryMoments:a.a.func};var _l={wrapper:function(e){return{background:D.COLORS.white,borderBottom:"1px solid ".concat(e.divider.color)}},container:function(e){var t;return xl(t={display:"flex",flexWrap:"wrap",padding:"".concat(e.spacing.sm,"px ").concat(e.spacing.sm,"px 0"),width:"100%",maxWidth:"1140px",margin:"0 auto",justifyContent:"center",textAlign:"center","& h2":{margin:0},"& h4":{margin:"".concat(e.spacing.xxs,"px 0 0")}},D.MEDIA_BREAKPOINTS.up("sm"),{justifyContent:"normal",textAlign:"left"}),xl(t,D.MEDIA_BREAKPOINTS.only("md"),{padding:"".concat(e.spacing.sm,"px 10% 0")}),t},totalPrice:function(e){return{textDecoration:"line-through",color:D.COLORS.grey,marginLeft:e.spacing.xxs}},actualPrice:function(e){return function(t){return{color:e?t.dangerColor:"inherit",marginLeft:t.spacing.xxs}}},mb_md:function(e){return{marginBottom:e.spacing.sm}},boxIcon:function(e){return xl({marginRight:0},D.MEDIA_BREAKPOINTS.up("sm"),{marginRight:e.spacing.lg})},planContent:(El={},xl(El,D.MEDIA_BREAKPOINTS.only("md"),{maxWidth:"80%"}),xl(El,D.MEDIA_BREAKPOINTS.up("md"),{maxWidth:"65%"}),El),planDescription:function(e){return xl({display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"".concat(e.spacing.xs,"px 0 0")},D.MEDIA_BREAKPOINTS.up("sm"),{justifyContent:"flex-start",marginTop:0})},separator:xl({display:"none"},D.MEDIA_BREAKPOINTS.up("sm"),{display:"inline"}),CTA:xl({alignSelf:"flex-end",width:"100%"},D.MEDIA_BREAKPOINTS.up("sm"),{marginLeft:"auto",width:"auto"})},Nl={validateCurrentPaymentMethod:ol.k,fetchAndValidateVoucher:al.a,reactivateAndRedirect:tl.e,getDeliveryMoments:rl.b},Ml=Qu()(Object(el.a)((function(){return{reactivation:fl.pd,congratsLabel:fl.Jb,variedDiscountMessageFixed:fl.ee.banner.varied.fixed,variedDiscountMessagePercentage:fl.ee.banner.varied.percentage,identicalDiscountMessage:fl.ce,freeShippingFirstBoxMessage:fl.qe,freeShippingOnDeliveriesMessage:fl.re,validGenericMessage:fl.te,percentageDiscountMessage:fl.me,freeShippingForPercentageVoucher:fl.ne}}),{transform:function(e){var t=e.entries,n=t.reactivation,r=t.congratsLabel,i=Tl(t,["reactivation","congratsLabel"]);return{planDescription:n.getField("planDescription"),congratsLabel:r.getField("value"),reactivationLabel:n.getField("modalTitle"),successNotification:n.getField("successNotification"),voucherMessages:{variedDiscountMessageFixed:i.variedDiscountMessageFixed.getField("value"),variedDiscountMessagePercentage:i.variedDiscountMessagePercentage.getField("value"),identicalDiscountMessage:i.identicalDiscountMessage.getField("value"),freeShippingFirstBoxMessage:i.freeShippingFirstBoxMessage.getField("value"),freeShippingOnDeliveriesMessage:i.freeShippingOnDeliveriesMessage.getField("value"),validGenericMessage:i.validGenericMessage.getField("value"),percentageDiscountMessage:i.percentageDiscountMessage.getField("value"),freeShippingForPercentageVoucher:i.freeShippingForPercentageVoucher.getField("value")}}}}),Object(l.a)((function(e,t){var n=t.planDescription,r=t.voucherMessages,i=t.congratsLabel,o=Object(Ft.h)(e),a=Object(nl.I)(e),c=Object(cl.e)(e),u=Object(nl.p)(a),l=Object(il.k)(e),s=Object(cl.x)(e,{voucherMessages:r}),p=Object(nl.T)(e),d=Object(f.w)(e,pl.k)||xa.a.get(sl.o),b=Object(cl.b)(e)?d:"",g=Object(Pe.interpolateString)(n,{people:Object(nl.bb)(e),recipes:Object(nl.Y)(e)}),O=Object(cl.v)(e)?r.variedDiscountMessagePercentage:r.variedDiscountMessageFixed,y=s.savingsByBox?Object(Pe.interpolateString)(O,{total_savings:Object(Pe.getFormattedCurrency)({value:s.totalSavings,locale:o}),savings_by_box:s.savingsByBox,price_per_serving_by_box:s.pricePerServingByBox,discounted_box_count:s.discountedBoxCount,shipping_message:s.shippingMessage||""}):s.message;return y="".concat(i," ").concat(y),{subscription:a,sku:u,planDescriptionText:g,pricingInfo:c,voucherCode:d,validVoucher:b,isPaymentMethodInValid:l,appliedVoucherMessage:!!Object(cl.b)(e)&&y,earliestDeliveryDate:Object(rl.f)(e,{zipcode:p})}}),Nl))(Dl);function Bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ul=function(){var e=Object(se.useCurrentBreakpoint)(),t=Object(Wu.j)().isClient,n=Object(r.useRef)(null),i=Bl(Object(r.useState)(0),2),o=i[0],a=i[1],c=Bl(Object(r.useState)(0),2),u=c[0],l=c[1];return t&&Object(r.useLayoutEffect)((function(){var t=n.current;if(t){var r=t.clientHeight,i="lg"===e?0:r-70;a(r),l(i)}}),[e]),Object(M.e)("section",{css:Fl.stickyContainer({stickyHeight:u})},Object(M.e)("div",{ref:n},Object(M.e)(Ml,{pageForTracking:"my_deliveries"})),Object(M.e)(Vu,null),Object(M.e)($u,{indent:o}))},Fl={stickyContainer:function(e){return{position:["relative","sticky"],top:-e.stickyHeight,zIndex:"3"}}},Kl=n("EKNE"),Wl=function(){var e=Object(ye.t)(),t=Object(Kl.a)(),n=Object(Yc.c)().isActive;return!t||e?null:n?Object(M.e)(Xu,null):Object(M.e)(Ul,null)},ql=A((function(e){var t=e.children;return Object(M.e)(Vc,null,Object(M.e)(Au,null),Object(M.e)(Wl,null),Object(M.e)(zc,null),t)})),Hl=n("4hP+"),zl=n("UiYM"),Vl=n("onQd"),Gl=n("e8zD"),Yl=n("Fvoi");function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jl=function(e){var t=e.step,n=e.isCurrentStep,i=e.currentStep,o=Object(ul.a)({trackOnboardingModalScreen:Yl.a});return Object(r.useEffect)((function(){n&&o.trackOnboardingModalScreen({screen:i,label:t.title})}),[n]),Object(M.e)("div",{css:ns.container},Object(M.e)("div",{css:ns.imgWrapper},Object(M.e)("img",{"data-test-step-image":!0,src:t.image.url,alt:"",css:ns.image({isCurrentStep:n})})),Object(M.e)("div",{css:ns.contentWrapper({isCurrentStep:n})},Object(M.e)("h3",{"data-test-step-title":!0,css:ns.title},t.title),Object(M.e)("p",{"data-test-step-description":!0,css:ns.description},t.description)))},Ql="400ms cubic-bezier(0.25, 0.1, 0.25, 1) forwards",es=Object(M.f)({"85%":{transform:"scale(1.15, 1.15)"},"100%":{transform:"scale(1, 1)",opacity:1}}),ts=Object(M.f)({"100%":{transform:"translateX(0)",opacity:1}}),ns={container:function(e){return Xl({paddingBottom:e.spacing.lg},Gl.d.up("md"),{paddingBottom:e.spacing.xxl})},title:{textAlign:"center",marginTop:0},description:function(e){return{marginBottom:e.spacing.st,textAlign:"center"}},imgWrapper:function(e){return Xl({backgroundColor:e.onboardingModal.image.backgroundColor,borderTopRightRadius:"10px",borderTopLeftRadius:"10px",padding:e.spacing.sm,display:"flex",alignItems:"center",justifyContent:"center",height:"200px"},Gl.d.up("md"),{height:"254px"})},contentWrapper:function(e){var t=e.isCurrentStep;return function(e){return Zl({transform:"translateX(100%)",opacity:0,padding:"".concat(e.spacing.md,"px ").concat(e.spacing.lg,"px 0")},t&&{animation:"".concat(ts," ").concat(Ql)})}},image:function(e){var t=e.isCurrentStep;return Zl(Xl({transform:"scale(0, 0)",opacity:0},Gl.d.down("md"),{maxHeight:"180px",maxWidth:"240px"}),t&&{animation:"".concat(es," ").concat(Ql)})}};Jl.propTypes={step:a.a.object.isRequired,isCurrentStep:a.a.bool.isRequired,currentStep:a.a.number.isRequired};var rs=n("7C+8");function is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return as(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cs=function(e){var t=e.currentStep,n=e.handleNextStep,r=e.handlePrevStep,i=os(Object(Rr.b)([rs.b,rs.a]),2),o=i[0],a=i[1];return Object(M.e)("div",{css:us.buttonContainer},Object(M.e)("div",null,1!==t&&Object(M.e)(dl.a,{kind:D.BUTTON_TYPE.link,size:D.BUTTON_SIZE.small,onClick:r,css:Object($t.a)([us.button,us.prevButton],""),fullWidth:!0,"data-test-previous-step-button":!0},o)),Object(M.e)("div",null,Object(M.e)(dl.a,{kind:D.BUTTON_TYPE.primary,size:D.BUTTON_SIZE.small,onClick:n,css:us.button,fullWidth:!0,"data-test-next-step-button":!0},a)))},us={buttonContainer:function(e){return is({display:"flex",justifyContent:"space-between",marginTop:"-".concat(e.spacing.xl,"px"),padding:"0 ".concat(e.spacing.md,"px ").concat(e.spacing.md,"px")},D.MEDIA_BREAKPOINTS.down("md"),{minHeight:"100px",flexDirection:"column-reverse",marginTop:e.spacing.xxs})},button:is({textTransform:"capitalize"},D.MEDIA_BREAKPOINTS.up("md"),{width:"auto"}),prevButton:{textDecoration:"underline"}};function ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ss(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cs.propTypes={currentStep:a.a.number.isRequired,handleNextStep:a.a.func.isRequired,handlePrevStep:a.a.func.isRequired};function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Os=function(e){var t=function(e){var t=ls(Object(Rr.b)([rs.h,rs.g,rs.f,rs.k,rs.j,rs.i,rs.n,rs.m,rs.l,rs.e,rs.d,rs.c]),12),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5],u=t[6],l=t[7],s=t[8],p=t[9],f=t[10],d=t[11];return 1===e?[{title:n,description:r,image:i},{title:o,description:a,image:c},{title:u,description:l,image:s}]:[{title:n,description:r,image:i},{title:p,description:f,image:d},{title:o,description:a,image:c},{title:u,description:l,image:s}]}(e.variation),n=Object(r.useRef)(null),i=Object(re.c)(),o=function(){return i(Object($c.d)())},a=bs(Object(r.useState)(1),2),c=a[0],u=a[1];return Object(M.e)(en.Modal,{css:ys.modalStyle,isOpen:!0,onRequestClose:o,"data-test-onboarding-modal":!0},Object(M.e)(Vl.d,{ref:n,infinite:!1,dots:D.SLIDER_NAVIGATION.all,dotsClassName:"dots-container",navigation:D.SLIDER_NAVIGATION.none,onChange:function(e){var t=e.slide;return u(t)},"data-test-onboarding-slider":!0},t.map((function(e,t){var n=t+1===c;return Object(M.e)(Jl,{key:t,step:e,isCurrentStep:n,currentStep:c})}))),Object(M.e)(cs,{currentStep:c,handleNextStep:function(){return c===t.length?o():n.current.nextSlide()},handlePrevStep:function(){return n.current.prevSlide()},"data-test-onboarding-buttons":!0}))};Os.propTypes={variation:a.a.number.isRequired};var ys={closeButton:fs(fs({},D.buttonReset),{},{zIndex:10,position:"absolute",top:10,right:10,height:"40px",width:"40px",cursor:"pointer"}),closeIcon:{height:"35px",width:"35px",cursor:"pointer"},modalStyle:{width:"600px",borderRadius:"10px","& > section":{padding:0}},slideContainer:{maxWidth:"500px",margin:"0 auto"}},ms=function(){switch(Object(Hl.d)(zl.c)){case"variation1":return Object(M.e)(Os,{variation:1});case"variation2":return Object(M.e)(Os,{variation:2});default:return Object(M.e)(pu,null)}},js=function(){var e=Object(ae.a)().isMenuEdit,t=Object(ae.b)().week,n=Object(ce.a)({week:t}),i=n.shouldFetchActiveMenu,o=n.menu,a=void 0===o?{}:o,c=n.isFetched,u=Object(oe.i)(),l=u.isInEditMode,s=u.setInEditMode,p=u.startEditingMenu,f=Object(re.d)(ie.a);return Object(r.useEffect)((function(){t&&i()}),[t]),Object(r.useEffect)((function(){a.id&&c&&(p({week:t,menuId:a.id}),e&&s(!0))}),[a.id,e,c]),Object(M.e)(ql,null,l&&Object(M.e)(Fc,null),Object(M.e)(Ya,null),f&&Object(M.e)(ms,null),Object(M.e)(vu,null),Object(M.e)(ku,null),Object(M.e)(ue.a,null))},vs=function(e){var t=e.title,n=e.paragraph,r=Object(_.b)();return Object(M.e)(P.f,null,Object(M.e)(P.h,{style:hs.container},Object(M.e)(ft.DeliveryTruckIcon,{width:100,height:100,color:r.deliveries.blockedDelivery.icon.color}),Object(M.e)("h2",null,t),Object(M.e)("div",{css:hs.paragraph},Object(M.e)(dt.a,null,n))))};vs.propTypes={title:a.a.string.isRequired,paragraph:a.a.string.isRequired};var hs={container:{textAlign:"center",paddingTop:78,paddingBottom:78},paragraph:{maxWidth:"600px",margin:"auto"}},Ss=Object(Oe.connectAndTransform)((function(){return{title:u.CONTENT_MENU_BLOCKED_UNSKIP_TITLE,paragraph:u.CONTENT_MENU_BLOCKED_UNSKIP_PARAGRAPH}}),{transform:function(e){var t=e.entries;return{title:t.title.getField("value"),paragraph:t.paragraph.getField("text")}}})(vs),ks=function(){return Object(M.e)(ql,null,Object(M.e)(Ss,null))},ws=function(e){var t=e.title,n=e.paragraph,r=Object(_.b)();return Object(M.e)(P.f,null,Object(M.e)(P.h,{style:Es.container},Object(M.e)(ft.DeliveryTruckIcon,{width:100,height:100,color:r.deliveries.blockedDelivery.icon.color}),Object(M.e)("h2",null,t),Object(M.e)("div",{css:Es.paragraph},Object(M.e)(dt.a,null,n))))};ws.propTypes={title:a.a.string.isRequired,paragraph:a.a.string.isRequired};var Es={container:{textAlign:"center",paddingTop:78,paddingBottom:78},paragraph:{maxWidth:"600px",margin:"auto"}},Is=Object(Oe.connectAndTransform)((function(){return{CONTENT_MENU_BLOCKED_DELIVERY_TITLE:u.CONTENT_MENU_BLOCKED_DELIVERY_TITLE,CONTENT_MENU_BLOCKED_DELIVERY_PARAGRAPH:u.CONTENT_MENU_BLOCKED_DELIVERY_PARAGRAPH}}),{transform:function(e){var t=e.entries;return{title:t.CONTENT_MENU_BLOCKED_DELIVERY_TITLE.getField("value"),paragraph:t.CONTENT_MENU_BLOCKED_DELIVERY_PARAGRAPH.getField("text")}}})(ws),As=function(){return Object(M.e)(ql,null,Object(M.e)(Is,null))},Ts=n("42qS");function xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rs=function(){var e=xs(Object(r.useState)(null),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=!0;return Object(Ts.fetchAnimation)({fileName:"cookbook-empty-v2.json"}).then((function(t){return e&&n(t)})),function(){return e=!1}}),[]),Object(M.e)(Ts.Lottie,{css:Ps.animation,animationData:t,autoplay:!0,autoload:!0,loop:!0})},Ps={animation:{width:"100px",margin:"auto"}},Ds=function(e){var t,n,r=e.entry,i=e.cutOffDate;return Object(M.e)("div",{css:_s.noRecipeContainer},Object(M.e)(Rs,null),Object(M.e)("h3",{css:_s.title},r.getField("title")),Object(M.e)("p",{css:_s.text},Object(Pe.interpolateString)(r.getField("strapline"),{cutOffDate:(t=i,n=Object(g.clearTimeZone)(t),Object(g.formatDate)(n,u.FORMAT_DELIVERY))})))};Ds.propTypes={entry:a.a.object.isRequired,cutOffDate:a.a.string};var _s={noRecipeContainer:{textAlign:"center",paddingTop:80,paddingBottom:80,maxWidth:"600px",margin:"auto"},text:function(e){return{color:e.deliveries.noRecipes.text.color}},title:{margin:"8px 0"}},Ns=Object(Oe.connect)((function(){return u.CONTENT_MENU_EMPTY}))(Ds),Ms=function(){var e=Object(R.b)().week,t=Object(Ue.c)({week:e}),n=Object(g.clearTimeZone)(Object(Ee.a)(t));return Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)(Ns,{cutOffDate:n})))},Bs=function(){return Object(M.e)(ql,null,Object(M.e)(Ms,null),Object(M.e)(vu,null))},Ls=A((function(){return Object(M.e)(Vc,null,Object(M.e)(ne,null))}));function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t){return(Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zs(e);if(t){var i=zs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hs(this,n)}}function Hs(e,t){return!t||"object"!==Us(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ys={publicText:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){Gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({margin:"0 0 ".concat(e.spacing.sm,"px")},Object(P.s)(e))},title:function(e){return{margin:"0 0 ".concat(e.spacing.xxs,"px")}},container:function(e){return{textAlign:"center",paddingTop:e.spacing.xl,paddingBottom:e.spacing.sm}}},$s=function(e){var t=e.children;return Object(M.e)("h1",{css:Ys.title},t)};$s.propTypes={children:a.a.node};var Zs=function(e){var t=e.children;return Object(M.e)("p",{css:Ys.publicText},t)};Zs.propTypes={children:a.a.node};var Xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(o,e);var t,n,r,i=qs(o);function o(){return Fs(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.children;return Object(M.e)($.Container,{css:Ys.container},e)}}])&&Ks(t.prototype,n),r&&Ks(t,r),o}(r.Component);Gs(Xs,"Title",$s),Gs(Xs,"Strapline",Zs),Xs.propTypes={children:a.a.node.isRequired};var Js=Xs,Qs=n("Z0DX"),ep=n.n(Qs),tp=n("TkAH"),np=n.n(tp),rp=n("Mh0k"),ip=n("ZX9W"),op=function(e){return rt()(e,"menus.pastMenus",{})},ap=function(e,t){var n=t.week;return function(e){return op(e).weeks||[]}(e).find((function(e){return e.week===n}))},cp=Object(ip.b)(["menus","pastMenus","status"]),up=cp.selectIsPending,lp=cp.selectIsFulfilled,sp=n("rWu3"),pp=function(e){var t=e.from,n=e.state;return ep()(t)?function(e){return op(e).nextWeek}(n)||void 0:t},fp=function(e){var t=e.week;return Object(re.d)((function(e){return ap(e,{week:t})}))},dp=function(){var e=Object(R.b)().week,t=fp({week:e});return rt()(t,"meals",[])},bp=function(){var e=dp(),t=e.length,n=Object(r.useMemo)((function(){return e.reduce((function(e,t){return t.feedback&&e++,e}),0)}),[e]);return{isPartlyRated:t>0&&n>0,isFullyRated:t>0&&n===t}};function gp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Op(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yp=function(){var e,t,n,r,i,o,a,c,u,l,s=(e=gp(Object(Oe.useContentful)([Oe.MY_DELIVERIES_RATING_HEADER_DEFAULT_TITLE,Oe.MY_DELIVERIES_RATING_HEADER_DEFAULT_STRAPLINE,Oe.MY_DELIVERIES_RATING_HEADER_PARTLY_RATED_TITLE,Oe.MY_DELIVERIES_RATING_HEADER_PARTLY_RATED_STRAPLINE,Oe.MY_DELIVERIES_RATING_HEADER_FULLY_RATED_TITLE,Oe.MY_DELIVERIES_RATING_HEADER_FULLY_RATED_STRAPLINE]),6),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],c=bp(),u=c.isFullyRated,l=c.isPartlyRated,u?{title:o,strapline:a}:l?{title:r,strapline:i}:{title:t,strapline:n}),p=s.title,f=s.strapline;return Object(M.e)(Js,null,Object(M.e)(Js.Title,null,p),Object(M.e)(Js.Strapline,null,f),Object(M.e)(Ce,null),Object(M.e)(tt,null))},mp=n("ZBCW");function jp(e){return(jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t){return(Sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ip(e);if(t){var i=Ip(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wp(this,n)}}function wp(e,t){return!t||"object"!==jp(t)&&"function"!=typeof t?Ep(e):t}function Ep(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sp(e,t)}(o,e);var t,n,r,i=kp(o);function o(){var e;vp(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ap(Ep(e=i.call.apply(i,[this].concat(n))),"state",{customerRating:e.props.customerRating}),Ap(Ep(e),"componentDidUpdate",(function(t){var n=e.props,r=n.customerRating,i=n.customerRatingComment,o=n.hasRateRecipeFailed,a=n.recipeId;r!==t.customerRating&&r!==e.state.customerRating&&e.setState({customerRating:r,customerRatingComment:i}),o&&!t.hasRateRecipeFailed&&e.handleRateRecipeFailure(),t.recipeId&&a!==t.recipeId&&e.markRecipeCommentSaved(t)})),Ap(Ep(e),"componentWillUnmount",(function(){return e.markRecipeCommentSaved(e.props)})),Ap(Ep(e),"markRecipeCommentSaved",(function(t){var n=t.recipeId,r=t.customerRating,i=t.isRatingCommentSaved;return n&&r&&!i&&e.props.toggleRecipeCommentSaved(n)})),Ap(Ep(e),"handleRateRecipeFailure",(function(){var t=e.props,n=t.customerRating,r=t.customerRatingComment;e.setState({customerRating:n,customerRatingComment:r})})),Ap(Ep(e),"trackRecipeRating",(function(t){var n=t.value,r=t.comment,i=e.props,o=i.customerRating,a=i.customerRatingComment,c=i.trackRateRecipe,u=i.trackRateRecipeComment,l=i.week,s=i.recipeId;n!==o&&c({weekCode:l,recipeId:s,ratingValue:n}),r&&r!==a&&u({weekCode:l,recipeId:s,comment:r})})),Ap(Ep(e),"onRecipeRatingChange",(function(t){var n=t.value,r=t.comment,i=e.props,o=i.customerRating,a=i.customerRatingComment;if(n!==o||r!==a){e.trackRecipeRating({value:n,comment:r});var c=e.props,u=c.recipeId,l=c.menuId;(0,c.rateRecipe)({rating:n,menuId:l,recipeId:u,comment:r}),e.setState({customerRating:n,customerRatingComment:r})}})),Ap(Ep(e),"onRecipeCommentEdit",(function(){var t=e.props,n=t.recipeId;(0,t.toggleRecipeCommentSaved)(n)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.recipe,n=e.isRatingPending,r=e.isRatingCommentSaved,i=e.week,o=this.state,a=o.customerRating,c=o.customerRatingComment||this.props.customerRatingComment;return Object(M.e)(de.RecipeRatingCard,{week:i,recipe:t,isRatingCommentSaved:r,recipeRating:a,recipeComment:c,isRatingPending:n,onRecipeRatingChange:this.onRecipeRatingChange,onRecipeCommentEdit:this.onRecipeCommentEdit})}}])&&hp(t.prototype,n),r&&hp(t,r),o}(r.Component);Tp.propTypes={menuId:a.a.string,week:a.a.string.isRequired,recipeId:a.a.string,recipe:a.a.object,customerRating:a.a.number,customerRatingComment:a.a.string,isRatingPending:a.a.bool,isRatingCommentSaved:a.a.bool,hasRateRecipeFailed:a.a.bool,trackRateRecipe:a.a.func.isRequired,trackRateRecipeComment:a.a.func.isRequired,toggleRecipeCommentSaved:a.a.func.isRequired,rateRecipe:a.a.func.isRequired};var xp={rateRecipe:mp.c,toggleRecipeCommentSaved:mp.h},Cp=Object(c.a)(Object(He.connect)({trackRateRecipe:He.trackRateRecipe,trackRateRecipeComment:He.trackRateRecipeComment}),Object(l.a)((function(e,t){var n=t.recipeId;return{isRatingCommentSaved:Object(mp.e)(e,{recipeId:n}),isRatingPending:Object(mp.f)(e,{recipeId:n}),hasRateRecipeFailed:Object(mp.g)(e,{recipeId:n})}}),xp),c.e)(Tp),Rp=function(e){return e.replace(/.*recipes\/(.+)/,"/$1")};var Pp=function(e){var t,n=e.course,r=Object(R.b)().week,i=fp({week:r}).menuId,o=rt()(n,"feedback.rating"),a=rt()(n,"feedback.comment"),c=n.id,u={id:c,name:rt()(n,"name"),headline:rt()(n,"headline"),slug:(t=rt()(n,"websiteURL"),t.replace(/.*recipes\/(.+)-[A-z0-9]+/,"$1")),imagePath:Rp(rt()(n,"image")),prepTime:rt()(n,"prepTime"),label:rt()(n,"label"),tags:rt()(n,"tags")};return Object(M.e)(P.d,{style:Dp.cell},Object(M.e)(Cp,{recipeId:c,recipe:u,customerRating:o,customerRatingComment:a,week:r,menuId:i}))};Pp.propTypes={course:a.a.object};var Dp={cell:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({width:"100%",flex:"0 0 100%"},D.MEDIA_BREAKPOINTS.md,{width:"33.33%",flex:"0 0 33.33%",display:"flex",alignItems:"stretch"})},_p=function(){var e,t,n=(e=dp(),t=Object(re.d)(mp.d),Object(r.useMemo)((function(){return e.reduce((function(e,n){var r=Boolean(e.isAfterLastRated),i=Boolean(e.nextToRate),o=n.id===t,a=Boolean(n.feedback);return!r||i||a||(e.nextToRate=n.id),o&&(e.isAfterLastRated=!0),e}),{isAfterLastRated:!1,nextToRate:null}).nextToRate}),[e,t])),i=Object(mp.i)(),o=bp().isFullyRated,a="sm"===Object(se.useCurrentBreakpoint)(),c=Object(r.useCallback)((function(){Object(Pe.scrollTop)(0,!0)}),[]),u=Object(r.useCallback)((function(){Object(Pe.scrollTop)(document.querySelector("[data-recipe-card='".concat(n,"']")).offsetTop,!0)}),[n]);Object(Pe.useDidUpdate)((function(){a&&(o?c():n&&u())}),[i])},Np=function(){_p();var e=dp();return Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)(P.g,null,e.map((function(e){return Object(M.e)(Pp,{key:e.id,course:e})})))))},Mp=function(){var e,t=(e=Object(R.b)().week,{isLoading:Object(re.d)(up),hasMenu:!!Object(re.d)((function(t){return ap(t,{week:e})}))});return t.isLoading||!t.hasMenu?Object(M.e)(r.Fragment,null,Object(M.e)(yp,null),Object(M.e)(te,null)):Object(M.e)(r.Fragment,null,Object(M.e)(yp,null),Object(M.e)(Np,null))},Bp=function(){var e=Object(re.c)();Object(r.useEffect)((function(){e(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).from;return function(t,n,r){var i=r.gwClient,o=n(),a=Object(p.P)(o),c=pp({from:e,state:o}),u=up(o),l=lp(o);return a?np()(c)&&(u||l)?null:t({type:sp.a,payload:Object(rp.requestPastDeliveries)(i,{subscription:a,fromWeek:c}).then((function(e){return e.data}))}).catch((function(){})):null}}())}),[])},Lp=function(){return Bp(),Object(M.e)(ql,null,Object(M.e)(Mp,null),Object(M.e)(vu,null),Object(M.e)(ku,null))};function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fp=function(e){var t=e.title;return Object(M.e)("div",{css:Wp.content},Object(M.e)("h4",{css:Wp.title},t))},Kp=function(e){return{content:'""',flex:"1 1 auto",height:"1px",background:e.addOns.divider.color}},Wp={content:function(e){return{display:"flex",alignItems:"center",margin:"".concat(e.spacing.md,"px 0"),"::after":Kp(e),"::before":Kp(e)}},title:function(e){var t;return Up(t={margin:"0 ".concat(e.spacing.xs,"px")},D.MEDIA_BREAKPOINTS.md,{margin:"0 ".concat(e.spacing.st,"px")}),Up(t,D.MEDIA_BREAKPOINTS.lg,{margin:"0 ".concat(e.spacing.lg,"px")}),t}};function qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Fp.propTypes={title:a.a.string.isRequired};var zp=function(e){var t=e.children;return Object(M.e)(P.f,null,Object(M.e)(P.h,null,Object(M.e)(P.g,null,t)))},Vp=function(e){var t=e.children;return Object(M.e)(P.f,null,Object(M.e)(P.h,null,t))},Gp=function(e){var t=e.week,n=Object(re.d)(Object(wi.f)(t)),r=Object(re.d)(Object(wi.e)(t)),o=qp(Object(Oe.useContentful)([Oe.ADDON_SAVED_SELECTION_SECTION_TITLE,Oe.ADDON_AVAILABLE_SELECTION_SECTION_TITLE]),2),a=o[0],c=o[1];return Object(M.e)(i.a.Fragment,null,!!r.length&&Object(M.e)(i.a.Fragment,null,Object(M.e)(Vp,null,Object(M.e)(Fp,{"aria-label":"section",title:a})),Object(M.e)(zp,null,r.map((function(e){return e.addOns.map((function(n){return Object(M.e)(P.d,{css:Yp.cardCell,key:n.recipe.id},Object(M.e)(de.EditAddOnCard,{"aria-label":"selected add-on",addOn:n,addOnGroup:e.groupType,week:t}))}))})))),!!n.length&&Object(M.e)(i.a.Fragment,null,Object(M.e)(Vp,null,Object(M.e)(Fp,{"aria-label":"section",title:c})),n.map((function(e,n){return Object(M.e)("div",{key:e.groupType},Object(M.e)(Vp,null,Object(M.e)("h4",{"aria-label":"category",css:Yp.categoryTitle(n)},e.groupType)),Object(M.e)(zp,null,e.addOns.map((function(n){return Object(M.e)(P.d,{css:Yp.cardCell,key:n.recipe.id},Object(M.e)(de.EditAddOnCard,{"aria-label":"add-on",addOn:n,addOnGroup:e.groupType,week:t}))}))))}))))};Gp.propTypes={week:a.a.string.isRequired},Vp.propTypes={children:a.a.node},zp.propTypes={children:a.a.node};var Yp={header:{width:"100%",padding:"0 28px"},categoryTitle:function(e){return function(t){return{width:"100%",textTransform:"capitalize",marginTop:0===e?"0px":t.spacing.md,paddingTop:0===e?"0px":t.spacing.md,borderTop:0===e?"none":"1px solid ".concat(t.divider.color)}}},cardCell:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({width:"100%",flex:"0 0 100%"},D.MEDIA_BREAKPOINTS.md,{width:"33.33%",flex:"0 0 33.33%",display:"flex",alignItems:"stretch"})},$p=n("moXp");function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zp(Object(n),!0).forEach((function(t){Jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tf=function(e){var t=e.week,n=Qp(Object(r.useState)(!0),2),i=n[0],o=n[1],a=Eo(),c=Object(_.b)(),u=Qp(Object(Oe.useContentful)([Oe.ADDON_ONBOARDING_POPUP_TITLE,Oe.ADDON_ONBOARDING_POPUP_COPY,Oe.ADDON_ONBOARDING_POPUP_CTA]),3),l=u[0],s=u[1],p=u[2],f=Object(ul.a)({trackAddOnsPopUpContinue:$p.b,trackAddOnsPopUpExit:$p.c});return Object(M.e)(en.Modal,{"data-test-addOns-onboarding-popup":!0,css:nf.modal,onRequestClose:function(){o(!1),f.trackAddOnsPopUpExit(t)},uniqueIdentifier:"addOns-onboarding-popup",isOpen:i,closeButtonClassName:nf.closeButton(c)},Object(M.e)("div",{css:nf.checker(c)},Object(M.e)(ft.CheckIconBold,{color:c.primaryColor})),Object(M.e)("h3",null,l),Object(M.e)("p",null,Object(Pe.interpolateString)(s,{deliveryDate:a})),Object(M.e)(P.c,{"data-modal-continue-button":!0,onClick:function(){o(!1),f.trackAddOnsPopUpContinue(t)},kind:D.BUTTON_TYPE.primary,css:nf.button},p))},nf={modal:function(e){return Jp({alignSelf:"flex-end",display:"flex",justifyContent:"center",width:"100% !important",height:"398px",maxWidth:"initial",textAlign:"center",borderRadius:e.borderRadius.md},D.MEDIA_BREAKPOINTS.lg,{borderRadius:e.borderRadius.xl,alignSelf:"center",width:"556px !important",height:"398px"})},closeButton:function(e){return{padding:"0",top:e.spacing.sm,right:e.spacing.sm,backgroundColor:"initial",": focus":{backgroundColor:"initial"},": hover":{backgroundColor:"initial"},"> svg":{width:"12px",height:"12px",path:{stroke:e.typography.body.color,strokeWidth:2,fill:e.typography.body.color}}}},checker:function(e){return Jp({display:"flex",justifyContent:"center",marginBottom:e.spacing.xl,"> svg":{width:32,height:24}},D.MEDIA_BREAKPOINTS.lg,{marginBottom:"48px","> svg":{width:32,height:24}})},button:function(e){return Xp(Xp({},e.typography.h4),{},Jp({flex:"0 0 100%",color:e.buttons.primary.textColor,paddingLeft:e.spacing.lg,paddingRight:e.spacing.lg},D.MEDIA_BREAKPOINTS.lg,{marginTop:e.spacing.sm}))}};tf.propTypes={week:a.a.string.isRequired};var rf=n("b5ju");function of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return af(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cf=n("NzDV"),uf=function(){var e=Object(R.b)().week,t=Object(Rc.v)({week:e}),n=t.shouldFetchActiveMenu,i=t.menu,o=void 0===i?{}:i,a=t.isFetched,c=Object(ye.r)(),u=c.isInEditMode,l=c.isEditingMenu,s=c.startEditingMenu,f=c.setInEditMode,d=Object(ye.s)(),b=d.saveEditingMenu,g=d.isSavePending,O=function(){var e=Object(ye.s)().finishEditMenu,t=Object(R.b)().week,n=Object(He.useTracking)({trackSkipAddOn:He.trackSkipAddOn}),r=Object(p.gb)().subscriptionId,i=Object(re.d)(ye.g),o=i.length-Object(re.d)(p.X),a=Object(re.d)((function(e){return Object(cf.b)({state:e,courseIndices:i.slice(-o)})}));return{skipAddOnWithTracking:function(){e(),n.trackSkipAddOn({hf_week:t,subscriptionId:r,recipeIds:a})}}}().skipAddOnWithTracking,y=function(){var e=of(Object(r.useState)(!1),2),t=e[0],n=e[1],i=of(Object(rf.a)("timesOpenedModalAddOnsOnboarding"),2),o=i[0],a=i[1];return Object(r.useEffect)((function(){o<2&&(n(!0),a(o+1))}),[]),{shouldOnboardingPopupMount:t}}().shouldOnboardingPopupMount;return Object(r.useEffect)((function(){e&&n()}),[e]),Object(r.useEffect)((function(){o.id&&!l&&(s({week:e,menuId:o.id}),f(!0))}),[o.id]),Object(M.e)(ql,null,y&&Object(M.e)(tf,{week:e}),u&&Object(M.e)(Fc,null),Object(M.e)(P.c,{isLoading:g,onClick:function(){return b({isAddOns:!0})}},"SAVE ADDONS!!!"),Object(M.e)(P.c,{onClick:O},"SKIP ADDONS!!!!!!"),a&&Object(M.e)(Gp,{week:e}),Object(M.e)(ku,null))},lf=n("zEWk"),sf=function(){var e=Object(R.b)().week,t=Object(x.J)({week:e}),n=function(){var e=Object(R.b)().week;return Object(re.d)((function(t){return Object(Ut.k)(t,{week:e})}))}(),r=Object(p.ib)(),i=Object(g.isFutureHFWeek)(e),o=Object(x.r)(t),a=Object(x.t)(t),c=Object(x.p)(t),u=Object(x.q)(t),l=Object(x.u)(t),s=Object(g.isFutureHFWeek)(e,r),f=Boolean(t);return{hasDelivery:f,isMissed:!f&&!i,isDelivered:o,isUpcoming:a&&c,isBlocked:u,isBlockedSkipped:l&&n,isComingSoon:s}},pf=function(e){var t=Object(re.d)(Tu.selectNavigationWeeks),n=ai()(t),i=Object(r.useMemo)((function(){return t.some((function(t){return t.week===e}))}),[e,t]);return n||i},ff=function(){var e,t,n=Object(R.b)().week,i=pf(n),o=(e=u.ROUTE_MY_MENU,t=Object(re.c)(),Object(r.useCallback)((function(){t({type:e})}),[e]));Object(r.useEffect)((function(){n&&!i&&o()}),[n,i])},df=function(){return Object(M.e)(C.a,{loadingFallback:Object(M.e)(ne,null)},Object(M.e)(bf,null))},bf=function(){var e,t,n,i,o,a,c,u,l;e=Object(Gn.b)(),t=e.fetchCustomer,n=e.isFetchCustomerFulfilled,i=Object(Yc.b)(),o=i.fetchSubscription,a=i.isFetchSubscriptionFulfilled,c=Object(Ue.b)().fetchDeliveries,u=Object(lf.a)().fetchReferralConfig,Object(r.useEffect)((function(){t(),o(),u()}),[]),Object(r.useEffect)((function(){n&&a&&c()}),[n,a]),l=Object(Yu.g)().setHeaderAttributes,Object(r.useEffect)((function(){return l({position:"absolute"}),function(){l({position:null})}}),[]),ff();var s=Object(R.b)().week,p=Object(R.a)().isAddOnView,f=Object(x.K)({week:s}),d=f.isDeliveryPending,b=f.isDeliveryFulfilled,g=sf(),O=g.hasDelivery,y=g.isDelivered,m=g.isBlocked,j=g.isBlockedSkipped,v=g.isComingSoon;return s&&(O||!d&&!(!b&&!d))?p?Object(M.e)(uf,null):y?Object(M.e)(Lp,null):m?Object(M.e)(As,null):j?Object(M.e)(ks,null):v?Object(M.e)(Bs,null):Object(M.e)(js,null):Object(M.e)(Ls,null)},gf=n("0qhQ"),Of=n("Ea+b"),yf=function(e){var t=e.children,n=Object(re.c)(),r=Object(Of.a)().hasSubscription,o=Object(R.b)().week;return i.a.useEffect((function(){r&&n(Object(gf.h)({type:yl.B,kind:"redirect",payload:{week:o||Object(g.getCurrentHFWeek)()}}))}),[]),t};yf.propTypes={children:a.a.node};var mf=yf,jf=n("WDeb"),vf=n("ntR3"),hf=n("ehx2");function Sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kf=function(e){var t=e.recipes,n=e.week,r=Object(He.useTracking)({trackRecipeClick:He.trackRecipeClick}),i=Object(Gn.a)().hasSubscriptions,o=function(e){r.trackRecipeClick({week:n,recipeId:e,page:"weeklymenu"})};return t.length?Object(M.e)(P.h,null,Object(M.e)($.Grid,null,t.map((function(e,t){return Object(M.e)($.Cell,{sm:{size:1},md:{size:.5},lg:{size:1/3},css:wf.cardCell,key:t},Object(M.e)(de.RecipeCard,{hasSubscriptions:i,recipe:e,disableSmall:!0,trackRecipeClick:o,week:n}))})))):Object(M.e)(te,{isMenuExpanded:!0})},wf={cardCell:function(e){var t;return Sf(t={marginBottom:e.spacing.st},D.MEDIA_BREAKPOINTS.md,{display:"flex",alignItems:"stretch"}),Sf(t,D.MEDIA_BREAKPOINTS.only("md"),{paddingRight:e.spacing.xs,paddingLeft:e.spacing.xs,marginBottom:e.spacing.md}),Sf(t,D.MEDIA_BREAKPOINTS.lg,{marginBottom:e.spacing.lg}),t}};kf.propTypes={recipes:a.a.array,week:a.a.string};var Ef=kf,If=n("uYdF");function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xf=function(e){var t=e.productFamilies,n=e.productFamily,r=e.onChange,i=Af(Object(Oe.useContentful)([Oe.PRODUCT_FAMILIES_TOGGLE_LABEL,Oe.PRODUCT_FAMILIES_TOGGLE_SELECT_TEXT]),2),o=i[0],a=i[1];return Object(M.e)("div",{css:Rf.container},Object(M.e)(If.Label,{css:Rf.label,text:o},Object(M.e)(If.Select,{css:Rf.select,onChange:function(e){var t=e.target.value;return r(t)},value:n},Object(M.e)("option",{value:""},a),t.map((function(e){return Object(M.e)("option",{key:e.handle,value:e.handle},e.name)})))))};xf.propTypes={productFamilies:a.a.array.isRequired,productFamily:a.a.string.isRequired,onChange:a.a.func.isRequired};var Cf,Rf={container:function(e){return{display:"flex",flexDirection:"column",marginBottom:e.spacing.lg}},label:{fontWeight:"bold"},select:{maxWidth:180,"& > select":{background:"white"}}},Pf=xf;function Df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mf=function(e){var t=e.recipes,n=e.entry,i=e.week,o=e.menuSize,a=e.shouldFetchPublicMenu,c=e.setHeaderAttributes,u=Object(hf.a)(),l=u.productFamilies,s=u.defaultProductFamily,p=_f(Object(r.useState)(s),2),f=p[0],d=p[1];Object(r.useEffect)((function(){a({week:i,exclude:"recipes.nutrition,recipes.cuisines",product:f})}),[i,f,a]),Object(r.useEffect)((function(){return c({position:"absolute"}),function(){c({position:null})}}),[c]);var b=l.length>1?Object(M.e)(Pf,{productFamilies:l,productFamily:f,onChange:d}):null;return Object(M.e)(r.Fragment,null,Object(M.e)(Js,null,Object(M.e)(Js.Title,null,n.getField("title")),!!o&&Object(M.e)(Js.Strapline,null,Object(Pe.interpolateString)(n.getField("strapline"),{menuSize:o}))),Object(M.e)(P.f,{css:Bf.contentContainer},b,Object(M.e)(Ef,{recipes:t,week:i})))},Bf={contentContainer:(Cf={position:"relative",paddingTop:"30px",paddingBottom:"30px",flex:"1 0 auto"},Df(Cf,D.MEDIA_BREAKPOINTS.md,{paddingBottom:"40px",backgroundColor:"transparent",boxShadow:"none"}),Df(Cf,D.MEDIA_BREAKPOINTS.lg,{paddingBottom:"60px"}),Cf)};Mf.propTypes={week:a.a.string.isRequired,recipes:a.a.array.isRequired,entry:a.a.object,menuSize:a.a.number,shouldFetchPublicMenu:a.a.func,setHeaderAttributes:a.a.func.isRequired};var Lf=Object(c.a)(Object(Oe.connect)((function(){return u.CONTENT_MENU_PUBLIC})),Object(l.a)((function(e,t){var n=t.week,r=Object(vf.a)(e,{week:n});return{recipes:r.recipes,menuSize:r.menuSize}}),{shouldFetchPublicMenu:vf.b,setHeaderAttributes:Yu.e}))(Mf),Uf={menusPage:function(e){return{flexGrow:1,display:"flex",flexDirection:"column",backgroundColor:e.pageLayout.main.backgroundColor}},menuContentContainer:{position:"relative",display:"flex",flexDirection:"column"},hide:{display:Object(D.important)("none")},container:{justifyContent:"center",color:D.COLORS.blackPale},recipesGrid:{paddingTop:Object(D.px)(D.PADDING.lg),position:"relative",zIndex:1},actionButtons:{paddingBottom:Object(D.px)(3*D.PADDING.xxl)}},Ff=n("BiNK"),Kf=n("NRKf"),Wf=n("Xz7I");function qf(){return(qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hf=function(e){var t=e.entry,n=e.isLoggedIn,i=e.hasActiveSubscriptions,o=e.hasCanceledSubscriptions,a=e.isCustomer,c=e.cartUserID,l=e.trackNavigationGetStartedClick,s=!a&&c?Object(M.e)(Wf.a,{size:D.BUTTON_SIZE.large}):Object(M.e)(P.c,qf({kind:D.BUTTON_TYPE.primary,element:Ze.Link,"data-funnel-cta":!0},function(e,t,n,r){return t?{action:{type:u.ROUTE_MY_MENU}}:n?{href:u.PATH_PLAN_REACTIVATION,onClick:function(){return r("reactivation")}}:e?{action:{type:u.ROUTE_CHECKOUT,payload:{page:u.PAGE_DELIVERY}},onClick:function(){return r("checkout-address")}}:{action:{type:u.ROUTE_PLANS}}}(n,i,o,l)),t.getField("ctaText"));return Object(M.e)(r.Fragment,null,Object(M.e)("div",{css:zf.stickyBorder}),Object(M.e)("div",{css:zf.buttonWrapper},s),Object(M.e)("div",{css:zf.wrapper},Object(M.e)($.Container,null,Object(M.e)("p",{css:zf.description},t.getField("secondTitle")))))};Hf.propTypes={entry:a.a.object,isCustomer:a.a.bool,cartUserID:a.a.string,isLoggedIn:a.a.bool,hasActiveSubscriptions:a.a.bool,hasCanceledSubscriptions:a.a.bool,trackNavigationGetStartedClick:a.a.func.isRequired};var zf={wrapper:{textAlign:"center"},description:function(e){return{margin:"".concat(e.spacing.xs,"px 0 ").concat(e.spacing.lg,"px 0")}},buttonWrapper:function(e){return{backgroundColor:e.pageLayout.main.backgroundColor,position:"sticky",padding:"".concat(e.spacing.xs,"px 0"),bottom:"0vw",textAlign:"center",zIndex:2}},stickyBorder:function(e){return{position:"sticky",bottom:"66px",height:"2px",marginTop:"".concat(e.spacing.xxs,"px"),marginBottom:"-2px",backgroundColor:e.palettes.grey.light}}},Vf=Object(c.a)(Object(Oe.connect)((function(){return u.CONTENT_MENU_PUBLIC})),Object(He.connect)({trackNavigationGetStartedClick:He.trackNavigationGetStartedClick}),Object(l.a)((function(e){return{isLoggedIn:Object(Ff.e)(e),hasActiveSubscriptions:Object(p.Q)(e),hasCanceledSubscriptions:Object(p.S)(e),cartUserID:Object(Kf.p)(e),isCustomer:Object(s.H)(e)}})))(Hf),Gf=n("YAsR"),Yf=n("2D1L"),$f=n("qZey"),Zf=function(){var e=Object(re.c)(),t=Object(R.a)().query,n=Object(re.d)(d.b),r=Object(re.d)(d.c),i=Object(re.d)(p.H),o=Object(re.d)(p.T),a=Object(re.d)(Fe.i);return{redirectToMyDeliveries:function(){return e(a?{type:u.ROUTE_DELIVERY_DASHBOARD}:{type:u.ROUTE_MENU_VIEW,payload:{week:O({firstWeek:n,lastWeek:r,nextModifiableWeek:i,nextDeliveryWeek:o})},query:t})}}};function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(n),!0).forEach((function(t){Qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ed=function(){var e=Object(Oe.useContentfulLegacy)((function(){return u.CONTENT_LOADING_SUBSCRIPTION})).entry,t=Object(p.hb)(),n=t.fetchSubscription,i=t.isFetchingSubscription,o=t.hasSubscriptions,a=Object(s.J)().fetchCustomer;Object(r.useEffect)((function(){var e=setInterval((function(){i||o||n().then((function(){return a(!0)}))}),3e3);return function(){clearInterval(e)}}),[]);var c=Zf().redirectToMyDeliveries,l=Yt().setShowOnboardingTooltip,f=Object($f.a)(),d=Object(re.d)(Fe.c);return Object(r.useEffect)((function(){o&&(l(),d>1?f().finally(c):c())}),[o]),Object(M.e)(Vc,null,Object(M.e)($.Container,null,Object(M.e)("div",{css:td.content},Object(M.e)("h1",{css:td.title},e.getField("title")),Object(M.e)("h3",null,e.getField("strapline")),Object(M.e)(fa.Image,{imageUrl:e.getField("imageUrl"),css:td.image,alt:e.getField("title")}))))},td={content:{padding:"40px",textAlign:"center"},title:function(e){return Jf(Jf({},Object(Yr.a)(e)),{},{margin:0})},image:function(e){return Qf({paddingTop:"3.5%",width:e.loadingSubscription.image.width},D.MEDIA_BREAKPOINTS.only("sm"),{width:e.loadingSubscription.image.width-100})}},nd=function(){return Object(M.e)(Gf.a,null,Object(M.e)(Yf.a,null,Object(M.e)(ed,null)))};function rd(e){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function id(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(e,t){return(ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ld(e);if(t){var i=ld(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ud(this,n)}}function ud(e,t){return!t||"object"!==rd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ld(e){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ad(e,t)}(o,e);var t,n,r,i=cd(o);function o(){return id(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.week,n=e.hasPendingSubscription;return!n&&(!(!t&&!n)||this.props.redirectTo({type:u.ROUTE_PUBLIC_MENU,payload:{week:Object(g.getCurrentHFWeek)()}}))}},{key:"render",value:function(){var e=this.props,t=e.week;return e.hasPendingSubscription?Object(M.e)(nd,null):t?Object(M.e)("div",{css:Uf.menusPage},Object(M.e)("div",{css:Uf.menuContentContainer},Object(M.e)(Nu,null),Object(M.e)($u,null),Object(M.e)(Lf,{week:t})),Object(M.e)(Vf,null),Object(M.e)(jf.ExitIntentVoucher,null)):Object(M.e)("div",null)}}])&&od(t.prototype,n),r&&od(t,r),o}(r.Component);sd.propTypes={week:a.a.string,hasPendingSubscription:a.a.bool,redirectTo:a.a.func};var pd=Object(c.a)(A,Object(l.a)((function(e){return{hasPendingSubscription:Object(p.G)(e),week:Object(f.I)(e)}}),{redirectTo:function(e){return e}}),c.e)(sd),fd=function(){return Object(M.e)(mf,null,Object(M.e)(pd,null))};function dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bd=function(e){var t;Object(Pe.isClient)()&&(t=document.querySelector("#chatButton"))&&(e.preventDefault(),t.click())},gd=function(e){var t=e.ctaUrl,n=e.ctaText;return Object(M.e)("a",{href:t,onClick:bd},n)};gd.propTypes={ctaUrl:a.a.string,ctaText:a.a.string};var Od=function(e){var t=e.title,n=e.strapline,r=e.secondTitle,i=e.ctaUrl,o=e.ctaText;return Object(M.e)(Vc,null,Object(M.e)($.Container,null,Object(M.e)("div",{css:yd.content},Object(M.e)("h1",{css:yd.title},t),Object(M.e)("h3",null,n),Object(M.e)("p",null,Object(M.e)(N.Interpolation,{input:r,replacement:{webChatCta:Object(M.e)(gd,{ctaText:o,ctaUrl:i})}})))))};Od.propTypes={title:a.a.string,secondTitle:a.a.string,strapline:a.a.string,ctaUrl:a.a.string,ctaText:a.a.string};var yd={title:dd({margin:"30px 0"},D.MEDIA_BREAKPOINTS.lg,{margin:"40px 0"}),content:dd({maxWidth:"700px",margin:"0 auto",padding:"10px 25px",textAlign:"center"},D.MEDIA_BREAKPOINTS.lg,{padding:"50px 0 40px"})},md=Object(c.a)(A,Object(Oe.connectAndTransform)((function(){return u.CONTENT_FAILED_SUBSCRIPTION}),{transform:function(e){var t=e.entry;return{title:t.getField("title"),secondTitle:t.getField("secondTitle"),strapline:t.getField("strapline"),ctaUrl:t.getField("ctaUrl"),ctaText:t.getField("ctaText")}}}))(Od),jd=function(){return Object(M.e)(Gf.a,null,Object(M.e)(md,null))}},uEXw:function(e,t,n){e.exports=n("hn/D")},yWrm:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("B42D"),i=n.n(r),o=function(e){return e.payment},a=function(e){return i()(o(e),["publicKeys","keys"],[])},c=function(e,t){var n=a(e).find((function(e){return e.provider===t}));return n&&n.key},u=function(e){return i()(o(e),["publicKeys","generationTime"],null)}},zEWk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("g0xT"),i=n("eAUU"),o=n("d8Sk"),a=function(){var e=Object(r.c)();return{fetchReferralConfig:function(){return e(Object(i.a)())},creditValue:Object(r.d)(o.b),discountValue:Object(r.d)(o.c)}}}}]);